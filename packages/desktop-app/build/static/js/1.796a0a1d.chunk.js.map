{"version":3,"sources":["pages/Logout.js"],"names":["i18n","init","Logout","props","history","useHistory","userAuth","useAppContext","buttonClick","e","a","Auth","signOut","Object","keys","window","localStorage","forEach","key","startsWith","removeItem","replace","console","log","title","__","progress","pr","mt","onClick"],"mappings":"sOAWAA,OAAKC,OAuCUC,UArCA,SAAAC,GACb,IAAMC,EAAUC,cACRC,EAAaC,0BAAbD,SAEFE,EAAW,uCAAG,WAAMC,GAAN,SAAAC,EAAA,+EAIVC,IAAKC,UAJK,OAKSC,OAAOC,KAAKC,OAAOC,cAE3BC,SAAQ,SAAAC,GACnBA,EAAIC,WAAW,oCACjBH,aAAaI,WAAWF,GAEtBA,EAAIC,WAAW,sBACjBH,aAAaI,WAAWF,MAI5BZ,GAAS,GACTF,EAAQiB,QAAQ,KAjBA,gDAqBhBC,QAAQC,IAAI,sBAAZ,MArBgB,yDAAH,sDAwBjB,OACE,cAAC,IAAD,CAAmBC,MAAOxB,OAAKyB,GAAG,UAAWC,SAAU,IAAKC,GAAI,GAAhE,SACE,cAAC,MAAD,CAAKC,GAAI,GAAT,SACE,cAAC,SAAD,CAAQC,QAASrB,EAAjB","file":"static/js/1.796a0a1d.chunk.js","sourcesContent":["import React from \"react\";\nimport { Box, Button } from \"@blend-ui/core\";\n\nimport ProgressContainer from \"../components/ProgressContainer\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { Auth } from \"aws-amplify\";\n//import { useAppContext } from \"../lib/contextLib\";\n\nimport { i18n, useAppContext } from \"@prifina-apps/utils\";\n//import i18n from \"../lib/i18n\";\ni18n.init();\n\nconst Logout = props => {\n  const history = useHistory();\n  const { userAuth } = useAppContext();\n\n  const buttonClick = async e => {\n    try {\n      //{ global: true });\n\n      await Auth.signOut();\n      const localStorageKeys = Object.keys(window.localStorage);\n\n      localStorageKeys.forEach(key => {\n        if (key.startsWith(\"CognitoIdentityServiceProvider.\")) {\n          localStorage.removeItem(key);\n        }\n        if (key.startsWith(\"CognitoIdentityId\")) {\n          localStorage.removeItem(key);\n        }\n      });\n\n      userAuth(false);\n      history.replace(\"/\");\n      // otherwise page is not reloaded....\n      // window.location.reload();\n    } catch (e) {\n      console.log(\"error signing out: \", e);\n    }\n  };\n  return (\n    <ProgressContainer title={i18n.__(\"Logout\")} progress={100} pr={19}>\n      <Box mt={50}>\n        <Button onClick={buttonClick}>Logout</Button>\n      </Box>\n    </ProgressContainer>\n  );\n};\n\nexport default Logout;\n"],"sourceRoot":""}