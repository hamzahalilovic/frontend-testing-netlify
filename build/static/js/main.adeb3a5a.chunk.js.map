{"version":3,"sources":["components lazy /^/.//.*Icon$/ groupOptions: {} namespace object","routes/AuthenticatedRoute.js","routes/UnauthenticatedRoute.js","components/CoreApps.js","routes/AppRouterDynamic.js","App.js","serviceWorker.js","index.js","assets/back-plate.png","pages/Landing.js","components/Notifications.js","components/FloatingUserMenu.js","components/PasswordField.js","assets/prifina.svg","pages/PhoneVerification.js","pages/Login.js","pages/ConfirmAuth.js","pages/Home.js","pages/FinalizingAccount.js","components/PhoneNumberField.js","pages/CreateAccount.js","components/DeclineDialog.js","pages/TermsOfUse.js","assets/email-envelope.svg","pages/EmailVerification.js","components/NotFoundPage.js","graphql/subscriptions.js","components/UserMenu.js","assets/background.png","assets/phone.svg","lib/contextLib.js","config.js","components/LogoutDialog.js","components/DefaultBackground.js","assets/display-app.svg","lib/passwords.js","lib/utils.js","graphql/api.js","assets/prifina-text.svg","components/PrifinaLogo.js","lib/componentUtils.js","graphql/queries.js","lib/locales/en.js","lib/i18n.js","graphql/mutations.js","components/ProgressContainer.js","pages lazy /^/.//.*$/ groupOptions: {} namespace object","lib/formFields.js"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","AuthenticatedRoute","children","rest","useLocation","pathname","search","useAppContext","isAuthenticated","currentUser","console","log","to","UnauthenticatedRoute","redirect","name","url","window","location","href","replace","results","RegExp","exec","decodeURIComponent","querystring","i18n","init","APIConfig","aws_appsync_graphqlEndpoint","config","appSync","aws_appsync_region","main_region","aws_appsync_authenticationType","AUTHConfig","mandatorySignIn","userPoolId","cognito","USER_POOL_ID","identityPoolId","IDENTITY_POOL_ID","userPoolWebClientId","APP_CLIENT_ID","region","appPaths","settings","Content","Component","initials","notificationCount","updateNotificationHandler","appSyncClient","activeUser","props","userMenu","useUserMenu","setClientHandler","setActiveUser","useEffect","show","effect","hover","width","notifications","RecentApps","onUpdate","withUsermenu","hasOwnProperty","useHistory","userAuth","app","coreApp","split","pop","appName","AppComponent","React","lazy","catch","useState","appReady","setAppReady","componentProps","useRef","addressBook","lastActivity","Date","getTime","notificationHandler","subscriptionHandler","settingsReady","setSettingsReady","Auth","configure","Amplify","createClient","endpoint","AWSAppSyncClient","auth","type","AUTH_TYPE","AWS_IAM","credentials","currentCredentials","disableOffline","a","currentSession","session","idToken","payload","prifinaID","getPrifinaUserQuery","GRAPHQL","currentPrifinaUser","appProfile","JSON","parse","data","getPrifinaUser","clientEndpoint","clientRegion","client","current","uuid","query","gql","getAddressBook","variables","addressBookResult","getUserAddressBook","forEach","user","getPrifinaWidgetsQuery","prifinaWidgets","getPrifinaApp","widgets","widgetData","installedWidgets","widgetCounts","w","defaultValues","v","value","length","k","field","currentSetting","widget","installCount","appID","title","widgetConfigData","GraphQLClient","getNotificationCount","filter","owner","eq","status","notificationCountResult","mutate","mutation","updateActivity","activeApp","subscribe","newNotification","next","res","error","warn","unsubscribe","updateNotification","useCallback","handler","stage","Context","PrifinaContext","remoteUser","opts","msg","createMessage","receiver","remoteClient","addNotification","input","body","sender","Suspense","fallback","Home","Logout","path","exact","Landing","component","NotFoundPage","GlobalStyle","createGlobalStyle","baseStyles","initAuth","newAuth","signIn","withRouter","userAgent","navigator","mobile","Boolean","match","mobileApp","maxD","Math","max","screen","availWidth","availHeight","min","useReducer","state","newState","isAuthenticating","setState","_currentUser","_currentSession","token","getIdToken","username","organization","onLoad","Provider","Fragment","hostname","render","document","getElementById","serviceWorker","ready","registration","unregister","message","StyledBox","styled","Box","colors","baseWhite","StyledBackground","Background","StyledPlate","Plate","useTheme","initStep","stepCounter","setStepCounter","accountFields","setAccountFields","minWidth","minHeight","display","height","zIndex","ml","mt","fontSize","lineHeight","__","as","alignItems","color","baseSecondary","pr","iconify","bxChevronRight","componentPrimary","size","FinalizingAccount","justifyContent","position","right","top","CreateAccount","finalStep","Login","StyledNotification","StyledBar","Flex","StyledTitleText","Text","StyledDateText","StyledNotificationText","StyledNotificationFooterText","StyledNotificationHeader","StyledSelect","Select","NotificationHeader","selectOnChange","buttonOnClick","closeClick","options","flexDirection","bxChevronRightCircle","onClick","style","cursor","variation","onChange","NotificationCard","AppIcon","date","footer","p","Base","div","theme","space","MenuBase","IconBar","UserMenuContext","createContext","ModalDiv","Badge","span","isOpen","menuContext","useContext","useMemo","UserMenuContextProvider","offset","onExit","onHome","defaultTheme","setUserMenu","setIsOpen","isMountedRef","useIsMountedRef","iconButtons","setIconButtons","setNotificationCount","notificationTypeList","useId","_id","portalId","menuId","root","totalNotifications","notificationCards","setNotificationCards","clientHandler","notificationList","listNotificationsByDate","sortDirection","cardList","items","c","i","mb","DisplayAppIcon","createdAt","toLocaleString","iconClick","buttons","ic","list","createElement","appendChild","removeChild","cnt","random","toString","substr","menuOptions","menu","baseProps","positionOption","container","src","avatar","alt","curson","margin","prev","borderRadius","marginLeft","boxShadow","background","left","logoutIcon","bxBell","bxHistory","marginRight","bxHome","marginTop","overflowY","UnorderedList","ul","ListItem","li","verified","baseMuted","PopperContainer","boxShadows","mergeRefs","refs","filteredRefs","inst","ref","PasswordField","forwardRef","placeholder","addPopper","verifications","referenceElement","setReferenceElement","popperElement","setPopperElement","hidePassword","setHidePassword","arrowElement","setArrowElement","usePopper","placement","modifiers","element","styles","attributes","onHide","preventDefault","popperStyles","popper","arrow","className","bold","passwordLength","LeftIcon","bxLockAlt","InputField","RightIcon","bxHide","eyeIcon","_path","_extends","assign","target","arguments","source","key","prototype","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgPrifina","_ref","svgRef","titleId","viewBox","fill","xmlns","fillRule","clipRule","d","ForwardRef","PhoneVerification","invalidLink","useAccountContext","nextStepAction","alerts","useToast","useFormFields","verificationCode","verificationFields","handleChange","useFocus","inputCode","inputError","setInputError","verifyClick","userCode","join","getVerificationQuery","API","result","getVerification","resendClick","sendVerificationMutation","stringify","userId","clientId","phone_number","given_name","info","duration","progress","textStyle","m","bxKey","onKeyDown","validCode","onlyDigitChars","errorMsg","check","some","alert","checkInput","mr","disabled","history","appDebug","process","REACT_APP_DEBUG","password","loginFields","usernameError","setUsernameError","passwordError","setPasswordError","inputUsername","setInputUsernameFocus","inputPassword","setInputPasswordFocus","setInvalidLogin","confirmCode","setConfirmCode","authOptions","setAuthOptions","loginClick","preferredMFA","setPreferredMFA","mfa","challengeName","setAuth","checkUsername","userMsg","userState","validUsername","usernameLength","checkPassword","onBlur","checkResult","lowerCaseChars","upperCaseChars","digitChars","hasNonChars","hasSpaces","backButton","bxUser","autoFocus","onFocus","ConfirmAuth","confirmationCode","confirmationFields","confirmClick","confirmSignIn","loggedUser","appIcons","loadingStatus","prifinaApps","installedAppIcons","setInstalledAppIcons","installedApps","setInstalledApps","subscribeNotification","userClient","getPrifinaAppsQuery","prifinaAppsData","prifinaAppsJSON","apps","installedAppsJSON","fetchData","timeoutId","isMounted","resizeListener","clearTimeout","setTimeout","innerHeight","addEventListener","removeEventListener","appImports","all","components","appComponents","default","displayName","iconCols","ceil","gridCols","repeat","array","chunk_size","maxColHeight","Array","isNaN","_","index","begin","slice","opacity","useSpring","from","interpolate","columns","flow","icons","colIndex","appIcon","pos","route","push","userData","initClient","setInitClient","LoaderBox","abortController","AbortController","_newUser","accountPassword","email","emailVerified","phoneVerified","family_name","lastName","firstName","signUp","abort","textAlign","componentStyles","base","text","muted","backgroundColor","borders","errorinput","border","active","InputContext","useInputContext","PhoneNumberField","isIcon","item","isIconButton","formatIds","select","selectId","inputId","promptMsg","Children","toArray","child","boxRef","createRef","undefined","bxPhone","baseError","SelectField","defaultValue","searchLength","showList","selectOption","paddingTop","containerRef","containerOffset","paddingLeft","sizeOptions","paddingRight","RegionField","uuidv4","selectOptions","initUser","setCurrentUser","registerStep","setRegisterStep","nextDisabled","setNextDisabled","passwordVerification","setPasswordVerification","valid","phoneNumber","passwordConfirm","regionCode","termsAccepted","inputSelect","inputEmail","setInputEmailFocus","inputPhone","setInputPhoneFocus","inputFirstname","setInputFirstnameFocus","inputLastname","setInputLastnameFocus","setAddPopper","checkPhoneAttr","phone","phoneOpts","addRegionCode","checkCognitoAttributeQuery","phoneAlert","phoneState","checkPhone","changeNumber","toLowerCase","startsWith","isValidNumber","nationalNumber","checkCognitoAttribute","returnState","checkEmailAttr","emailAlert","emailState","checkEmail","validEmail","userNameAlert","userError","checkUsernameQuery","isPasswordPossible","checkConfirmPassword","confirmStatus","checkInputPassword","checkPasswordQuality","countryList","cc","countryCode","regionName","searchValue","textMuted","pl","getCountryCodeQuery","userCountry","getCountryCode","cIndex","findIndex","event","activeElement","fld","passwordCheck","passwordCheckResult","accountContext","step","invalidVerificationLink","EmailVerification","TermsOfUse","ProgressContainer","tabIndex","stopPropagation","checkStatus","autoComplete","bxEnvelope","valuesChecked","emailChecked","phoneChecked","usernameChecked","promises","nextButtonClick","DeclineDialog","onClose","onButtonClick","dialogOpen","setDialogOpen","closeOnEsc","closeOnOutsideClick","action","scrollBehavior","colorStyle","baseTertiary","texts","scrolled","setScrolled","decline","setDecline","onScroll","scrollHeight","scrollTop","clientHeight","t","_rect","_rect2","_rect3","_rect4","_rect5","_path2","_path3","_path4","_path5","_path6","_path7","_path8","SvgEmailEnvelope","y","x","rx","stroke","WrappedComponent","WithUsermenu","logout","setLogout","onDialogClick","signOut","SvgPhone","AppContext","AccountContext","API_KEY","REACT_APP_API_KEY","SEARCH_ENGINE","REACT_APP_SEARCH_ENGINE","GOOGLE_URL","prod","auth_region","REACT_APP_AUTH_REGION","REACT_APP_MAIN_REGION","REACT_APP_POOL_ID","REACT_APP_APP_CLIENT_ID","DEV_CLIENT_ID","REACT_APP_DEV_CLIENT_ID","SERVICE_CLIENT_ID","REACT_APP_SERVICE_CLIENT_ID","REACT_APP_IDENTITY_POOL_ID","REACT_APP_APPSYNC_GRAPHQL_ENDPOINT","REACT_APP_APPSYNC_AUTH_TYPE","S3","bucket","dev","REACT_APP_STAGE","support","LogoutDialog","_g","_defs","SvgDisplayApp","filterUnits","colorInterpolationFilters","floodOpacity","in","values","dy","stdDeviation","mode","in2","x1","y1","x2","y2","gradientUnits","stopColor","pwList","countries","require","registerLocale","emailRegex","test","String","str","requiredLength","checkList","listResult","getCountries","unSupportedRegionCodes","supportedCountries","cName","getName","getCountryCallingCode","parsedPhoneNumber","parsePhoneNumber","country","countryCallingCode","number","installWidgetMutation","graphql","installWidget","authMode","subject","sendVerification","user_code","userName","attrName","attrValue","poolID","getPrifinaApps","getPrifinaWidgets","SvgPrifinaText","PrifinaLogo","htmlElRef","focus","getInstalledApps","en","cancelButton","nextButton","signInButton","declineButton","approveButton","accountButton","verifyButton","confirmButton","loginButton","logoutButton","registerButton","loginLink","invalidEntry","invalidPhoneNumber","invalidRegion","invalidEmail","usernameExists","usernameError2","invalidPassword","passwordQuality","createAccountTitle","firstNamePlaceholder","lastNamePlaceholder","usernamePlaceholder","emailPlaceholder","emailPrompt","phoneNumberPlaceholder","phonePrompt","passwordPlaceholder","confirmPlaceholder","existingAccount","acceptTerms","loginWelcomeMessage","loginLandingPage","welcomeMessage","landingPage","landingPageInfo","termsTitle","termsLastUpdated","agreeementTitle","agreementText","serviceTitle","serviceText","accountsTitle","accountsText","dataTitle","dataText","materialsTitle","materialsText","codeDigitsError","codeLengthError","verificationTitle","phoneVerificationTitle","phoneVerificationText","phoneVerificatioSent","codePropmt","codeMissing","sendAgainLinkText","invalidCode","verifySUpportLink","emailVerificationTitle","emailVerificationText","emailMissing","emailVerificatioSent","declineTitle","declineText","loginPage","invalidLogin","forgotUsername","forgotPassword","createAccount","confirmTitle","authConfirmTitle","authConfirmationText","logoutTitle","logoutText","resetPasswordTitle","resetPasswordText","sentCodeText","i18nTranslate","lng","I18n","putVocabularies","enStrings","setLanguage","phrase","get","r","verifyCode","addSearchResult","addSearchKey","createNotification","borderTopLeftRadius","borderTopRightRadius","pb","initialState","fields","setValues"],"mappings":"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","file":"static/js/main.adeb3a5a.chunk.js","sourcesContent":["var map = {\n\t\"./AppIcon\": [\n\t\t1043,\n\t\t22\n\t],\n\t\"./AppMarketIcon\": [\n\t\t1045,\n\t\t15\n\t],\n\t\"./DataConsoleIcon\": [\n\t\t1046,\n\t\t16\n\t],\n\t\"./DevConsoleIcon\": [\n\t\t1047,\n\t\t17\n\t],\n\t\"./DisplayAppIcon\": [\n\t\t1044,\n\t\t18\n\t],\n\t\"./ProfileCardsIcon\": [\n\t\t1048,\n\t\t19\n\t],\n\t\"./SettingsIcon\": [\n\t\t1049,\n\t\t20\n\t],\n\t\"./SmartSearchIcon\": [\n\t\t1050,\n\t\t21\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 1038;\nmodule.exports = webpackAsyncContext;","/* eslint-disable react/forbid-prop-types */\nimport React from \"react\";\nimport { Route, Redirect, useLocation } from \"react-router-dom\";\nimport { useAppContext } from \"../lib/contextLib\";\n\nimport PropTypes from \"prop-types\";\n\nexport default function AuthenticatedRoute({ children, ...rest }) {\n  const { pathname, search } = useLocation();\n  const { isAuthenticated, currentUser } = useAppContext();\n  //const schemaId = localStorage.getItem(\"builderDefaultSchemaId\");\n  console.log(\"AUTH ROUTE \", isAuthenticated, currentUser);\n  return (\n    <Route {...rest}>\n      {isAuthenticated ? (\n        children\n      ) : (\n        <Redirect to={`/login?redirect=${pathname}${search}`} />\n      )}\n    </Route>\n  );\n}\n\nAuthenticatedRoute.propTypes = {\n  children: PropTypes.object.isRequired,\n};\n","/* eslint-disable react/forbid-prop-types */\nimport React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { useAppContext } from \"../lib/contextLib\";\n\nimport PropTypes from \"prop-types\";\n\nfunction querystring(name, url = window.location.href) {\n  name = name.replace(/[[]]/g, \"\\\\$&\");\n\n  const regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\", \"i\");\n  const results = regex.exec(url);\n\n  if (!results) {\n    return null;\n  }\n  if (!results[2]) {\n    return \"\";\n  }\n\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\nexport default function UnauthenticatedRoute({ children, ...rest }) {\n  const { isAuthenticated } = useAppContext();\n  const redirect = querystring(\"redirect\");\n  //const schemaId = localStorage.getItem(\"builderDefaultSchemaId\");\n  console.log(\"UN AUTH \", isAuthenticated);\n  let landingPage = \"/\";\n\n  return (\n    <Route {...rest}>\n      {!isAuthenticated ? (\n        children\n      ) : (\n        <Redirect\n          to={redirect === \"\" || redirect === null ? landingPage : redirect}\n        />\n      )}\n    </Route>\n  );\n}\n\nUnauthenticatedRoute.propTypes = {\n  children: PropTypes.object.isRequired,\n};\n","/* eslint-disable react/forbid-prop-types */\n/* eslint-disable react/display-name */\n/* eslint-disable react/no-multi-comp */\n\nimport React, { useRef, useState, useEffect, useCallback } from \"react\";\nimport { PrifinaProvider, PrifinaContext } from \"@prifina/hooks\";\n\nimport i18n from \"../lib/i18n\";\n\nimport Amplify, { Auth, API as GRAPHQL } from \"aws-amplify\";\nimport { getPrifinaWidgetsQuery, getPrifinaUserQuery } from \"../graphql/api\";\n\nimport {\n  createNotification,\n  updateActivity,\n  addNotification,\n} from \"../graphql/mutations\";\n\nimport { newNotification } from \"../graphql/subscriptions\";\n\nimport {\n  listNotifications,\n  getNotificationCount,\n  getAddressBook,\n} from \"../graphql/queries\";\n\nimport gql from \"graphql-tag\";\n\nimport config from \"../config\";\n\nimport AWSAppSyncClient, { AUTH_TYPE } from \"aws-appsync\";\nimport { useLocation, useHistory } from \"react-router-dom\";\n/*\nimport {\n  UserMenuContextProvider,\n  useUserMenu,\n} from \"@blend-ui/floating-user-menu\";\n*/\n\nimport withUsermenu from \"./UserMenu\";\n\n//import UserMenuContextProvider, { useUserMenu } from \"./FloatingUserMenu\";\nimport { useUserMenu } from \"./FloatingUserMenu\";\n\nimport LogoutDialog from \"./LogoutDialog\";\nimport { useAppContext } from \"../lib/contextLib\";\n\nimport PropTypes from \"prop-types\";\n//import DisplayApp from \"../pages/DisplayApp\";\n\n//const DisplayApp = React.lazy(() => import(\"../pages/DisplayApp\"));\n\ni18n.init();\n\nconst APIConfig = {\n  aws_appsync_graphqlEndpoint: config.appSync.aws_appsync_graphqlEndpoint,\n  aws_appsync_region: config.main_region,\n  aws_appsync_authenticationType: config.appSync.aws_appsync_authenticationType,\n};\n\nconst AUTHConfig = {\n  // To get the aws credentials, you need to configure\n  // the Auth module with your Cognito Federated Identity Pool\n  mandatorySignIn: false,\n  userPoolId: config.cognito.USER_POOL_ID,\n  identityPoolId: config.cognito.IDENTITY_POOL_ID,\n  userPoolWebClientId: config.cognito.APP_CLIENT_ID,\n  region: config.main_region,\n};\n/*\nconst S3Config = {\n  AWSS3: {\n    bucket: config.S3.bucket, //REQUIRED -  Amazon S3 bucket name\n    region: config.S3.region, //OPTIONAL -  Amazon service region\n  },\n};\n*/\n\nconst appPaths = {\n  \"display-app\": \"DisplayApp\",\n  settings: \"Settings\",\n  \"app-market\": \"AppMarket\",\n  \"dev-console\": \"DevConsole\",\n  \"data-console\": \"DataConsole\",\n  \"profile-cards\": \"ProfileCards\",\n  \"smart-search\": \"SmartSearch\",\n};\n\nconst importApp = appName => {\n  console.log(\"APP \", appName);\n  return React.lazy(() =>\n    import(\"../pages/\" + appName).catch(() => import(\"./NotFoundPage\")),\n  );\n};\n\nconst Content = ({\n  Component,\n  initials,\n  notificationCount,\n  updateNotificationHandler,\n  /*clientHandler,*/\n  appSyncClient,\n  activeUser,\n  ...props\n}) => {\n  const userMenu = useUserMenu();\n  console.log(\n    \"USERMENU CORE APP INIT  \",\n    { ...props },\n    initials,\n    notificationCount,\n  );\n  userMenu.setClientHandler(appSyncClient);\n  userMenu.setActiveUser(activeUser);\n  useEffect(() => {\n    userMenu.show({\n      initials: initials,\n      effect: { hover: { width: 42 } },\n      notifications: notificationCount,\n      RecentApps: [],\n    });\n    //console.log(RecentApps);\n  }, []);\n\n  updateNotificationHandler(userMenu.onUpdate);\n  return <Component appSyncClient={appSyncClient} {...props} />;\n};\n\nContent.propTypes = {\n  Component: PropTypes.elementType.isRequired,\n  initials: PropTypes.string,\n  notificationCount: PropTypes.number,\n  updateNotificationHandler: PropTypes.func,\n  appSyncClient: PropTypes.object,\n  activeUser: PropTypes.object,\n};\nconst CoreApps = props => {\n  console.log(\"CORE COMPONENT --->\", props, props.hasOwnProperty(\"app\"));\n  const history = useHistory();\n  const { userAuth } = useAppContext();\n  const { app } = props;\n  let coreApp = \"\";\n  if (app) {\n    coreApp = app;\n  } else {\n    const { pathname, search } = useLocation();\n    coreApp = appPaths[pathname.split(\"/\").pop()];\n  }\n  //console.log(\"CORE \", path.pop());\n  //console.log(\"CORE \", pathname, search);\n  //console.log(\"CORE \", search);\n  const AppComponent = importApp(coreApp);\n\n  const [appReady, setAppReady] = useState(false);\n\n  const componentProps = useRef({});\n  //const data = useRef([]);\n  const activeUser = useRef({});\n  const addressBook = useRef({});\n  const lastActivity = useRef(new Date().getTime());\n  const notificationCount = useRef(0);\n  const notificationHandler = useRef(null);\n  const subscriptionHandler = useRef(null);\n  //const clientHandler = useRef(null);\n  const [settingsReady, setSettingsReady] = useState(false);\n\n  Auth.configure(AUTHConfig);\n  Amplify.configure(APIConfig);\n  //Amplify.configure(S3Config);\n  console.log(\"AUTH CONFIG \", AUTHConfig);\n\n  const createClient = (endpoint, region) => {\n    const client = new AWSAppSyncClient({\n      url: endpoint,\n      region: region,\n      auth: {\n        type: AUTH_TYPE.AWS_IAM,\n        credentials: () => Auth.currentCredentials(),\n      },\n\n      disableOffline: true,\n    });\n    return client;\n  };\n\n  const subscribeNotification = (userClient, variables) => {\n    return userClient\n      .subscribe({ query: gql(newNotification), variables: variables })\n      .subscribe({\n        next: res => {\n          console.log(\"NOTIFICATION SUBS RESULTS \", res);\n          if (res.data.newNotification.owner !== \"\") {\n            notificationHandler.current(1);\n          }\n          /*\n        {\n          \"data\": {\n            \"newNotification\": {\n              \"notificationId\": \"0e136c0f-6975-4f22-a68c-d1a171d4e7ce\",\n              \"owner\": \"0cc3bc47d8a60c8a0f6f35a9134c689e0a8c\"\n            }\n          }\n        }\n        */\n        },\n        error: error => {\n          console.warn(error);\n        },\n      });\n  };\n\n  /*\n  // get user auth...\n  */\n  useEffect(async () => {\n    try {\n      const session = await Auth.currentSession();\n      /*\n      const user = await Auth.currentAuthenticatedUser();\n      console.log(\"USER \", user);\n      if (!user) {\n        console.log(\"NO CURRENT USER FOUND\");\n      }\n      */\n      console.log(\"SESSION \", session);\n      if (!session) {\n        console.log(\"NO CURRENT SESSION FOUND\");\n      }\n      console.log(\"PRIFINA-ID\", session.idToken.payload[\"custom:prifina\"]);\n      const prifinaID = session.idToken.payload[\"custom:prifina\"];\n\n      const currentPrifinaUser = await getPrifinaUserQuery(GRAPHQL, prifinaID);\n\n      console.log(\"CURRENT USER \", currentPrifinaUser);\n      const appProfile = JSON.parse(\n        currentPrifinaUser.data.getPrifinaUser.appProfile,\n      );\n      console.log(\"CURRENT USER \", appProfile, appProfile.initials);\n\n      // should get this from user ....\n      /*\n      const client = createClient(\n        APIConfig.aws_appsync_graphqlEndpoint,\n        APIConfig.aws_appsync_region,\n      );\n*/\n      let clientEndpoint =\n        \"https://kxsr2w4zxbb5vi5p7nbeyfzuee.appsync-api.us-east-1.amazonaws.com/graphql\";\n      let clientRegion = \"us-east-1\";\n\n      if (appProfile.hasOwnProperty(\"endpoint\")) {\n        clientEndpoint = appProfile.endpoint;\n        clientRegion = appProfile.region;\n      }\n\n      const client = createClient(clientEndpoint, clientRegion);\n\n      activeUser.current = {\n        name: appProfile.name,\n        uuid: prifinaID,\n        endpoint: clientEndpoint,\n        region: clientRegion,\n      };\n\n      console.log(\"APP NAME \", coreApp);\n      // app component props\n      if (coreApp === \"DisplayApp\") {\n        const addressBookResult = await client.query({\n          query: gql(getAddressBook),\n          variables: {\n            id: prifinaID,\n          },\n        });\n\n        //console.log(addressBookResult);\n\n        if (\n          addressBookResult.data.getUserAddressBook.hasOwnProperty(\n            \"addressBook\",\n          ) &&\n          addressBookResult.data.getUserAddressBook.addressBook !== null\n        ) {\n          JSON.parse(\n            addressBookResult.data.getUserAddressBook.addressBook,\n          ).forEach(user => {\n            addressBook.current[user.uuid] = {\n              name: user.name,\n              endpoint: user.endpoint,\n              region: user.region,\n            };\n          });\n        }\n\n        const prifinaWidgets = await getPrifinaWidgetsQuery(GRAPHQL, \"WIDGETS\");\n        console.log(\n          \"CURRENT CONFIG \",\n          JSON.parse(prifinaWidgets.data.getPrifinaApp.widgets),\n        );\n\n        const widgetData = JSON.parse(\n          prifinaWidgets.data.getPrifinaApp.widgets,\n        );\n\n        let data = [];\n        if (\n          currentPrifinaUser.data.getPrifinaUser.hasOwnProperty(\n            \"installedWidgets\",\n          ) &&\n          currentPrifinaUser.data.getPrifinaUser.installedWidgets !== null\n        ) {\n          const installedWidgets = JSON.parse(\n            currentPrifinaUser.data.getPrifinaUser.installedWidgets,\n          );\n\n          let widgetCounts = {};\n          data = installedWidgets.map(w => {\n            if (widgetCounts.hasOwnProperty(w.name)) {\n              widgetCounts[w.name]++;\n            } else {\n              widgetCounts[w.name] = 0;\n            }\n            let defaultValues = {};\n            if (widgetData[w.name].settings) {\n              widgetData[w.name].settings.forEach(v => {\n                // if type=text...\n                defaultValues[v.value] = \"\";\n              });\n\n              if (w.hasOwnProperty(\"settings\") && w.settings.length > 0) {\n                console.log(\"SETTINGS FOUND \", w);\n                w.settings.forEach(k => {\n                  if (defaultValues.hasOwnProperty(k.field)) {\n                    defaultValues[k.field] = k.value;\n                  }\n                });\n              }\n              /*\n              if (installedWidgets[w].length > 0) {\n                //console.log(\"SEETINGS FOUND \", w.widget.appID);\n                installedWidgets[w].forEach(i => {\n                  if (defaultValues.hasOwnProperty(i.field)) {\n                    defaultValues[i.field] = i.value;\n                  }\n                });\n              }\n              */\n            }\n\n            return {\n              url: widgetData[w.name].url,\n              settings: widgetData[w.name].settings.length > 0,\n              currentSetting: defaultValues,\n              widget: {\n                settings: widgetData[w.name].settings,\n                installCount: widgetCounts[w.name],\n                appID: w.name,\n                name: widgetData[w.name].name,\n                title: widgetData[w.name].title,\n              },\n            };\n            /*\n          {\n            url: widgetData[w].url,\n            settings: widgetData[w].settings.length > 0,\n            currentSetting: defaultValues,\n            widget: {\n              settings: widgetData[w].settings,\n              appID: w,\n              name: widgetData[w].name,\n              title: widgetData[w].title,\n            },\n          };*/\n          });\n        }\n        console.log(\"ADDRESS BOOK \", addressBook.current);\n\n        console.log(\"CURRENT SETTINGS 2\", data, appProfile, client);\n        componentProps.current.appSyncClient = client;\n        componentProps.current.widgetConfigData = data;\n        componentProps.current.prifinaID = prifinaID;\n        componentProps.current.initials = appProfile.initials;\n      } else {\n        // default componentProps...\n        console.log(\"CURRENT SETTINGS 2\", client);\n        componentProps.current.GraphQLClient = GRAPHQL;\n        componentProps.current.appSyncClient = client;\n        componentProps.current.prifinaID = prifinaID;\n        componentProps.current.initials = appProfile.initials;\n      }\n\n      /*\nquery MyQuery2 {\n  getNotificationCount(filter: {owner: {eq: \"0cc3bc47d8a60c8a0f6f35a9134c689e0a8c\"}})\n}\n*/\n\n      // notificationCount...\n      const notificationCountResult = await client.query({\n        query: gql(getNotificationCount),\n        variables: {\n          filter: {\n            owner: { eq: prifinaID },\n            status: { eq: 0 },\n          },\n        },\n      });\n      console.log(\"COUNT \", notificationCountResult);\n      notificationCount.current =\n        notificationCountResult.data.getNotificationCount;\n\n      componentProps.current.notificationCount = notificationCount.current;\n\n      lastActivity.current = new Date().getTime();\n      await client.mutate({\n        mutation: gql(updateActivity),\n        variables: {\n          id: prifinaID,\n          activeApp: coreApp,\n        },\n      });\n      subscriptionHandler.current = subscribeNotification(client, {\n        owner: prifinaID,\n      });\n\n      //clientHandler.current = client;\n\n      //setAppReady(false);\n      setSettingsReady(true);\n    } catch (e) {\n      if (typeof e === \"string\" && e === \"No current user\") {\n        //const user = await Auth.signIn(\"tahola\", \"xxxx\");\n        //console.log(\"AUTH \", user);\n        //console.log(\"APP DEBUG \", appCode);\n      }\n\n      console.log(\"AUTH \", e);\n    }\n\n    return () => {\n      // unsubscribe...\n      subscriptionHandler.unsubscribe();\n    };\n  }, []);\n\n  useEffect(() => {\n    if (settingsReady) {\n      console.log(\"SETTINGS \", activeUser, componentProps);\n      setAppReady(true);\n    }\n  }, [settingsReady]);\n\n  const remoteUser = opts => {\n    console.log(\"REMOTE USER \", opts);\n    console.log(\"ADDRESS BOOK \", addressBook.current);\n    const msg = opts.createMessage;\n    const receiver = msg.receiver;\n\n    const { endpoint, region } = addressBook.current[receiver];\n    const remoteClient = createClient(endpoint, region);\n    console.log(remoteClient);\n    return remoteClient.mutate({\n      mutation: gql(addNotification),\n      variables: {\n        input: {\n          body: msg.body,\n          owner: receiver,\n          type: \"MESSAGING\",\n          sender: msg.sender,\n          app: coreApp,\n        },\n      },\n    });\n  };\n  const remoteClient = (endpoint, region) => {\n    return createClient(endpoint, region);\n  };\n\n  const updateNotification = useCallback(handler => {\n    notificationHandler.current = handler;\n  }, []);\n  console.log(\"ACTIVE USER \", activeUser.current);\n  return (\n    <>\n      {appReady && coreApp === \"DisplayApp\" && (\n        <PrifinaProvider\n          stage={\"alpha\"}\n          Context={PrifinaContext}\n          activeUser={activeUser.current}\n          activeApp={coreApp}\n          remoteUser={remoteUser}\n          remoteClient={remoteClient}\n        >\n          <React.Suspense fallback={\"Loading ...\"}>\n            <Content\n              Component={AppComponent}\n              {...componentProps.current}\n              updateNotificationHandler={updateNotification}\n              activeUser={activeUser.current}\n            />\n          </React.Suspense>\n        </PrifinaProvider>\n      )}\n      {appReady && coreApp !== \"DisplayApp\" && (\n        <React.Suspense fallback={\"Loading ...\"}>\n          <Content\n            Component={AppComponent}\n            {...componentProps.current}\n            updateNotificationHandler={updateNotification}\n            activeUser={activeUser.current}\n          />\n        </React.Suspense>\n      )}\n      {!appReady && <div />}\n    </>\n  );\n};\n\nCoreApps.propTypes = {\n  app: PropTypes.string,\n};\n\nexport default withUsermenu()(CoreApps);\n","/* eslint-disable react/display-name */\nimport React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport NotFoundPage from \"../components/NotFoundPage\";\n\nimport AuthenticatedRoute from \"./AuthenticatedRoute\";\nimport UnauthenticatedRoute from \"./UnauthenticatedRoute\";\n//import AppliedRoute from \"./AppliedRoute\";\n\n//const Dashboard = React.lazy(() => import(\"../components/Dashboard\"));\n//const Login = React.lazy(() => import(\"../components/Login\"));\nconst Home = React.lazy(() => import(\"../pages/Home\"));\n//import Home from \"../pages/Home\";\n//const Settings = React.lazy(() => import(\"../pages/Settings\"));\nconst Logout = React.lazy(() => import(\"../pages/Logout\"));\nimport CoreApps from \"../components/CoreApps\";\nimport Landing from \"../pages/Landing\";\n\nexport default props => (\n  <React.Suspense fallback={\"Loading routing...\"}>\n    <Switch>\n      {/* \n      <AppliedRoute path=\"/\" exact>\n        <Landing />\n      </AppliedRoute>\n      <AppliedRoute path=\"/home\" exact>\n        <Home />\n      </AppliedRoute>\n      */}\n      <AuthenticatedRoute path=\"/core/:app\" exact>\n        <CoreApps {...props} />\n      </AuthenticatedRoute>\n      <AuthenticatedRoute path=\"/home\" exact>\n        <Home />\n      </AuthenticatedRoute>\n      {/* \n      <AuthenticatedRoute path=\"/settings\" exact>\n        <Settings />\n      </AuthenticatedRoute>\n      */}\n      <AuthenticatedRoute path=\"/\" exact>\n        <Home />\n      </AuthenticatedRoute>\n      <UnauthenticatedRoute path=\"/\" exact>\n        <Landing />\n      </UnauthenticatedRoute>\n      <UnauthenticatedRoute path=\"/login\" exact>\n        <Landing />\n      </UnauthenticatedRoute>\n      <UnauthenticatedRoute path=\"/register\" exact>\n        <Landing />\n      </UnauthenticatedRoute>\n      <AuthenticatedRoute path=\"/logout\" exact>\n        <Logout />\n      </AuthenticatedRoute>\n      {/*\n      <AuthenticatedRoute path=\"/verify-email\" exact>\n        <Landing />\n      </AuthenticatedRoute>\n      <AuthenticatedRoute path=\"/verify-phone\" exact>\n        <Landing />\n      </AuthenticatedRoute>\n      */}\n\n      <Route component={NotFoundPage} />\n    </Switch>\n  </React.Suspense>\n);\n","// /* global localStorage */\n\nimport React, { useEffect, useReducer } from \"react\";\n//import { useHistory } from \"react-router-dom\";\n\nimport { withRouter } from \"react-router-dom\";\nimport Routes from \"./routes/AppRouterDynamic\";\nimport { AppContext } from \"./lib/contextLib\";\nimport Amplify, { Auth } from \"aws-amplify\";\nimport { ThemeProvider, baseStyles } from \"@blend-ui/core\";\nimport { createGlobalStyle } from \"styled-components\";\n\nimport config from \"./config\";\n\n//import { countryList } from \"./lib/utils\";\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n   ${baseStyles};\n  }\n`;\nconst APIConfig = {\n  aws_appsync_graphqlEndpoint: config.appSync.aws_appsync_graphqlEndpoint,\n  aws_appsync_region: config.main_region,\n  aws_appsync_authenticationType: config.appSync.aws_appsync_authenticationType,\n};\n\nconst AUTHConfig = {\n  // To get the aws credentials, you need to configure\n  // the Auth module with your Cognito Federated Identity Pool\n  mandatorySignIn: false,\n  userPoolId: config.cognito.USER_POOL_ID,\n  identityPoolId: config.cognito.IDENTITY_POOL_ID,\n  userPoolWebClientId: config.cognito.APP_CLIENT_ID,\n  region: config.main_region,\n};\n\nasync function initAuth(newAuth = false) {\n  Auth.configure(AUTHConfig);\n  Amplify.configure(APIConfig);\n  console.log(AUTHConfig);\n  console.log(APIConfig);\n\n  console.log(\"INIT AUTH \", new Date(), Auth);\n  let session;\n  if (newAuth) {\n    try {\n      await Auth.signIn(\"tero-test\", \"xxxxxx\");\n    } catch (e) {\n      console.log(\"ERR\", e);\n    }\n  }\n  session = await Auth.currentSession();\n\n  return session;\n}\n\nfunction App() {\n  //const history = useHistory();\n  console.log(\"APP START\");\n\n  //console.log(JSON.stringify(countryList()));\n  //window.matchMedia('(max-width: 600px)');\n  const userAgent =\n    typeof window.navigator === \"undefined\" ? \"\" : navigator.userAgent;\n  const mobile = Boolean(\n    userAgent.match(\n      /Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i,\n    ),\n  );\n\n  console.log(\"USER AGENT MOBILE\", mobile);\n  let mobileApp = false;\n  if (mobile) {\n    const maxD = Math.max(window.screen.availWidth, window.screen.availHeight);\n    const minD = Math.min(window.screen.availWidth, window.screen.availHeight);\n    if (minD / maxD < 0.7) {\n      //console.log('NOT TABLET....');\n      mobileApp = true;\n    }\n  }\n\n  const [state, setState] = useReducer(\n    (state, newState) => ({ ...state, ...newState }),\n    {\n      isAuthenticating: true,\n      currentUser: {},\n      isAuthenticated: false,\n    },\n  );\n\n  useEffect(() => {\n    async function onLoad() {\n      let _currentUser = {};\n\n      try {\n        //await Auth.currentSession();\n        // console.log(\"AUTH CHECK \", isAuthenticating);\n        // check if config exists...\n        //console.log(\"AMPLIFY \", Amplify.configure(), Auth.configure());\n        const _currentSession = await initAuth(false);\n        //console.log(\"AUTH \", Auth);\n        //const _currentSession = await Auth.currentSession();\n        //Auth.currentAuthenticatedUser().then((user) => console.log(user));\n        //Auth.currentCredentials().then((creds) => console.log(creds));\n        // Auth.currentSession() does not currently support federated identities. Please store the auth0 session info manually(for example, store tokens into the local storage).Auth.currentAuthenticatedUser().then(user => console.log(user));\n\n        console.log(\"APP AUTH \", _currentSession);\n        if (_currentSession) {\n          const token = _currentSession.getIdToken().payload;\n          _currentUser = {\n            username: token[\"cognito:username\"],\n            organization: token[\"custom:organization\"] || \"\",\n            /* given_name: token[\"given_name\"],*/\n            client: token[\"aud\"],\n            prifinaID: token[\"custom:prifina\"],\n          };\n        }\n        //const prifinaID = session.idToken.payload[\"custom:prifina\"];\n        setState({\n          isAuthenticating: false,\n          currentUser: _currentUser,\n          isAuthenticated: _currentSession ? true : false,\n        });\n      } catch (e) {\n        console.log(\"ERR \", e);\n        if (e !== \"No current user\") {\n        }\n        //userHasAuthenticated(true);\n        setState({\n          isAuthenticating: false,\n          currentUser: _currentUser,\n          isAuthenticated: false,\n        });\n      }\n    }\n\n    onLoad();\n  }, [state.isAuthenticated]);\n\n  const userAuth = auth => {\n    setState({ isAuthenticated: auth });\n  };\n\n  const { currentUser, isAuthenticating, isAuthenticated } = state;\n\n  return (\n    <AppContext.Provider\n      value={{\n        isAuthenticated,\n        currentUser,\n        APIConfig,\n        AUTHConfig,\n        userAuth,\n        mobileApp,\n        Auth,\n      }}\n    >\n      <ThemeProvider>\n        <React.Fragment>\n          <GlobalStyle />\n          {!isAuthenticating && <Routes />}\n          {isAuthenticating && <div>Loading...</div>}\n        </React.Fragment>\n      </ThemeProvider>\n    </AppContext.Provider>\n  );\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\n\nimport { render } from \"react-dom\";\nimport { default as App } from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n//import { ThemeProvider } from \"@blend-ui/core\";\n\nrender(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export default __webpack_public_path__ + \"static/media/back-plate.539c4885.png\";","import React, { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { Box, Flex, Text, useTheme } from \"@blend-ui/core\";\n//import { ReactComponent as BackPlate } from \"../assets/back-plate.svg\";\n//import BackPlate from \"../assets/plate.svg\";\nimport { ReactComponent as PrifinaText } from \"../assets/prifina-text.svg\";\n\nimport Background from \"../assets/background.png\";\n//import { Background } from \"../assets/background-image\";\n//import { Plate } from \"../assets/back-plate-png\";\nimport Plate from \"../assets/back-plate.png\";\n\nimport { BlendIcon } from \"@blend-ui/icons\";\nimport bxChevronRight from \"@iconify/icons-bx/bx-chevron-right\";\n\nimport styled from \"styled-components\";\n\nimport CreateAccount from \"./CreateAccount\";\nimport Login from \"./Login\";\n\nimport { useAppContext } from \"../lib/contextLib\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport NotFoundPage from \"../components/NotFoundPage\";\n//import Logout from \"./Logout\";\nimport Home from \"./Home\";\n\nimport FinalizingAccount from \"./FinalizingAccount\";\n\nimport { ToastContextProvider } from \"@blend-ui/toast\";\nimport i18n from \"../lib/i18n\";\ni18n.init();\n\n//const backPlatePath = \"../assets/back-plate.svg\";\n\nconst StyledBox = styled(Box)`\n  /* border-radius: 20px; */\n  border: 1px solid #f5f8f7;\n  background-color: ${props =>\n    props.colors ? props.colors.baseWhite : \"#F5F8F7\"};\n`;\nconst StyledBackground = styled(Box)`\n  background-image: url(${Background});\n  background-repeat: no-repeat;\n  background-size: cover;\n  /* border-radius: 20px; \n  border-top-left-radius: 0;\n  border-top-right-radius: 0; */\n  /* opacity: 0.3; */\n  position: relative;\n  top: -632px;\n  z-index: 1;\n`;\nconst StyledPlate = styled(Box)`\n  background-image: url(${Plate});\n  background-repeat: no-repeat;\n  background-size: cover;\n  /* border-top-right-radius: 20px; */\n  z-index: 3;\n  border-left: 1px solid rgba(255, 255, 255, 0); // chrome bug of showing border on transparent image\n`;\n\nconst Landing = props => {\n  console.log(\"LANDING \", props);\n  const history = useHistory();\n  const { isAuthenticated, mobileApp } = useAppContext();\n  const { pathname, search } = useLocation();\n  console.log(\"LOCATION \", pathname, search);\n  const { colors } = useTheme();\n  //console.log(\"THEME \", colors);\n  let initStep = 5;\n  if (pathname === \"/login\") {\n    initStep = 5;\n  } else if (pathname === \"/register\") {\n    initStep = 1;\n  } else if (pathname === \"/home\" && isAuthenticated) {\n    initStep = 6;\n  }\n\n  //console.log(\"STEP \", initStep);\n  const [stepCounter, setStepCounter] = useState(initStep);\n  //const [accountFields, setAccountFields] = useState({});\n  /*\n  const [accountFields, setAccountFields] = useState({\n    email: { value: \"tro9999@gmail.com\" },\n    firstName: { value: \"Tero\" },\n    lastName: { value: \"Ahola\" },\n    password: { value: \"Huuhaa12!#\" },\n    phone: { value: \"407077102\" },\n    regionCode: \"+358\",\n    username: { value: \"tero-testing3\" },\n  });\n  */\n  const [accountFields, setAccountFields] = useState({});\n\n  useEffect(() => {\n    if (stepCounter !== initStep) {\n      setStepCounter(initStep);\n    }\n    // stepCounter is missing dependency... fix this logic later\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initStep]);\n\n  const finalStep = currentUser => {\n    setAccountFields(currentUser);\n    setStepCounter(7);\n  };\n  console.log(\"STEP COUNTER \", stepCounter);\n  const topMargin = \"62px\";\n  return (\n    <React.Fragment>\n      <ToastContextProvider>\n        {mobileApp && <div>Mobile browser APP</div>}\n        {!mobileApp && stepCounter === 6 && isAuthenticated && <Home />}\n        {!mobileApp && stepCounter !== 6 && (\n          <StyledBox\n            minWidth={\"1440px\"}\n            /* maxHeight={\"792px\"} */\n            minHeight={\"792px\"}\n          >\n            <Box display={\"inline-flex\"} width={\"100%\"}>\n              <Flex width={stepCounter === 7 ? \"100%\" : \"44%\"} height={\"792px\"}>\n                <Box display={\"inline-block\"} zIndex={2} ml={\"63px\"}>\n                  <Box mt={\"24px\"}>\n                    <PrifinaText width={\"69px\"} height={\"27px\"} />\n                  </Box>\n                  {stepCounter !== 7 && (\n                    <React.Fragment>\n                      <Box mt={\"283px\"}>\n                        <Text fontSize={\"74px\"} lineHeight={\"101px\"}>\n                          {stepCounter > 4 && i18n.__(\"loginWelcomeMessage\")}\n                          {stepCounter < 5 && i18n.__(\"welcomeMessage\")}\n                        </Text>\n                      </Box>\n                      <Box width={\"533px\"}>\n                        <Text as={\"p\"} fontSize={18} lineHeight={\"144.5%\"}>\n                          {stepCounter > 4 && i18n.__(\"loginLandingPage\")}\n                          {stepCounter < 5 && i18n.__(\"landingPage\")}\n                        </Text>\n                      </Box>\n                      <Box\n                        mt={\"40px\"}\n                        display={\"inline-flex\"}\n                        height={\"26px\"}\n                        alignItems={\"center\"}\n                      >\n                        {stepCounter < 5 && (\n                          <React.Fragment>\n                            <Text\n                              fontSize={18}\n                              color={colors.baseSecondary}\n                              pr={13}\n                            >\n                              {i18n.__(\"landingPageInfo\")}\n                            </Text>\n                            <BlendIcon\n                              iconify={bxChevronRight}\n                              color={colors.componentPrimary}\n                              size={\"17\"}\n                            />\n                          </React.Fragment>\n                        )}\n                      </Box>\n                    </React.Fragment>\n                  )}\n                </Box>\n                {stepCounter === 7 && (\n                  <FinalizingAccount currentUser={accountFields} />\n                )}\n              </Flex>\n\n              {stepCounter !== 7 && (\n                <Flex\n                  width={\"56%\"}\n                  height={\"730px\"}\n                  justifyContent={\"flex-end\"}\n                >\n                  <StyledPlate height={\"730px\"} width={\"753px\"}>\n                    <Flex justifyContent={\"flex-end\"}>\n                      <Box\n                        position={\"relative\"}\n                        right={\"64px\"}\n                        top={topMargin}\n                        key={\"step-\" + stepCounter}\n                      >\n                        {stepCounter === 0 && <NotFoundPage />}\n                        {stepCounter === 1 && !isAuthenticated && (\n                          <CreateAccount finalStep={finalStep} />\n                        )}\n\n                        {/* stepCounter === 6 && isAuthenticated && <Logout /> */}\n\n                        {stepCounter === 5 && <Login />}\n                      </Box>\n                    </Flex>\n                  </StyledPlate>\n                </Flex>\n              )}\n            </Box>\n            <StyledBackground width={\"100%\"} height={\"631px\"} />\n          </StyledBox>\n        )}\n      </ToastContextProvider>\n    </React.Fragment>\n  );\n};\n\n//<img src={Plate} height={\"920px\"} width={\"795px\"} />\nexport default Landing;\n","/* eslint-disable react/forbid-prop-types */\n/* eslint-disable react/no-multi-comp */\nimport React from \"react\";\n\nimport { Select, Box, Flex, Text, Button } from \"@blend-ui/core\";\n\nimport styled, { css } from \"styled-components\";\n\n//import { ReactComponent as DisplayAppIcon } from \"../assets/display-app.svg\";\n\nimport bxChevronRightCircle from \"@iconify/icons-bx/bx-chevron-right-circle\";\nimport { BlendIcon } from \"@blend-ui/icons\";\nimport PropTypes from \"prop-types\";\n\nimport i18n from \"../lib/i18n\";\n\ni18n.init();\n\nconst StyledNotification = styled(Box)`\n  width: 300px;\n  height: 112px;\n  background: #ffffff;\n  border: 1px solid #e5f3f2;\n  box-sizing: border-box;\n  border-radius: 10px;\n`;\n\nconst StyledBar = styled(Flex)`\n  width: 8px;\n  height: 112px;\n  background: #99ceca;\n  border-top-left-radius: 10px;\n  border-bottom-left-radius: 10px;\n`;\n\nconst StyledTitleText = styled(Text)`\n  font-size: 0.75rem;\n  font-weight: 600;\n  line-height: 0.938rem;\n  text-transform: capitalize;\n`;\n\nconst StyledDateText = styled(Text)`\n  font-weight: 300;\n  font-size: 0.625rem;\n  line-height: 0.75rem;\n`;\n\nconst StyledNotificationText = styled(Text)`\n  font-weight: normal;\n  font-size: 0.75rem;\n  line-height: 0.938rem;\n  color: #1e1d1d;\n`;\n\nconst StyledNotificationFooterText = styled(Text)`\n  font-weight: 600;\n  font-size: 0.625rem;\n  line-height: 0.75rem;\n  color: #5a5757;\n`;\nconst StyledNotificationHeader = styled(Text)`\n  font-weight: 600;\n  font-size: 1rem;\n  line-height: 1.25rem;\n  color: #1e1d1d;\n`;\nconst StyledSelect = styled(Select)`\n  font-size: 0.75rem;\n  line-height: 1.875rem;\n  height: 30px;\n  color: #00847a;\n  border-color: #00847a;\n`;\n\nexport const NotificationHeader = ({\n  title,\n  selectOnChange,\n  buttonOnClick,\n  closeClick,\n  options,\n  ...props\n}) => (\n  <>\n    <Flex flexDirection={\"column\"} width={\"300px\"} {...props}>\n      <Flex flexDirection={\"row\"}>\n        <Flex width={1 / 2} alignItems={\"center\"}>\n          <StyledNotificationHeader>{title}</StyledNotificationHeader>\n        </Flex>\n        <Flex width={1 / 2} justifyContent={\"flex-end\"} alignItems={\"center\"}>\n          <BlendIcon\n            iconify={bxChevronRightCircle}\n            color={\"#00847A\"}\n            height={\"14px\"}\n            width={\"14px\"}\n            onClick={closeClick}\n            style={{ cursor: \"pointer\" }}\n          />\n        </Flex>\n      </Flex>\n      <Flex flexDirection={\"row\"} mt={\"25px\"}>\n        <Flex width={1 / 2} alignItems={\"center\"}>\n          <StyledSelect\n            variation={\"outline\"}\n            size={\"sm\"}\n            onChange={selectOnChange}\n          >\n            {options}\n          </StyledSelect>\n        </Flex>\n        <Flex width={1 / 2} justifyContent={\"flex-end\"} alignItems={\"center\"}>\n          <Button width={\"100px\"} onClick={buttonOnClick}>\n            {i18n.__(\"Clear all\")}\n          </Button>\n        </Flex>\n      </Flex>\n    </Flex>\n  </>\n);\n\nNotificationHeader.propTypes = {\n  title: PropTypes.string,\n  options: PropTypes.array,\n  selectOnChange: PropTypes.func,\n  buttonOnClick: PropTypes.func,\n  closeClick: PropTypes.func,\n};\n\nexport const NotificationCard = ({\n  AppIcon,\n  title,\n  date,\n  msg,\n  footer,\n  ...props\n}) => (\n  <>\n    <StyledNotification {...props}>\n      <Flex flexDirection={\"row\"}>\n        <StyledBar />\n        <Flex p={10} width={1}>\n          <Flex width={\"32px\"}>\n            <AppIcon width={\"20px\"} height={\"20px\"} />\n          </Flex>\n          <Flex width={\"233px\"} height={\"92px\"} flexDirection={\"column\"}>\n            <Flex flexDirection={\"row\"}>\n              <Flex width={1 / 2} alignItems={\"center\"}>\n                <StyledTitleText>{title}</StyledTitleText>\n              </Flex>\n              <Flex\n                width={1 / 2}\n                justifyContent={\"flex-end\"}\n                alignItems={\"center\"}\n              >\n                <StyledDateText>{date}</StyledDateText>\n              </Flex>\n            </Flex>\n            <Flex height={\"45px\"} mt={10}>\n              <StyledNotificationText as={\"p\"}>{msg}</StyledNotificationText>\n            </Flex>\n            <Flex mt={10}>\n              <StyledNotificationFooterText>\n                {footer}\n              </StyledNotificationFooterText>\n            </Flex>\n          </Flex>\n        </Flex>\n      </Flex>\n    </StyledNotification>\n  </>\n);\n//new Date().toDateString()\n\nNotificationCard.propTypes = {\n  AppIcon: PropTypes.elementType,\n  title: PropTypes.string,\n  date: PropTypes.string,\n  msg: PropTypes.string,\n  footer: PropTypes.string,\n};\n","/* eslint-disable react/forbid-prop-types */\nimport React, {\n  useState,\n  useCallback,\n  useEffect,\n  createContext,\n  useContext,\n  useRef,\n  useMemo,\n} from \"react\";\n\nimport { useId } from \"@reach/auto-id\";\nimport { Portal } from \"@blend-ui/modal\";\nimport styled, { css, ThemeProvider } from \"styled-components\";\nimport { space } from \"styled-system\";\n\nimport { useTheme, Avatar } from \"@blend-ui/core\";\n\nimport { BlendIcon } from \"@blend-ui/icons\";\n\nimport bxHome from \"@iconify/icons-bx/bx-home\";\nimport bxBell from \"@iconify/icons-bx/bx-bell\";\nimport bxHistory from \"@iconify/icons-bx/bx-history\";\nimport logoutIcon from \"@iconify/icons-fe/logout\";\n\nimport { ReactComponent as DisplayAppIcon } from \"../assets/display-app.svg\";\nimport { NotificationHeader, NotificationCard } from \"./Notifications\";\n\nimport gql from \"graphql-tag\";\nimport { listNotificationsByDate } from \"../graphql/queries\";\n\nimport PropTypes from \"prop-types\";\n/*\nconst emptyAvatar =\n  \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTkiIGhlaWdodD0iNTkiIHZpZXdCb3g9IjAgMCA1OSA1OSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjkuNSIgY3k9IjI5LjUiIHI9IjI5LjUiIGZpbGw9IiNDM0MyQzIiLz4KPHBhdGggZD0iTTIzLjY4NzUgMjIuMzk1NkMyMy42ODc1IDI1LjYwMDMgMjYuMjk1NCAyOC4yMDgxIDI5LjUgMjguMjA4MUMzMi43MDQ2IDI4LjIwODEgMzUuMzEyNSAyNS42MDAzIDM1LjMxMjUgMjIuMzk1NkMzNS4zMTI1IDE5LjE5MSAzMi43MDQ2IDE2LjU4MzEgMjkuNSAxNi41ODMxQzI2LjI5NTQgMTYuNTgzMSAyMy42ODc1IDE5LjE5MSAyMy42ODc1IDIyLjM5NTZaTTM5LjgzMzQgNDEuMTI0OEg0MS4xMjVWMzkuODMzMUM0MS4xMjUgMzQuODQ4NiAzNy4wNjc5IDMwLjc5MTUgMzIuMDgzNCAzMC43OTE1SDI2LjkxNjdDMjEuOTMwOSAzMC43OTE1IDE3Ljg3NSAzNC44NDg2IDE3Ljg3NSAzOS44MzMxVjQxLjEyNDhIMzkuODMzNFoiIGZpbGw9IiNGNUY4RjciLz4KPC9zdmc+Cg==\";\n*/\n\nconst positionVariation = props => {\n  //console.log(\"POS \", props);\n  let pos = null;\n\n  if (props.positionOption === \"top-left\") {\n    pos = css`\n      top: 0;\n      left: 0;\n      align-items: flex-start;\n    `;\n  }\n  if (props.positionOption === \"top-right\") {\n    pos = css`\n      top: 0;\n      right: 0;\n      align-items: flex-end;\n    `;\n  }\n  if (props.positionOption === \"top-center\") {\n    pos = css`\n      top: 0;\n    `;\n  }\n  if (props.positionOption === \"left-middle\") {\n    pos = css`\n      top: 50%;\n      left: 0;\n      align-items: flex-start;\n    `;\n  }\n\n  if (props.positionOption === \"bottom-left\") {\n    pos = css`\n      bottom: 0;\n      left: 0;\n      align-items: flex-start;\n    `;\n  }\n  if (props.positionOption === \"bottom-right\") {\n    pos = css`\n      bottom: 0;\n      right: 0;\n    `;\n  }\n  if (props.positionOption === \"bottom-center\") {\n    pos = css`\n      bottom: 0;\n    `;\n  }\n  if (props.positionOption === \"right-middle\") {\n    pos = css`\n      right: 0;\n      top: 50%;\n      align-items: flex-end;\n    `;\n  }\n  if (props.positionOption === \"center-middle\") {\n    pos = css`\n      top: 50%;\n    `;\n  }\n  return [pos];\n};\nconst alertVariation = props => {\n  //console.log(\"ALERT \", props);\n  let styles = props.theme.componentStyles.alert[props.componentStyle];\n\n  return [styles];\n};\n\nconst Base = styled.div`\n  position: fixed;\n  top: 0;\n  right: 0;\n  /* left: 0; */\n  display: flex;\n  align-items: flex-end;\n\n  justify-content: center;\n  flex-direction: column;\n  /*\n  justify-content: flex-end;\n  flex-direction: row;\n  */\n  min-width: 100px;\n  /* pointer-events: none; */\n\n  overflow: hidden;\n\n  z-index: 30;\n  ${props => props.theme.baseStyles};\n  ${space}\n`;\n\nconst MenuBase = styled.div`\n  min-width: 350px;\n  background: #f5f8f7;\n  box-shadow: -4px 0px 8px rgba(91, 92, 91, 0.1);\n  border: 0;\n  border-top-left-radius: 20px;\n  border-bottom-left-radius: 20px;\n  height: 100vh;\n  padding-top: 25px;\n  /* padding-right: 25px; */\n  z-index: 32;\n`;\n\nconst IconBar = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  padding-right: 25px;\n`;\n\nconst IconDiv = styled.div`\n  margin: 8px;\n  justify-content: center;\n  height: 24px;\n`;\nconst LabelDiv = styled.div`\n  justify-content: center;\n  font-weight: 600;\n  margin-right: 8px;\n`;\nconst TextDiv = styled.div`\n  justify-content: center;\n  font-weight: 400;\n`;\n\nexport const UserMenuContext = createContext({});\n\nfunction useIsMountedRef() {\n  const isMountedRef = useRef(null);\n  useEffect(() => {\n    isMountedRef.current = true;\n    return () => (isMountedRef.current = false);\n  });\n  return isMountedRef;\n}\n\nconst ModalDiv = styled.div`\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 31;\n  background-color: rgba(30, 29, 29, 0.1);\n`;\n\nconst Badge = styled.span`\n  position: absolute;\n  top: ${props => (props.isOpen ? \"20px\" : \"9px\")};\n  right: ${props => (props.isOpen ? \"143px\" : \"9px\")};\n  padding: 3.5px 5.5px;\n  border-radius: 50%;\n  background: red;\n  font-size: 10px;\n  line-height: 10px;\n  color: white;\n  font-weight: 700;\n`;\n\nconst UserMenuContextProvider = ({\n  offset = \"15px\",\n  id,\n  position = \"top-right\",\n  theme,\n  onExit,\n  onHome,\n  /*\n  clientHandler,\n  activeUser,\n  */\n  children,\n}) => {\n  //console.log(\"ID \", id, id === null, typeof id);\n  const defaultTheme = useTheme();\n  theme = theme || defaultTheme;\n  const menuContext = useRef(null);\n  const [userMenu, setUserMenu] = useState(null);\n  const [isOpen, setIsOpen] = useState(false);\n  const isMountedRef = useIsMountedRef();\n  //const [avatarWidth, setAvatarWidth] = useState(32);\n  const [iconButtons, setIconButtons] = useState([false, true, false, false]);\n\n  const [notificationCount, setNotificationCount] = useState(0);\n  const [notificationTypeList, setNotificationTypeList] = useState([\n    <option key={\"notification-all\"}>All</option>,\n  ]);\n\n  const uuid = useId();\n  const _id = id || uuid;\n  const portalId = `blend-usermenu-portal-${_id}`;\n  const menuId = `blend-usermenu-${_id}`;\n  const root = useRef(null);\n  const totalNotifications = useRef(0);\n  const [notificationCards, setNotificationCards] = useState([]);\n  const activeUser = useRef({});\n  const clientHandler = useRef(null);\n\n  //({ AppIcon, title, date, msg, footer })\n\n  const notificationList = async () => {\n    const notifications = await clientHandler.current.query({\n      query: gql(listNotificationsByDate),\n      variables: {\n        owner: activeUser.current.uuid,\n        filter: {\n          status: { eq: 0 },\n        },\n        sortDirection: \"DESC\",\n      },\n    });\n    console.log(\"NOTIFICATION LIST\", notifications);\n    const cardList = notifications.data.listNotificationsByDate.items.map(\n      (c, i) => {\n        return (\n          <NotificationCard\n            mb={5}\n            key={\"nn-\" + i}\n            AppIcon={DisplayAppIcon}\n            title={c.type}\n            date={new Date(c.createdAt).toLocaleString()}\n            msg={c.body}\n            footer={\"\"}\n          />\n        );\n      },\n    );\n    //setNotificationCards(cardList);\n    return cardList;\n    /*\n    data:\n    listNotificationsByDate:\n    items: Array(6)\n    */\n  };\n  const iconClick = (e, i) => {\n    console.log(\"CLICK \", i);\n    if (i === 0) {\n      // logout\n      setIsOpen(false);\n      onExit();\n    } else if (i === 3) {\n      setIsOpen(false);\n      onHome();\n    } else {\n      let buttons = iconButtons.map(ic => false);\n\n      buttons[i] = true;\n      if (i === 1) {\n        notificationList().then(list => {\n          //console.log(\"NEW LIST...\", list);\n          setNotificationCards(list);\n          setIconButtons(buttons);\n        });\n      } else {\n        setIconButtons(buttons);\n      }\n      console.log(\"ICONS \", iconButtons, buttons);\n    }\n    //MenuArea = userMenu.options.recentApps;\n  };\n\n  useEffect(() => {\n    // notifications is the default open button...\n    if (isOpen) {\n      // user menu open click...\n      //console.log(\"USERMENU OPEN....\");\n      notificationList().then(list => {\n        //console.log(\"NEW LIST...\", list);\n        setNotificationCards(list);\n      });\n    }\n  }, [isOpen]);\n  useEffect(() => {\n    root.current = document.createElement(\"div\");\n    root.current.id = portalId;\n    document.body.appendChild(root.current);\n\n    return () => {\n      if (root.current) document.body.removeChild(root.current);\n    };\n  }, []);\n  const onUpdate = useCallback(cnt => {\n    console.log(\n      \"UPDATE NOTIFICATION \",\n      cnt,\n      notificationCount,\n      totalNotifications.current,\n    );\n    totalNotifications.current += cnt;\n    setNotificationCount(totalNotifications.current);\n  }, []);\n\n  const show = useCallback(\n    (options = {}) => {\n      const id = Math.random().toString(36).substr(2, 9);\n      console.log(\"MENU SHOW OPTIONS \", options);\n      const menuOptions = {\n        ...options,\n      };\n\n      const menu = {\n        id,\n        options: menuOptions,\n      };\n      totalNotifications.current = menu.options.notifications || 0;\n      setNotificationCount(totalNotifications.current);\n      setUserMenu(menu);\n      return menu;\n    },\n    // [position, remove, timeout, type]\n    [],\n  );\n  const setActiveUser = useCallback(user => {\n    activeUser.current = user;\n  }, []);\n  const setClientHandler = useCallback(handler => {\n    clientHandler.current = handler;\n  }, []);\n  /*\n  const success = useCallback(\n    (message = \"\", options = {}) => {\n      options.type = \"success\";\n      return show(message, options);\n    },\n    [show],\n  );\n*/\n  /*\n  useEffect(() => {\n    if (isMountedRef.current) {\n      show({});\n    }\n  }, [isMountedRef]);\n*/\n\n  const notificationSelectChange = e => {};\n  const notificationButtonClick = e => {};\n  const notificationCloseClick = e => {};\n  menuContext.current = {\n    userMenu,\n    show,\n    onUpdate,\n\n    setClientHandler,\n    setActiveUser,\n  };\n  //console.log(alertContext);\n  const baseProps = {\n    positionOption: position,\n    theme,\n    /*\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n  */\n    id: menuId,\n    //w:window.innerWidth\n  };\n\n  return (\n    <UserMenuContext.Provider value={menuContext}>\n      {children}\n      {root.current && (\n        <Portal container={root.current}>\n          <ThemeProvider theme={theme}>\n            <Base {...baseProps}>\n              {userMenu && !isOpen && (\n                <React.Fragment>\n                  <Avatar\n                    src={userMenu.options.avatar}\n                    initials={userMenu.options.initials}\n                    alt={\"avatar\"}\n                    width={userMenu.options.width || 32}\n                    style={{\n                      curson: \"pointer\",\n                      margin: offset,\n                      filter: \"drop-shadow(0px 4px 8px rgba(91, 92, 91, 0.25))\",\n                    }}\n                    effect={userMenu.options.effect || null}\n                    /*\n                    onMouseEnter={e => {\n                      setAvatarWidth(42);\n                    }}\n                    onMouseLeave={e => {\n                      setAvatarWidth(32);\n                    }}\n                    */\n                    onClick={() => {\n                      setIsOpen(prev => !prev);\n                    }}\n                  />\n                  {notificationCount > 0 && (\n                    <Badge isOpen={false}>\n                      {notificationCount > 99 ? \"99+\" : notificationCount}\n                    </Badge>\n                  )}\n                </React.Fragment>\n              )}\n              {isOpen && (\n                <React.Fragment>\n                  <ModalDiv\n                    onClick={() => {\n                      setIsOpen(prev => !prev);\n                    }}\n                  />\n                  <MenuBase>\n                    <IconBar>\n                      <div\n                        style={{\n                          borderRadius: \"50%\",\n\n                          marginLeft: \"15px\",\n                          boxShadow: \"-4px 0px 8px rgba(91, 92, 91, 0.1)\",\n                          background:\n                            \"linear-gradient(180deg, #FFFFFF 0%, #E6E8ED 100%)\",\n                          position: \"relative\",\n                          left: \"-112px\",\n                        }}\n                      >\n                        <BlendIcon\n                          iconify={logoutIcon}\n                          color={\"#00847A\"}\n                          onClick={e => iconClick(e, 0)}\n                        />\n                      </div>\n                      <div\n                        style={{\n                          borderRadius: \"50%\",\n                          marginLeft: \"15px\",\n                          boxShadow: \"0px 4px 4px rgba(0, 132, 122, 0.6)\",\n                          background:\n                            \"linear-gradient(180deg, #FFFFFF 0%, #E6E8ED 100%)\",\n                        }}\n                      >\n                        <BlendIcon\n                          iconify={bxBell}\n                          color={\"#00847A\"}\n                          onClick={e => iconClick(e, 1)}\n                        />\n                      </div>\n                      {notificationCount > 0 && (\n                        <Badge isOpen={true}>\n                          {notificationCount > 99 ? \"99+\" : notificationCount}\n                        </Badge>\n                      )}\n                      <div\n                        style={{\n                          borderRadius: \"50%\",\n                          marginLeft: \"15px\",\n                          boxShadow: \"-4px 0px 8px rgba(91, 92, 91, 0.1)\",\n                          background:\n                            \"linear-gradient(180deg, #FFFFFF 0%, #E6E8ED 100%)\",\n                        }}\n                      >\n                        <BlendIcon\n                          iconify={bxHistory}\n                          color={\"#00847A\"}\n                          onClick={e => iconClick(e, 2)}\n                        />\n                      </div>\n                      <div\n                        style={{\n                          borderRadius: \"50%\",\n                          marginLeft: \"15px\",\n                          marginRight: \"20px\",\n                          boxShadow: \"-4px 0px 8px rgba(91, 92, 91, 0.1)\",\n                          background:\n                            \"linear-gradient(180deg, #FFFFFF 0%, #E6E8ED 100%)\",\n                        }}\n                      >\n                        <BlendIcon\n                          iconify={bxHome}\n                          color={\"#00847A\"}\n                          onClick={e => iconClick(e, 3)}\n                        />\n                      </div>\n                      <Avatar\n                        src={userMenu.options.avatar}\n                        initials={userMenu.options.initials}\n                        width={userMenu.options.width || 32}\n                        alt={\"avatar\"}\n                        style={{\n                          curson: \"pointer\",\n                          filter:\n                            \"drop-shadow(0px 4px 8px rgba(91, 92, 91, 0.25))\",\n                        }}\n                      />\n                    </IconBar>\n                    {iconButtons[1] && (\n                      <div style={{ margin: \"25px\" }}>\n                        <NotificationHeader\n                          title={\"Notifications\"}\n                          selectOnChange={notificationSelectChange}\n                          buttonOnClick={notificationButtonClick}\n                          closeClick={notificationCloseClick}\n                          options={notificationTypeList}\n                        />\n                        <div\n                          style={{\n                            marginTop: \"5px\",\n                            height: \"calc(100vh - 200px)\",\n                            overflowY: \"scroll\",\n                          }}\n                        >\n                          {notificationCards}\n                        </div>\n                      </div>\n                    )}\n                    {iconButtons[2] && <div>{userMenu.options.RecentApps}</div>}\n                  </MenuBase>\n                </React.Fragment>\n              )}\n            </Base>\n          </ThemeProvider>\n        </Portal>\n      )}\n    </UserMenuContext.Provider>\n  );\n};\nUserMenuContextProvider.propTypes = {\n  offset: PropTypes.string,\n  id: PropTypes.string,\n  position: PropTypes.string,\n  theme: PropTypes.object,\n  onExit: PropTypes.func,\n  onHome: PropTypes.func,\n  children: PropTypes.array,\n};\n\n/* Hook */\n// ==============================\nexport const useUserMenu = () => {\n  const menuContext = useContext(UserMenuContext);\n  console.log(\"CONTEXT \", menuContext);\n  const menu = useMemo(() => {\n    return menuContext.current;\n  }, [menuContext]);\n  return menu;\n};\n\n/* @component */\nexport default UserMenuContextProvider;\n","/* eslint-disable react/forbid-prop-types */\nimport React, { useState, forwardRef } from \"react\";\nimport { IconField, Text, Box, useTheme } from \"@blend-ui/core\";\n\nimport { default as eyeIcon } from \"@iconify/icons-bx/bx-show\";\nimport bxLockAlt from \"@iconify/icons-bx/bx-lock-alt\";\nimport bxHide from \"@iconify/icons-bx/bx-hide\";\n\nimport { usePopper } from \"react-popper\";\nimport styled from \"styled-components\";\n\nimport PropTypes from \"prop-types\";\nimport config from \"../config\";\n\nconst UnorderedList = styled.ul`\n  /* */\n  list-style-type: none;\n  margin: 0;\n  list-style-position: outside;\n  padding-inline-start: 20px;\n  margin-block-start: 0px;\n  padding: 0;\n  padding-left: 20px;\n`;\n\nconst ListItem = styled.li`\n  /* */\n  ::before {\n    content: \"\";\n    color: ${props =>\n      props.verified\n        ? props.theme.colors.baseSecondary\n        : props.theme.colors.baseMuted}; // from theme\n    display: inline-block;\n    width: 0.9em;\n    margin-left: -0.9em;\n    font-size: 2em;\n  }\n  span {\n    position: relative;\n    top: -5px;\n  }\n`;\n\nconst PopperContainer = styled.div`\n  padding: 15px;\n  padding-bottom:24px;\n  box-shadow: ${props =>\n    props.theme.boxShadows[5]};//0px 4px 8px rgba(91, 92, 91, 0.2); from theme\n  border-radius: 5px; // from theme\n  background-color: ${props =>\n    props.theme.colors.baseWhite}; // #f5f8f7;  from theme\n\n  width: 371px;\n  .arrow {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n\n    &:after {\n      content: \" \";\n      position: absolute;\n      top: -20px; // we account for the PopperContainer padding\n      left: 0;\n      transform: rotate(45deg);\n      width: 20px;\n      height: 20px;\n      background-color: ${props => props.theme.colors.baseWhite}; // from theme\n      box-shadow: -1px -1px 1px rgba(0, 0, 0, 0.1);\n    }\n  }\n  &[data-popper-placement^=\"top\"] > .arrow {\n    bottom: -30px;\n    :after {\n      box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);\n    }\n  }\n`;\n\nconst mergeRefs = (...refs) => {\n  const filteredRefs = refs.filter(Boolean);\n  if (!filteredRefs.length) return null;\n  if (filteredRefs.length === 0) return filteredRefs[0];\n  return inst => {\n    for (const ref of filteredRefs) {\n      if (typeof ref === \"function\") {\n        ref(inst);\n      } else if (ref) {\n        ref.current = inst;\n      }\n    }\n  };\n};\n\nconst PasswordField = forwardRef(\n  ({ placeholder, addPopper = false, verifications = [], ...props }, ref) => {\n    const theme = useTheme();\n    //const referenceElement = ref;\n\n    const [referenceElement, setReferenceElement] = useState(ref);\n    const [popperElement, setPopperElement] = useState(null);\n    //const { styles, attributes } = usePopper(referenceElement, popperElement);\n    //const [addPopper, setAddPopper] = useState(false);\n    const [hidePassword, setHidePassword] = useState(true);\n    const [arrowElement, setArrowElement] = useState(null);\n    const { styles, attributes } = usePopper(referenceElement, popperElement, {\n      placement: \"top\",\n      modifiers: [\n        { name: \"arrow\", options: { element: arrowElement } },\n        {\n          name: \"offset\",\n          options: {\n            offset: [0, 20],\n          },\n        },\n      ],\n    });\n    /*\n  const onPopper = (e) => {\n    e.preventDefault();\n    setAddPopper(!addPopper);\n  };\n  */\n    const onHide = e => {\n      //console.log(\"HIDE PASSWORD \", hidePassword);\n      e.preventDefault();\n      setHidePassword(!hidePassword);\n    };\n    let popperStyles = { ...styles.popper };\n    //popperStyles[\"zIndex\"] = 999;\n    //console.log(styles);\n\n    //console.log(popperStyles);\n    //console.log(\"PASS \", config);\n    //console.log(\"PASSWORD POPPER \", addPopper);\n    return (\n      <React.Fragment>\n        {addPopper && (\n          <PopperContainer\n            theme={theme}\n            ref={setPopperElement}\n            style={popperStyles}\n            {...attributes.popper}\n          >\n            <div ref={setArrowElement} style={styles.arrow} className=\"arrow\" />\n            <Text fontSize={\"xs\"} bold>\n              Create a password that:\n              <UnorderedList>\n                <ListItem verified={verifications[0]} theme={theme}>\n                  <Text as={\"span\"} fontSize={\"xxs\"}>\n                    Contains at least {config.passwordLength} characters\n                  </Text>\n                </ListItem>\n                <ListItem verified={verifications[1]} theme={theme}>\n                  <Text as={\"span\"} fontSize={\"xxs\"}>\n                    Contains both lower (a-z) and upper case letters (A-Z)\n                  </Text>\n                </ListItem>\n\n                <ListItem verified={verifications[2]} theme={theme}>\n                  <Text as={\"span\"} fontSize={\"xxs\"}>\n                    Contains at least one number (0-9) and a symbol\n                  </Text>\n                </ListItem>\n                <ListItem verified={verifications[3]} theme={theme}>\n                  <Text as={\"span\"} fontSize={\"xxs\"}>\n                    Does not contain your name or email address\n                  </Text>\n                </ListItem>\n                <ListItem verified={verifications[4]} theme={theme}>\n                  <Text as={\"span\"} fontSize={\"xxs\"}>\n                    Is not commonly used\n                  </Text>\n                </ListItem>\n              </UnorderedList>\n            </Text>\n          </PopperContainer>\n        )}\n\n        <IconField onClick={onHide}>\n          <IconField.LeftIcon\n            iconify={bxLockAlt}\n            color={\"componentPrimary\"}\n            size={\"17\"}\n          />\n          <IconField.InputField\n            type={hidePassword ? \"password\" : \"text\"}\n            placeholder={placeholder}\n            {...props}\n            ref={mergeRefs(setReferenceElement, ref)}\n          />\n          <Box display={\"inline-flex\"} onClick={onHide}>\n            <IconField.RightIcon\n              iconify={hidePassword ? bxHide : eyeIcon}\n              color={\"componentPrimary\"}\n              size={\"17\"}\n            />\n          </Box>\n        </IconField>\n      </React.Fragment>\n    );\n  },\n);\n\nPasswordField.propTypes = {\n  placeholder: PropTypes.string,\n  addPopper: PropTypes.bool,\n  verifications: PropTypes.array,\n};\n\n//onClick={onHide}\n//ref={mergeRefs(local, ref)}\n//ref={setReferenceElement}\nexport default PasswordField;\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPrifina(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 28,\n    height: 23,\n    viewBox: \"0 0 28 23\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M0 14.7857V11.5L13.9997 19.7143L19.5998 16.4286V19.7143L13.9997 23L0 14.7857ZM8.39957 9.85714L13.9997 6.57143L28 14.7857V18.0714L19.5998 13.1429L13.9997 16.4286L8.39957 13.1429L0 8.21429V4.92857L8.39957 9.85714ZM11.1996 11.5L13.9997 13.1429L16.7998 11.5L13.9997 9.85714L11.1996 11.5ZM28 8.21429V11.5L13.9997 3.28571L8.39957 6.57143V3.28571L13.9997 0L28 8.21429Z\",\n    fill: \"#00847A\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPrifina);\nexport default __webpack_public_path__ + \"static/media/prifina.a5396de3.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect } from \"react\";\nimport { Box, Flex, Button, Text, IconField, Link } from \"@blend-ui/core\";\n\nimport bxKey from \"@iconify/icons-bx/bx-key\";\nimport { ReactComponent as Phone } from \"../assets/phone.svg\";\n\nimport ProgressContainer from \"../components/ProgressContainer\";\nimport { useFormFields } from \"../lib/formFields\";\n\nimport { onlyDigitChars } from \"../lib/utils\";\n\nimport { useFocus } from \"../lib/componentUtils\";\nimport Amplify, { API } from \"aws-amplify\";\nimport { useAppContext } from \"../lib/contextLib\";\n//import { verifyCodeMutation } from \"../graphql/api\";\nimport { getVerificationQuery, sendVerificationMutation } from \"../graphql/api\";\n//import { useHistory } from \"react-router-dom\";\n\nimport { useToast } from \"@blend-ui/toast\";\nimport { useAccountContext } from \"../lib/contextLib\";\n\nimport PropTypes from \"prop-types\";\nimport i18n from \"../lib/i18n\";\ni18n.init();\n\nconst PhoneVerification = ({ invalidLink, ...props }) => {\n  //const history = useHistory();\n  //console.log(\"USER \", currentUser);\n  const { nextStepAction, currentUser } = useAccountContext();\n  const alerts = useToast();\n  const { APIConfig } = useAppContext();\n  Amplify.configure(APIConfig);\n  const [verificationFields, handleChange] = useFormFields({\n    verificationCode: \"\",\n  });\n  const [inputCode, setInputCodeFocus] = useFocus();\n  const [inputError, setInputError] = useState({ status: false, msg: \"\" });\n\n  const checkInput = code => {\n    const checkResult = onlyDigitChars(code);\n    //console.log(checkResult);\n    let validCode = true;\n    if (!checkResult) {\n      const errorMsg = i18n.__(\"codeDigitsError\");\n      if (!alerts.check().some(alert => alert.message === errorMsg))\n        alerts.error(errorMsg, {});\n\n      setInputError({ status: true });\n      validCode = false;\n    }\n\n    if (code.length > 1 && code.length !== 6) {\n      const errorMsg = i18n.__(\"codeLengthError\");\n      if (!alerts.check().some(alert => alert.message === errorMsg))\n        alerts.error(errorMsg, {});\n      setInputError({ status: true });\n\n      validCode = false;\n    }\n    if (validCode) {\n      setInputError({ status: false, msg: \"\" });\n    }\n  };\n  const verifyClick = async e => {\n    try {\n      /*\n      const result = await verifyCodeMutation(\n        API,\n        [\n          currentUser.username,\n          currentUser.client,\n          \"email\",\n          verificationFields.verificationCode,\n        ].join(\"#\")\n      );\n      */\n      const userCode = [\n        currentUser.username,\n        currentUser.client,\n        \"phone\",\n        verificationFields.verificationCode,\n      ].join(\"#\");\n\n      const result = await getVerificationQuery(API, userCode);\n      //console.log(result.data.getVerification);\n      if (result.data.getVerification === null) {\n        alerts.error(i18n.__(\"invalidCode\"), {});\n        setInputError({ status: true });\n      }\n      console.log(\"VERIFY \", result);\n      nextStepAction(4);\n    } catch (e) {\n      console.log(\"ERR\", e);\n      alerts.error(i18n.__(\"invalidCode\"), {});\n      setInputError({ status: true });\n      nextStepAction(4);\n    }\n  };\n  const resendClick = async e => {\n    try {\n      await sendVerificationMutation(\n        API,\n        \"phone\",\n        JSON.stringify({\n          userId: currentUser.username,\n          clientId: currentUser.client,\n          phone_number: currentUser.phone_number,\n          given_name: currentUser.given_name,\n        }),\n      );\n      alerts.info(i18n.__(\"phoneVerificatioSent\"), {});\n      /*\n      setToastSuccess({\n        status: true,\n        msg: i18n.__(\"emailVerificatioSent\"),\n      });\n      */\n    } catch (e) {\n      console.log(\"ERR\", e);\n    }\n  };\n  useEffect(() => {\n    //console.log(\"SEND MSG \", currentUser);\n\n    sendVerificationMutation(\n      API,\n      \"phone\",\n      JSON.stringify({\n        userId: currentUser.username,\n        clientId: currentUser.client,\n        phone_number: currentUser.phone_number,\n        given_name: currentUser.given_name,\n      }),\n    )\n      .then(result => {\n        console.log(\"PHONE SMS RESULT \", result);\n        alerts.info(i18n.__(\"phoneVerificatioSent\"), { duration: 10000 });\n      })\n      .catch(e => {\n        console.log(\"ERR\", e);\n      });\n  }, [currentUser]);\n  const backClickAction = e => {\n    nextStepAction(0);\n  };\n  return (\n    <ProgressContainer title={i18n.__(\"verificationTitle\")} progress={100}>\n      <Box mt={47}>\n        <Box display={\"inline-flex\"}>\n          <Box>\n            <Phone height={\"135px\"} width={\"68px\"} />\n          </Box>\n          <Box ml={48}>\n            <Box>\n              <Text textStyle={\"h6\"}>{i18n.__(\"phoneVerificationTitle\")}</Text>\n            </Box>\n            <Box mt={5}>\n              <Text textStyle={\"caption2\"} as={\"p\"} m={0}>\n                {i18n.__(\"phoneVerificationText\")}\n              </Text>\n            </Box>\n            <Box mt={15}>\n              <IconField width={\"200px\"}>\n                <IconField.LeftIcon\n                  iconify={bxKey}\n                  color={\"componentPrimary\"}\n                  size={\"17\"}\n                />\n                <IconField.InputField\n                  placeholder={i18n.__(\"codePropmt\")}\n                  id={\"verificationCode\"}\n                  name={\"verificationCode\"}\n                  onChange={handleChange}\n                  onKeyDown={e => {\n                    if (e.key === \"Enter\") {\n                      checkInput(verificationFields.verificationCode);\n                    }\n                  }}\n                  ref={inputCode}\n                  error={inputError.status}\n                />\n              </IconField>\n            </Box>\n            {/* \n            <Box mt={3} display={\"inline-flex\"}>\n              <Flex alignItems={\"center\"}>\n                <Text textStyle={\"caption2\"} mr={5}>\n                  {i18n.__(\"codeMissing\")}\n                </Text>\n                <Link href={invalidLink} target=\"_blank\" fontSize={\"10px\"}>\n                  {i18n.__(\"sendAgainLinkText\")}\n                </Link>\n              </Flex>\n            </Box>\n*/}\n            <Box mt={inputError.status ? 0 : 3} display={\"inline-flex\"}>\n              <Flex alignItems={\"center\"}>\n                <Text textStyle={\"caption2\"} mr={5}>\n                  {i18n.__(\"codeMissing\")}\n                </Text>\n                <Button\n                  variation=\"link\"\n                  fontSize={\"10px\"}\n                  onClick={resendClick}\n                >\n                  {\" \"}\n                  {i18n.__(\"sendAgainLinkText\")}\n                </Button>\n              </Flex>\n            </Box>\n\n            <Box>\n              <Link href={invalidLink} target=\"_blank\" fontSize={\"10px\"}>\n                {i18n.__(\"verifySUpportLink\")}\n              </Link>\n            </Box>\n          </Box>\n        </Box>\n      </Box>\n\n      <Box mt={84} display={\"inline-flex\"}>\n        <Flex>\n          <Button variation={\"outline\"} onClick={backClickAction}>\n            {i18n.__(\"backButton\")}\n          </Button>\n        </Flex>\n        <Flex ml={99}>\n          <Button\n            disabled={\n              inputError.status ||\n              verificationFields.verificationCode.length !== 6\n            }\n            onClick={verifyClick}\n          >\n            {i18n.__(\"verifyButton\")}\n          </Button>\n        </Flex>\n      </Box>\n      {/*\n      <Box mt={inputError.status ? 60 : 84} textAlign={\"center\"}>\n        <Button\n          disabled={\n            inputError.status ||\n            verificationFields.verificationCode.length !== 6\n          }\n          onClick={verifyClick}\n        >\n          {i18n.__(\"verifyButton\")}\n        </Button>\n      </Box>\n        */}\n    </ProgressContainer>\n  );\n};\n\nPhoneVerification.propTypes = {\n  invalidLink: PropTypes.string.isRequired,\n};\nexport default PhoneVerification;\n","import React, { useState } from \"react\";\nimport { Box, Flex, Button, Text, IconField } from \"@blend-ui/core\";\n\nimport bxUser from \"@iconify/icons-bx/bx-user\";\n\nimport ProgressContainer from \"../components/ProgressContainer\";\nimport { useFormFields } from \"../lib/formFields\";\n\nimport Amplify, { Auth } from \"aws-amplify\";\nimport { useAppContext } from \"../lib/contextLib\";\nimport { useHistory } from \"react-router-dom\";\nimport PasswordField from \"../components/PasswordField\";\nimport ConfirmAuth from \"./ConfirmAuth\";\n\nimport {\n  validUsername,\n  lowerCaseChars,\n  upperCaseChars,\n  hasSpaces,\n  hasNonChars,\n  digitChars,\n} from \"../lib/utils\";\n\nimport { useFocus } from \"../lib/componentUtils\";\nimport i18n from \"../lib/i18n\";\nimport config from \"../config\";\nimport { useToast } from \"@blend-ui/toast\";\n\n//import PropTypes from \"prop-types\";\ni18n.init();\n/*\nfunction useIsMountedRef() {\n  const isMountedRef = useRef(null);\n  useEffect(() => {\n    isMountedRef.current = true;\n    return () => (isMountedRef.current = false);\n  });\n  return isMountedRef;\n}\n*/\n\nconst Login = () => {\n  //console.log(\"Phone \", props);\n  const history = useHistory();\n  const { APIConfig, userAuth } = useAppContext();\n  Amplify.configure(APIConfig);\n  //const isMountedRef = useIsMountedRef();\n  //console.log(\"ENV \", process.env);\n  //console.log(\"HISTORY \", history.location.search);\n  //REACT_APP_DEBUG: \"true\"\n  const appDebug =\n    process.env.REACT_APP_DEBUG === \"true\" &&\n    history.location.search === \"?debug=true\";\n  console.log(\"APP DEBUG \", appDebug);\n\n  const alerts = useToast();\n  //console.log(\"USE \", useToast);\n\n  const [loginFields, handleChange] = useFormFields({\n    username: \"\",\n    password: \"\",\n  });\n\n  const [usernameError, setUsernameError] = useState({\n    status: false,\n    msg: \"Error message\",\n  });\n  const [passwordError, setPasswordError] = useState({\n    status: false,\n    msg: \"Error message\",\n  });\n  const [inputUsername, setInputUsernameFocus] = useFocus();\n  const [inputPassword, setInputPasswordFocus] = useFocus();\n\n  const [invalidLogin, setInvalidLogin] = useState(0);\n  const [confirmCode, setConfirmCode] = useState(false);\n  const [authOptions, setAuthOptions] = useState({});\n\n  const loginClick = async () => {\n    setInvalidLogin(0);\n    try {\n      //this.setState({loading: true, disabled: true});\n      let user = await Auth.signIn(loginFields.username, loginFields.password);\n      console.log(\"LOGIN\", user);\n\n      //setAuthOptions({ user: user, Auth: Auth, setAuth: userAuth });\n      //setConfirmCode(true);\n      if (appDebug && user.preferredMFA === \"NOMFA\") {\n        userAuth(true);\n        history.replace(\"/home\");\n      } else {\n        if (user.preferredMFA === \"NOMFA\") {\n          const mfa = await Auth.setPreferredMFA(user, \"SMS\");\n          console.log(\"MFA \", mfa);\n          user = await Auth.signIn(loginFields.username, loginFields.password);\n          console.log(\"LOGIN2\", user);\n        } else if (user.challengeName === \"SMS_MFA\") {\n          //normal login...\n          //setAuthOptions({ user: user, Auth: Auth, setAuth: userAuth });\n        }\n        setAuthOptions({ user: user, Auth: Auth, setAuth: userAuth });\n        setConfirmCode(true);\n      }\n      //userAuth(true);\n      //history.replace(\"/home\");\n      //authOptions.setAuth(true);\n      //preferredMFA: \"NOMFA\"\n      //challengeName: \"SMS_MFA\"\n      /*\n      challengeParam:\nCODE_DELIVERY_DELIVERY_MEDIUM: \"SMS\"\nCODE_DELIVERY_DESTINATION: \"+********7102\"\n*/\n    } catch (e) {\n      console.log(\"ERR\", e);\n      if (\n        e.code === \"NotAuthorizedException\" ||\n        e.code === \"UserNotFoundException\"\n      ) {\n        alerts.error(i18n.__(\"invalidLogin\"), {});\n        setInvalidLogin(2);\n        setInputUsernameFocus();\n      }\n    }\n  };\n\n  const checkUsername = (username, checkLength = false) => {\n    //const username = e.target.value;\n    console.log(\"USERNAME \", username);\n    let userMsg = \"\";\n    if (username.length === 0) {\n      userMsg = i18n.__(\"invalidEntry\");\n    } else {\n      const userState = validUsername(username, config.usernameLength);\n      if (userState === \"LENGTH\") {\n        userMsg = i18n.__(\"usernameError\", { length: config.usernameLength });\n      }\n      if (userState === \"SPACES\") {\n        userMsg = i18n.__(\"usernameError2\");\n      }\n    }\n    if (userMsg !== \"\") {\n      if (!alerts.check().some(alert => alert.message === userMsg))\n        alerts.error(userMsg, {});\n\n      setUsernameError({ status: true });\n    } else {\n      setUsernameError({ status: false });\n    }\n    return userMsg;\n  };\n  const checkPassword = (password, onBlur = false) => {\n    //const userState = validUsername(username, config.usernameLength);\n    //config.passwordLength\n    let checkResult = false;\n    //const password = e.target.value;\n\n    if (password.length < config.passwordLength && !onBlur) {\n      checkResult = true;\n    } else if (!(lowerCaseChars(password) && upperCaseChars(password))) {\n      checkResult = true;\n    } else if (\n      !(digitChars(password) && hasNonChars(password) && !hasSpaces(password))\n    ) {\n      checkResult = true;\n    }\n\n    return checkResult;\n  };\n\n  /*\n  useEffect(() => {\n    if (isMountedRef.current) {\n      console.log(\n        \"START \",\n        document.getElementById(\"username\").value,\n        loginFields\n      );\n      \n    }\n  }, [isMountedRef]);\n*/\n  const createAccountClick = e => {\n    history.replace(\"/register\");\n    e.preventDefault();\n  };\n  const backButtonClick = e => {\n    setConfirmCode(false);\n    e.preventDefault();\n  };\n\n  return (\n    <React.Fragment>\n      {confirmCode && (\n        <Box mt={100}>\n          <ConfirmAuth backButton={backButtonClick} authOptions={authOptions} />\n        </Box>\n      )}\n      {!confirmCode && (\n        <Box mt={120}>\n          <ProgressContainer\n            title={i18n.__(\"loginPage\")}\n            progress={50}\n            pr={19}\n            minHeight={406}\n          >\n            <Box mt={60}>\n              <IconField>\n                <IconField.LeftIcon\n                  iconify={bxUser}\n                  color={\"componentPrimary\"}\n                  size={\"17\"}\n                />\n                <IconField.InputField\n                  autoFocus={true}\n                  placeholder={i18n.__(\"usernamePlaceholder\")}\n                  id={\"username\"}\n                  name={\"username\"}\n                  onChange={e => {\n                    //console.log(\"USER \", e.target.value);\n                    handleChange(e);\n                  }}\n                  ref={inputUsername}\n                  error={usernameError.status}\n                  onKeyDown={e => {\n                    if (e.key === \"Enter\") {\n                      const userError = checkUsername(e.target.value, true);\n                    }\n                  }}\n                  onBlur={e => {\n                    if (e.target.value.length > 0) {\n                      const userError = checkUsername(e.target.value);\n                      if (userError !== \"\") {\n                        setInputUsernameFocus();\n                        e.preventDefault();\n                      }\n                    }\n                  }}\n                />\n              </IconField>\n\n              <Box\n                display={\"inline-flex\"}\n                justifyContent={\"flex-end\"}\n                width={[1]}\n                style={{\n                  position: \"relative\",\n                  top: \"-7px\",\n                  /* top: usernameError.status ? \"-33px\" : \"-7px\", */\n                }}\n              >\n                <Flex>\n                  <Button variation={\"link\"} fontSize={\"10px\"}>\n                    {i18n.__(\"forgotUsername\")}\n                  </Button>\n                </Flex>\n              </Box>\n            </Box>\n            {/* \n            <Box mt={usernameError.status ? -19 : 9}> */}\n\n            <Box mt={9}>\n              <PasswordField\n                placeholder={i18n.__(\"passwordPlaceholder\")}\n                id={\"password\"}\n                name={\"password\"}\n                onFocus={e => {\n                  if (loginFields.username.length === 0) {\n                    checkUsername(\"\");\n                    setInputUsernameFocus();\n                    e.preventDefault();\n                  }\n                }}\n                onChange={e => {\n                  //console.log(\"PASS \", e.target.value);\n                  handleChange(e);\n                  /*\n                  const passwordError = checkPassword(e.target.value);\n                  if (passwordError) {\n                    setPasswordError({\n                      status: true,\n                    });\n                    //alerts.error(i18n.__(\"passwordQuality\"), {});\n                    const errorMsg = i18n.__(\"passwordQuality\");\n                    if (\n                      !alerts\n                        .check()\n                        .some((alert) => alert.message === errorMsg)\n                    )\n                      alerts.error(errorMsg, {});\n                  } else if (e.target.value.length > 7) {\n                    setPasswordError({\n                      status: false,\n                    });\n                    const userError = checkUsername(loginFields.username, true);\n                    if (userError !== \"\") {\n                      //alerts.error(userError, {});\n\n                      if (\n                        !alerts\n                          .check()\n                          .some((alert) => alert.message === userError)\n                      )\n                        alerts.error(userError, {});\n                      setUsernameError({ status: true });\n                    } else {\n                      setUsernameError({ status: false });\n                      setInvalidLogin(1);\n                    }\n                  }\n                  */\n                }}\n                onKeyDown={e => {\n                  if (e.key === \"Enter\") {\n                    let errorMsg = \"\";\n                    if (e.target.value.length === 0) {\n                      errorMsg = i18n.__(\"invalidEntry\");\n                    } else {\n                      const passwordError = checkPassword(e.target.value);\n                      if (passwordError) {\n                        errorMsg = i18n.__(\"passwordQuality\");\n                      }\n                    }\n                    if (errorMsg !== \"\") {\n                      if (\n                        !alerts\n                          .check()\n                          .some(alert => alert.message === errorMsg)\n                      )\n                        alerts.error(errorMsg, {});\n                      setPasswordError({\n                        status: true,\n                      });\n                    } else {\n                      setPasswordError({\n                        status: false,\n                      });\n                      checkUsername(loginFields.username);\n                    }\n                  }\n                }}\n                onBlur={e => {\n                  const passwordError = checkPassword(e.target.value, true);\n                  if (passwordError) {\n                    const errorMsg = i18n.__(\"passwordQuality\");\n                    if (\n                      !alerts.check().some(alert => alert.message === errorMsg)\n                    )\n                      alerts.error(errorMsg, {});\n                    setPasswordError({\n                      status: true,\n                    });\n\n                    setInputPasswordFocus();\n                    e.preventDefault();\n                  } else {\n                    setPasswordError({\n                      status: false,\n                    });\n                  }\n                }}\n                ref={inputPassword}\n                error={passwordError.status}\n              />\n              <Box\n                display={\"inline-flex\"}\n                justifyContent={\"flex-end\"}\n                width={[1]}\n                style={{\n                  position: \"relative\",\n                  top: \"-7px\",\n                  /* top: passwordError.status ? \"-33px\" : \"-7px\", */\n                }}\n              >\n                <Flex>\n                  <Button variation={\"link\"} fontSize={\"10px\"}>\n                    {i18n.__(\"forgotPassword\")}\n                  </Button>\n                </Flex>\n              </Box>\n            </Box>\n            {/* \n            <Box mt={passwordError.status ? 49 : 77} display={\"inline-flex\"}> */}\n            <Box mt={77} display={\"inline-flex\"}>\n              <Flex>\n                <Button variation={\"outline\"} onClick={createAccountClick}>\n                  {i18n.__(\"createAccount\")}\n                </Button>\n              </Flex>\n              <Flex ml={99}>\n                <Button\n                  disabled={\n                    passwordError.status ||\n                    usernameError.status ||\n                    loginFields.username.length < config.usernameLength ||\n                    loginFields.password.length < config.passwordLength\n                  }\n                  onClick={loginClick}\n                >\n                  {i18n.__(\"loginButton\")}\n                </Button>\n              </Flex>\n            </Box>\n          </ProgressContainer>\n        </Box>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default Login;\n","/* eslint-disable react/forbid-prop-types */\nimport React, { useState } from \"react\";\nimport { Box, Flex, Button, Text, IconField } from \"@blend-ui/core\";\n\nimport bxKey from \"@iconify/icons-bx/bx-key\";\nimport { ReactComponent as Phone } from \"../assets/phone.svg\";\n\nimport ProgressContainer from \"../components/ProgressContainer\";\nimport { useFormFields } from \"../lib/formFields\";\n\nimport { onlyDigitChars } from \"../lib/utils\";\n\nimport { useFocus } from \"../lib/componentUtils\";\nimport { useHistory } from \"react-router-dom\";\nimport { useToast } from \"@blend-ui/toast\";\nimport i18n from \"../lib/i18n\";\n\nimport PropTypes from \"prop-types\";\n\ni18n.init();\n\nconst ConfirmAuth = ({ backButton, authOptions, ...props }) => {\n  const history = useHistory();\n  const alerts = useToast();\n  //console.log(\"TOAST \", alerts);\n  const appDebug =\n    process.env.REACT_APP_DEBUG === \"true\" &&\n    history.location.search === \"?debug=true\";\n  console.log(\"APP DEBUG \", appDebug);\n\n  const [confirmationFields, handleChange] = useFormFields({\n    confirmationCode: \"\",\n  });\n  const [inputCode, setInputCodeFocus] = useFocus();\n  const [inputError, setInputError] = useState({ status: false, msg: \"\" });\n\n  const checkInput = code => {\n    const checkResult = onlyDigitChars(code);\n    //console.log(checkResult);\n    let validCode = true;\n    if (!checkResult) {\n      setInputError({ status: true, msg: i18n.__(\"codeDigitsError\") });\n      //alerts.error(i18n.__(\"codeDigitsError\"), {});\n      const errorMsg = i18n.__(\"codeDigitsError\");\n      if (!alerts.check().some(alert => alert.message === errorMsg))\n        alerts.error(errorMsg, {});\n      validCode = false;\n    }\n    if (code.length > 1 && code.length !== 6) {\n      setInputError({ status: true, msg: i18n.__(\"codeLengthError\") });\n      //alerts.error(i18n.__(\"codeLengthError\"), {});\n      const errorMsg = i18n.__(\"codeLengthError\");\n      if (!alerts.check().some(alert => alert.message === errorMsg))\n        alerts.error(errorMsg, {});\n      validCode = false;\n    }\n    if (validCode) {\n      setInputError({ status: false, msg: \"\" });\n    }\n  };\n  const confirmClick = async e => {\n    try {\n      const loggedUser = await authOptions.Auth.confirmSignIn(\n        authOptions.user,\n        confirmationFields.confirmationCode,\n        \"SMS_MFA\",\n      );\n\n      console.log(\"CONFIRM \", loggedUser);\n      if (appDebug) {\n        const mfa = await authOptions.Auth.setPreferredMFA(loggedUser, \"NOMFA\");\n        console.log(\"MFA \", mfa);\n      }\n\n      history.replace(\"/home\");\n      authOptions.setAuth(true);\n    } catch (e) {\n      console.log(\"ERR\", e);\n      if (e.code === \"CodeMismatchException\") {\n        setInputError({ status: true, msg: i18n.__(\"invalidCode\") });\n        //alerts.error(i18n.__(\"invalidCode\"), {});\n        const errorMsg = i18n.__(\"invalidCode\");\n        if (!alerts.check().some(alert => alert.message === errorMsg))\n          alerts.error(errorMsg, {});\n      }\n\n      /*\n      code: \"CodeMismatchException\"\nmessage: \"Invalid code or auth state for the user.\"\nname: \"CodeMismatchException\"\n*/\n    }\n  };\n  // 86 ,114\n  return (\n    <ProgressContainer title={i18n.__(\"confirmTitle\")} progress={100}>\n      <Box mt={47}>\n        <Box display={\"inline-flex\"}>\n          <Box>\n            <Phone height={\"135px\"} width={\"68px\"} />\n          </Box>\n          <Box ml={48}>\n            <Box>\n              <Text textStyle={\"h6\"}>{i18n.__(\"authConfirmTitle\")}</Text>\n            </Box>\n            <Box mt={5}>\n              <Text textStyle={\"caption2\"} as={\"p\"} m={0}>\n                {i18n.__(\"authConfirmationText\")}\n              </Text>\n            </Box>\n            <Box mt={15}>\n              <IconField width={\"200px\"}>\n                <IconField.LeftIcon\n                  iconify={bxKey}\n                  color={\"componentPrimary\"}\n                  size={\"17\"}\n                />\n                <IconField.InputField\n                  placeholder={i18n.__(\"codePropmt\")}\n                  id={\"confirmationCode\"}\n                  name={\"confirmationCode\"}\n                  onChange={handleChange}\n                  onKeyDown={e => {\n                    if (e.key === \"Enter\") {\n                      checkInput(confirmationFields.confirmationCode);\n                    }\n                  }}\n                  //errorMsg={inputError.msg}\n                  //error={inputError.status}\n                  ref={inputCode}\n                />\n              </IconField>\n            </Box>\n          </Box>\n        </Box>\n      </Box>\n\n      <Box mt={inputError.status ? 83 : 84} display={\"inline-flex\"}>\n        <Flex>\n          <Button variation={\"outline\"} onClick={backButton}>\n            {i18n.__(\"backButton\")}\n          </Button>\n        </Flex>\n        <Flex ml={99}>\n          <Button\n            disabled={\n              inputError.status ||\n              confirmationFields.confirmationCode.length !== 6\n            }\n            onClick={confirmClick}\n          >\n            {i18n.__(\"confirmButton\")}\n          </Button>\n        </Flex>\n      </Box>\n    </ProgressContainer>\n  );\n};\n\nConfirmAuth.propTypes = {\n  backButton: PropTypes.func.isRequired,\n  authOptions: PropTypes.object.isRequired,\n};\nexport default ConfirmAuth;\n","/* eslint-disable react/forbid-prop-types */\n/* eslint-disable react/no-multi-comp */\n/* global localStorage */\n\nimport React, { useEffect, useReducer, useState, useRef } from \"react\";\n//import { useTheme } from \"@blend-ui/core\";\nimport { CssGrid, CssCell } from \"@blend-ui/css-grid\";\n\nimport { Box, Flex } from \"@blend-ui/core\";\n//import { ReactComponent as PrifinaLogo } from \"../assets/prifina.svg\";\n/*\nimport {\n  UserMenuContextProvider,\n  useUserMenu,\n} from \"@blend-ui/floating-user-menu\";\n*/\nimport { useUserMenu } from \"../components/FloatingUserMenu\";\n\n//import { Background } from \"../assets/background-image\";\n//import Background from \"../assets/background.png\";\n//import styled from \"styled-components\";\n//import InstalledApps from \"../components/InstalledApps\";\n//import { ReactComponent as SettingsIcon } from \"../assets/settings.svg\";\n//import AppIcon from \"../components/AppIcon\";\n//import ImportComponent from \"../components/ImportComponent\";\nimport { useIsMountedRef } from \"../lib/componentUtils\";\n\nimport AWSAppSyncClient, { AUTH_TYPE } from \"aws-appsync\";\n\nimport gql from \"graphql-tag\";\n\nimport { getNotificationCount } from \"../graphql/queries\";\n\nimport { updateActivity } from \"../graphql/mutations\";\n\nimport { newNotification } from \"../graphql/subscriptions\";\nimport {\n  getInstalledAppsQuery,\n  getPrifinaAppsQuery,\n  getPrifinaUserQuery,\n} from \"../graphql/api\";\nimport { useAppContext } from \"../lib/contextLib\";\nimport Amplify, { API, Auth } from \"aws-amplify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { StyledBox, StyledBackground } from \"../components/DefaultBackground\";\nimport { PrifinaLogo } from \"../components/PrifinaLogo\";\n\nimport { useSpring, animated } from \"react-spring\";\n\nimport withUsermenu from \"../components/UserMenu\";\n\nimport PropTypes from \"prop-types\";\n\n/*\nconst importComponent = (name) => {\n  console.log(\"IMPORT \", name);\n  return React.lazy(() =>\n    import(`${name}`).catch((err) => {\n      console.log(\"ERR \", err);\n    })\n  );\n};\n*/\nconst array_chunks = (array, chunk_size) =>\n  Array(Math.ceil(array.length / chunk_size))\n    .fill()\n    .map((_, index) => index * chunk_size)\n    .map(begin => array.slice(begin, begin + chunk_size));\n\nconst Content = ({ clientHandler, currentUser, activeUser }) => {\n  const history = useHistory();\n  const userMenu = useUserMenu();\n  //const theme = useTheme();\n\n  //Amplify.configure(APIConfig);\n  //console.log(\"AMPLIFY \", Amplify.configure(), API.configure());\n  console.log(\"CURRENT USER \", currentUser);\n\n  const isMountedRef = useIsMountedRef();\n  const [state, setState] = useReducer(\n    (state, newState) => ({ ...state, ...newState }),\n    { appIcons: [], loadingStatus: true },\n  );\n\n  const prifinaApps = useRef({});\n  const [installedAppIcons, setInstalledAppIcons] = useState([]);\n  const [installedApps, setInstalledApps] = useState([]);\n  const notificationHandler = useRef(null);\n  const subscriptionHandler = useRef(null);\n  //const activeUser = useRef({});\n\n  // const [logout, setLogout] = useState(true);\n  //let installedApps = [];\n  /*\n  let installedApps = JSON.parse(localStorage.getItem(\"PrifinaInstalledApps\"));\n  if (installedApps === null) {\n    installedApps = [\n      \"Settings\",\n      \"DataConsole\",\n      \"AppMarket\",\n      \"SmartSearch\",\n      \"DisplayApp\",\n      \"ProfileCards\",\n      \"DevConsole\",\n    ];\n    localStorage.setItem(\"PrifinaInstalledApps\", JSON.stringify(installedApps));\n  }\n*/\n\n  const subscribeNotification = (userClient, variables) => {\n    return userClient\n      .subscribe({ query: gql(newNotification), variables: variables })\n      .subscribe({\n        next: res => {\n          console.log(\"NOTIFICATION SUBS RESULTS \", res);\n          if (res.data.newNotification.owner !== \"\") {\n            notificationHandler.current(1);\n          }\n        },\n        error: error => {\n          console.warn(error);\n        },\n      });\n  };\n  /*\n  const updateNotification = useCallback(handler => {\n    notificationHandler.current = handler;\n  }, []);\n*/\n  useEffect(() => {\n    async function fetchData() {\n      if (isMountedRef.current) {\n        const prifinaAppsData = await getPrifinaAppsQuery(API, \"APPS\");\n        console.log(prifinaApps);\n        const prifinaAppsJSON = JSON.parse(\n          prifinaAppsData.data.getPrifinaApp.apps,\n        );\n\n        const installedAppsJSON = JSON.parse(currentUser.installedApps);\n        installedAppsJSON.forEach(app => {\n          prifinaApps.current[app] = prifinaAppsJSON[app];\n        });\n\n        const appProfile = JSON.parse(currentUser.appProfile);\n        const initials = appProfile.initials;\n\n        console.log(\"APP PROFILE \", appProfile);\n        /*\n        activeUser.current = {\n          name: appProfile.name,\n          uuid: currentUser.id\n        };\n*/\n\n        const notificationCountResult = await clientHandler.query({\n          query: gql(getNotificationCount),\n          variables: {\n            filter: {\n              owner: { eq: currentUser.id },\n              status: { eq: 0 },\n            },\n          },\n        });\n        console.log(\"COUNT \", notificationCountResult);\n\n        userMenu.show({\n          initials: initials,\n          effect: { hover: { width: 42 } },\n          notifications: notificationCountResult.data.getNotificationCount,\n          RecentApps: [],\n        });\n\n        userMenu.setClientHandler(clientHandler);\n        userMenu.setActiveUser(activeUser);\n\n        notificationHandler.current = userMenu.onUpdate;\n\n        subscriptionHandler.current = subscribeNotification(clientHandler, {\n          owner: currentUser.id,\n        });\n\n        await clientHandler.mutate({\n          mutation: gql(updateActivity),\n          variables: {\n            id: currentUser.id,\n            activeApp: \"Home\",\n          },\n        });\n        setInstalledApps(installedAppsJSON);\n      }\n    }\n\n    fetchData();\n  }, [isMountedRef, currentUser.id]);\n\n  useEffect(() => {\n    // timeoutId for debounce mechanism\n    let timeoutId = null;\n    let isMounted = true;\n    const resizeListener = () => {\n      if (isMounted) {\n        // prevent execution of previous setTimeout\n        clearTimeout(timeoutId);\n        // change width from the state object after 150 milliseconds\n        timeoutId = setTimeout(() => {\n          console.log(\"RESIZE \", window.innerHeight);\n          setInstalledAppIcons([]);\n        }, 150);\n      }\n    };\n    // set resize listener\n    window.addEventListener(\"resize\", resizeListener);\n\n    // clean up function\n    return () => {\n      isMounted = false;\n      // remove resize listener\n      window.removeEventListener(\"resize\", resizeListener);\n    };\n  }, []);\n\n  //height={\"100vh\"}\n  /*\n  <StyledBox\n  minWidth={\"1440px\"}\n  maxHeight={\"792px\"}\n  minHeight={\"792px\"}\n>\n*/\n  //const installedApps=InstalledApps([\"./SettingsIcon\"])\n\n  //const Component = ImportComponent(\"./SettingsIcon\");\n  useEffect(() => {\n    if (installedApps.length > 0) {\n      const appImports = installedApps.map(app => {\n        return import(`../components/${app}Icon`);\n      });\n\n      Promise.all(appImports).then(components => {\n        console.log(\"COMPONENT \", components);\n        const appComponents = components.map((Component, i) => {\n          console.log(\"COMPONENT NAME \", Component.default.displayName);\n          return {\n            component: (\n              <div key={\"app-\" + i}>\n                <Component.default />\n              </div>\n            ),\n            name: Component.default.displayName,\n          };\n        });\n        //console.log(appComponents);\n        console.log(\"IMPORT APP ICONS...\", appComponents);\n        setState({ loadingStatus: false, appIcons: appComponents });\n      });\n    }\n    // Spread operator, wrapper function (recommended)\n    // setSearches(searches => [...searches, query])\n    // Using .concat(), wrapper function (recommended)\n    // setSearches(searches => searches.concat(query))\n  }, [installedApps]);\n\n  const { loadingStatus, appIcons } = state;\n  console.log(\"APP ICONS \", appIcons, appIcons.length * 100);\n  // window.innerHeight-130  (130 is from top)\n  const iconCols = Math.ceil(\n    (appIcons.length * 115) / (window.innerHeight - 130),\n  );\n\n  let gridCols = \"1fr\";\n  if (iconCols > 0) {\n    gridCols += \" 80px\".repeat(iconCols);\n  }\n\n  console.log(iconCols, gridCols, appIcons.length);\n\n  let maxColHeight = Array(appIcons.length)\n    .fill(0)\n    .map((v, i) => {\n      return i + 1;\n    })\n    .filter((v, i) => {\n      console.log(v, i, v * 115);\n      return v * 115 > window.innerHeight - 130;\n    })[0];\n  console.log(\"maxColHeight... \", maxColHeight - 1);\n  console.log(\"CHECK \", appIcons.length > 0, installedAppIcons.length === 0);\n  if (isNaN(maxColHeight)) maxColHeight = appIcons.length;\n  if (appIcons.length > 0 && installedAppIcons.length === 0) {\n    //console.log(\"UPDATE THIS \", appIcons);\n    setInstalledAppIcons(array_chunks(appIcons, maxColHeight - 1));\n    //console.log(installedAppIcons);\n  }\n  if (installedAppIcons.length > 0) {\n    installedAppIcons.map((v, i) => {\n      console.log(v, i);\n    });\n  }\n  console.log(\"APPS \", prifinaApps.current);\n  const { opacity } = useSpring({\n    opacity: 1,\n    from: { opacity: 0 },\n    config: { duration: 3000 },\n  });\n  // opacity.interpolate(o => (o > 0.7 ? 1 : o)),\n  //visibility: props.opacity.interpolate(o => o === 0 ? 'hidden' : 'visible')\n  // <a.div class=\"c front\" style={{ opacity, transform: transform.interpolate(t => `${t} rotateX(180deg)`) }} />\n  //style={{ opacity: opacity.interpolate(o => (o > 0.5 ? 1 : o)) }}\n  return (\n    <React.Fragment>\n      <StyledBox>\n        <PrifinaLogo />\n        <StyledBackground>\n          {loadingStatus && <div />}\n          {!loadingStatus && (\n            <animated.div\n              style={{ opacity: opacity.interpolate(o => (o > 0.6 ? 1 : o)) }}\n            >\n              <Box m={8} mt={77} style={{ zIndex: 3 }}>\n                <CssGrid columns={gridCols} flow=\"column\">\n                  {/* \n                <CssCell left={3} top={1}>\n                  {appIcons}\n                </CssCell>\n                */}\n                  {installedAppIcons.length > 0 &&\n                    installedAppIcons.map((icons, colIndex) => {\n                      return icons.map((appIcon, pos) => {\n                        //console.log(\"RENDER \", appIcon);\n                        return (\n                          <CssCell\n                            key={\"cell-\" + colIndex + \"-\" + pos}\n                            left={installedAppIcons.length - colIndex + 1}\n                            top={icons.length - pos}\n                            style={{ cursor: \"pointer\" }}\n                            onClick={() => {\n                              console.log(\n                                \"APP CLICK \",\n                                prifinaApps.current[appIcon.name].route,\n                              );\n                              history.push(\n                                \"/\" + prifinaApps.current[appIcon.name].route,\n                              );\n                            }}\n                          >\n                            {appIcon.component}\n                          </CssCell>\n                        );\n                      });\n                    })}\n                </CssGrid>\n              </Box>\n            </animated.div>\n          )}\n        </StyledBackground>\n      </StyledBox>\n    </React.Fragment>\n  );\n};\n\nContent.propTypes = {\n  clientHandler: PropTypes.object,\n  currentUser: PropTypes.object,\n  activeUser: PropTypes.object,\n};\n\nconst Home = props => {\n  const history = useHistory();\n  const { userAuth, currentUser } = useAppContext();\n  console.log(\"HOME \", currentUser);\n  const clientHandler = useRef(null);\n  const userData = useRef(null);\n\n  const [initClient, setInitClient] = useState(false);\n  const activeUser = useRef({});\n  const createClient = (endpoint, region) => {\n    const client = new AWSAppSyncClient({\n      url: endpoint,\n      region: region,\n      auth: {\n        type: AUTH_TYPE.AWS_IAM,\n        credentials: () => Auth.currentCredentials(),\n      },\n\n      disableOffline: true,\n    });\n    return client;\n  };\n\n  useEffect(async () => {\n    if (Object.keys(currentUser).length > 0) {\n      const currentPrifinaUser = await getPrifinaUserQuery(\n        API,\n        currentUser.prifinaID,\n      );\n\n      const appProfile = JSON.parse(\n        currentPrifinaUser.data.getPrifinaUser.appProfile,\n      );\n\n      let clientEndpoint =\n        \"https://kxsr2w4zxbb5vi5p7nbeyfzuee.appsync-api.us-east-1.amazonaws.com/graphql\";\n      let clientRegion = \"us-east-1\";\n\n      if (appProfile.hasOwnProperty(\"endpoint\")) {\n        clientEndpoint = appProfile.endpoint;\n        clientRegion = appProfile.region;\n      }\n\n      const client = createClient(clientEndpoint, clientRegion);\n\n      userData.current = currentPrifinaUser.data.getPrifinaUser;\n\n      activeUser.current = {\n        name: appProfile.name,\n        uuid: currentUser.prifinaID,\n        endpoint: clientEndpoint,\n        region: clientRegion,\n      };\n\n      clientHandler.current = client;\n      setInitClient(true);\n    }\n  }, [currentUser]);\n\n  return (\n    <>\n      {initClient && (\n        <Content\n          clientHandler={clientHandler.current}\n          currentUser={userData.current}\n          activeUser={activeUser.current}\n        />\n      )}\n      {!initClient && <div />}\n    </>\n  );\n};\n\nHome.displayName = \"Home\";\n\nexport default withUsermenu()(Home);\n","/* eslint-disable react/forbid-prop-types */\nimport React, { useState, useEffect } from \"react\";\n\nimport styled from \"styled-components\";\n\nimport { Box, Text, Flex } from \"@blend-ui/core\";\n\nimport { Auth } from \"aws-amplify\";\nimport { useAppContext, useAccountContext } from \"../lib/contextLib\";\n\nimport { useHistory } from \"react-router-dom\";\nimport i18n from \"../lib/i18n\";\nimport { useToast } from \"@blend-ui/toast\";\nimport { DotLoader } from \"@blend-ui/progress\";\n\nimport PropTypes from \"prop-types\";\n\ni18n.init();\n\nconst StyledBox = styled(Box)`\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  margin-top: 192px;\n  z-index: 3;\n`;\nconst LoaderBox = styled(Box)`\n  width: 850px;\n  z-index: 3;\n`;\n\nconst FinalizingAccount = ({ currentUser, ...props }) => {\n  //console.log(\"Phone \", props);\n  const history = useHistory();\n  const { AUTHConfig, userAuth } = useAppContext();\n  Auth.configure(AUTHConfig);\n  //const { currentUser, state } = useAccountContext();\n\n  const alerts = useToast();\n\n  console.log(\"FIN \", currentUser);\n\n  //console.log(\"USE \", useToast);\n\n  //const [confirmCode, setConfirmCode] = useState(false);\n\n  useEffect(() => {\n    async function onLoad() {\n      const abortController = new AbortController();\n      //console.log(\"SIGNUP \", state);\n      try {\n        const _newUser = {\n          username: currentUser.uuid,\n          password: currentUser.accountPassword.value,\n          attributes: {\n            email: currentUser.emailVerified,\n            phone_number: currentUser.phoneVerified,\n            family_name: currentUser.lastName.value,\n            given_name: currentUser.firstName.value,\n            name: currentUser.username.value,\n          },\n        };\n        console.log(\"Creating... \", _newUser);\n        const { user } = await Auth.signUp(_newUser);\n        console.log(user);\n        history.replace(\"/login\");\n        /*\n        alerts.success(\"Account created\", {\n          duration: 10000,\n          onClose: () => {\n            console.log(\"ON CLOSE...\");\n            //history.replace(\"/\");\n          },\n        });\n        */\n      } catch (e) {\n        console.log(\"ERR \", e);\n        if (e.code === \"AuthError\" || e.code === \"UsernameExistsException\") {\n          alerts.error(i18n.__(\"usernameExists\"), {});\n        }\n      }\n      return () => {\n        abortController.abort();\n      };\n    }\n    onLoad();\n    //});\n  }, []);\n\n  return (\n    <StyledBox>\n      <LoaderBox>\n        <Text as={\"h1\"} textAlign={\"center\"}>\n          This process may take a few secords\n        </Text>\n        <Flex justifyContent={\"center\"} mt={131}>\n          <DotLoader />\n        </Flex>\n      </LoaderBox>\n    </StyledBox>\n  );\n};\n\nFinalizingAccount.propTypes = {\n  currentUser: PropTypes.object.isRequired,\n};\nexport default FinalizingAccount;\n","/* eslint-disable react/forbid-prop-types */\n/* eslint-disable react/no-multi-comp */\nimport React, { createRef, forwardRef, createContext, useContext } from \"react\";\nimport { Input, Text, Box, useTheme, SearchSelect } from \"@blend-ui/core\";\n\nimport bxPhone from \"@iconify/icons-bx/bx-phone\";\n\nimport { BlendIcon } from \"@blend-ui/icons\";\n\nimport styled from \"styled-components\";\nimport { space } from \"styled-system\";\nimport { useId } from \"@reach/auto-id\";\n\nimport PropTypes from \"prop-types\";\n//import { useFocus } from \"../lib/componentUtils\";\n\nconst StyledBox = styled(\"div\")`\n  ${space}\n  /* remove flex and safari works....  */ \n  display: flex;\n  opacity:0.999;\n  \n  height: ${props =>\n    props.height\n      ? props.height\n      : props.theme.componentStyles.input.base.height};\n\n  background-color: #F5F8F7;\n\n/*\n      background-color: ${props =>\n        props.disabled\n          ? props.theme.colors.text.muted\n          : props.theme.componentStyles.input.base.backgroundColor ||\n            \"transparent\"};\n            */\n  border: ${props =>\n    typeof props.borders !== \"undefined\"\n      ? props.borders\n      : props.errorinput\n      ? props.theme.borders.input.error\n      : props.theme.componentStyles.input.base.border};\n  border-radius: ${props =>\n    typeof props.borderRadius !== \"undefined\"\n      ? props.borderRadius\n      : props.theme.componentStyles.input.base.borderRadius};\n\n  &:focus,\n  &:not([disabled]):hover {\n    outline: none;\n    -webkit-box-shadow: none;\n    box-shadow: none;\n    border: ${props => props.theme.borders.input.active};\n  }\n  \n  /*\n  &:disabled {\n    background: ${props => props.theme.colors.text.muted};\n    border: ${props => props.theme.borders.input.disabled};\n     pointer-events: none; \n  }\n  \n  &:invalid {\n    outline: none;\n    -webkit-box-shadow: none;\n    box-shadow: none;\n    border: props.theme.borders.input.error};\n  }\n  */\n`;\n\nconst InputContext = createContext();\nconst useInputContext = () => useContext(InputContext);\n\nconst PhoneNumberField = ({ children, disabled, id, ...props }) => {\n  //console.log(\"ICON FIELD \", props);\n  const isIcon = item => item.type.isIcon || item.type.isIconButton;\n  const { colors } = useTheme();\n\n  const uuid = useId();\n  const _id = id || uuid;\n  //console.log(\"ID \", uuid, _id);\n  const formatIds = id => ({\n    select: `search-${id}-select`,\n    input: `search-${id}-input`,\n  });\n  const selectId = formatIds(_id)[\"select\"];\n  const inputId = formatIds(_id)[\"input\"];\n  //console.log(\"ID \", _id, inputId);\n  let inputError = false;\n  let errorMsg = \"\";\n  let promptMsg = \"\";\n  React.Children.toArray(children).forEach((child, i) => {\n    if (!isIcon(child) && !inputError) {\n      inputError = child.props.error || false;\n    }\n    if (!isIcon(child) && child.props.errorMsg) {\n      errorMsg = child.props.errorMsg;\n    }\n    if (!isIcon(child) && child.props.promptMsg) {\n      promptMsg = child.props.promptMsg;\n    }\n  });\n\n  //width={\"50px\"}\n  //containerRef={boxRef}\n  const boxRef = createRef();\n  //const searchRef = createRef();\n\n  return (\n    <InputContext.Provider\n      value={{\n        disabled,\n        inputError,\n        inputId,\n        selectId,\n        boxRef,\n      }}\n    >\n      <StyledBox\n        disabled={disabled || null}\n        errorinput={inputError ? 1 : undefined}\n        ref={boxRef}\n      >\n        <LeftIcon iconify={bxPhone} color={\"componentPrimary\"} size={\"17\"} />\n\n        {children}\n      </StyledBox>\n      {errorMsg !== \"\" && inputError && (\n        <Box mt={0} mb={10}>\n          <Text textStyle={\"caption2\"} color={colors.baseError}>\n            {errorMsg}\n          </Text>\n        </Box>\n      )}\n      {promptMsg !== \"\" && !inputError && (\n        <Box mt={0} mb={10}>\n          <Text textStyle={\"caption2\"} color={colors.baseSecondary}>\n            {promptMsg}\n          </Text>\n        </Box>\n      )}\n    </InputContext.Provider>\n  );\n};\n\nPhoneNumberField.propTypes = {\n  id: PropTypes.string,\n  disabled: PropTypes.bool,\n  children: PropTypes.array,\n};\nconst SelectField = forwardRef(\n  (\n    {\n      options,\n      defaultValue,\n      searchLength = 3,\n      showList = false,\n      selectOption = \"key\",\n      ...props\n    },\n    ref,\n  ) => {\n    const { selectId, boxRef } = useInputContext();\n\n    // const theme = useTheme();\n    // console.log(\"THEME \", theme);\n    //const theme = useTheme();\n    //console.log(\"DEFAULT \", defaultValue);\n\n    return (\n      <div\n        style={{\n          display: \"inline-block\",\n          paddingTop: \"3px\",\n        }}\n      >\n        <SearchSelect\n          id={selectId}\n          name={selectId}\n          defaultValue={defaultValue}\n          options={options}\n          showList={showList}\n          searchLength={searchLength}\n          size={\"sm\"}\n          width={\"60px\"}\n          selectOption={selectOption}\n          containerRef={boxRef}\n          containerOffset={\"-38px\"}\n          ref={ref}\n          {...props}\n        />\n      </div>\n    );\n  },\n);\n\nSelectField.propTypes = {\n  options: PropTypes.array,\n  defaultValue: PropTypes.string,\n  searchLength: PropTypes.number,\n  showList: PropTypes.bool,\n  selectOption: PropTypes.string,\n};\nconst InputField = forwardRef(\n  ({ children, errorMsg, promptMsg, ...props }, ref) => {\n    const { disabled, inputId } = useInputContext();\n    const theme = useTheme();\n    //console.log(\"INPUT \", defaultValue);\n    /*\n    if (defaultValue === \"000\" && renderStatus) {\n      setSelectFocus();\n    }\n    */\n    return (\n      <Input\n        id={inputId}\n        name={inputId}\n        ref={ref}\n        isIcon={true}\n        borders={0}\n        disabled={disabled || null}\n        {...props}\n        paddingLeft={theme.sizeOptions[10]}\n        paddingRight={theme.sizeOptions[10]}\n      />\n    );\n  },\n);\n\nInputField.propTypes = {\n  errorMsg: PropTypes.string,\n  promptMsg: PropTypes.string,\n  children: PropTypes.array,\n};\nconst LeftIcon = styled(props => {\n  const { disabled, inputError } = useInputContext();\n  const theme = useTheme();\n  //const { color, ...rest } = props;\n  //color={disabled ? theme.colors.baseMuted : color}\n\n  return (\n    <BlendIcon\n      {...props}\n      fill={disabled ? theme.colors.baseMuted : \"transparent\"}\n      color={\n        inputError\n          ? theme.colors.baseError\n          : props.color || theme.colors.baseSecondary\n      }\n      theme={theme}\n      style={{\n        marginLeft: theme.sizeOptions[10],\n        marginRight: theme.sizeOptions[10],\n      }}\n    />\n  );\n})`\n  flex: none;\n  align-self: center;\n  pointer-events: none;\n  position: relative;\n`;\n\nInputField.displayName = \"PhoneNumberInputField\";\nPhoneNumberField.InputField = InputField;\nSelectField.displayName = \"PhoneNumberRegionField\";\n\nPhoneNumberField.RegionField = SelectField;\n\nexport default PhoneNumberField;\n","import React, { useState, useReducer, useEffect, useRef } from \"react\";\nimport {\n  IconField,\n  Button,\n  Input,\n  Box,\n  Flex,\n  Text,\n  useTheme,\n} from \"@blend-ui/core\";\n\nimport { useAppContext } from \"../lib/contextLib\";\nimport bxUser from \"@iconify/icons-bx/bx-user\";\nimport bxEnvelope from \"@iconify/icons-bx/bx-envelope\";\nimport ProgressContainer from \"../components/ProgressContainer\";\nimport PasswordField from \"../components/PasswordField\";\nimport PhoneNumberField from \"../components/PhoneNumberField\";\nimport { useHistory } from \"react-router-dom\";\n\n//import { useFormFields } from \"../lib/formFields\";\nimport {\n  checkPassword,\n  validEmail,\n  validUsername,\n  isValidNumber,\n  countryList,\n  lowerCaseChars,\n  addRegionCode,\n} from \"../lib/utils\";\n\nimport { useFocus } from \"../lib/componentUtils\";\nimport config from \"../config\";\nimport {\n  checkUsernameQuery,\n  getCountryCodeQuery,\n  checkCognitoAttributeQuery,\n} from \"../graphql/api\";\nimport Amplify, { API, Auth } from \"aws-amplify\";\n\nimport { v4 as uuidv4 } from \"uuid\";\n\n//import strings from \"../lib/locales/en\";\n\n//const { i18n } = require(\"../lib/i18n\");\nimport i18n from \"../lib/i18n\";\nimport TermsOfUse from \"./TermsOfUse\";\n\nimport EmailVerification from \"./EmailVerification\";\nimport PhoneVerification from \"./PhoneVerification\";\nimport { useToast } from \"@blend-ui/toast\";\n\nimport { AccountContext } from \"../lib/contextLib\";\n\nimport PropTypes from \"prop-types\";\ni18n.init();\n\nconst CreateAccount = props => {\n  const history = useHistory();\n  const alerts = useToast();\n  const { APIConfig, AUTHConfig } = useAppContext();\n  Amplify.configure(APIConfig);\n  Auth.configure(AUTHConfig);\n\n  const uuid = uuidv4();\n\n  //console.log(\"ENV \", process.env);\n  //console.log(\"HISTORY \", history.location.search);\n  //REACT_APP_DEBUG: \"true\"\n  const appDebug =\n    process.env.REACT_APP_DEBUG === \"true\" &&\n    history.location.search === \"?debug=true\";\n  console.log(\"APP DEBUG \", appDebug);\n\n  //console.log(i18n.__(\"Testing\"));\n\n  //console.log(i18n.__(\"testMessage\"));\n  const { colors } = useTheme();\n  const selectOptions = useRef([]);\n  //console.log(selectOptions);\n\n  const initUser = {\n    username: uuid,\n    given_name: \"\",\n    client: AUTHConfig.userPoolWebClientId,\n    email: \"\",\n    phone_number: \"\",\n  };\n  const [currentUser, setCurrentUser] = useState(initUser);\n  const [seconds, setSeconds] = useState(0);\n  const [registerStep, setRegisterStep] = useState(0);\n\n  const [nextDisabled, setNextDisabled] = useState(true);\n  //const [passwordConfirmEntered, setPasswordConfirmEntered] = useState(false);\n\n  const [passwordVerification, setPasswordVerification] = useState([\n    false,\n    false,\n    false,\n    false,\n    false,\n  ]);\n\n  const [state, setState] = useReducer(\n    (state, newState) => ({ ...state, ...newState }),\n    {\n      email: {\n        status: false,\n        msg: \"\",\n        valid: false,\n        value: \"\",\n      },\n      phoneNumber: {\n        status: false,\n        msg: \"\",\n        valid: false,\n        value: \"\",\n      },\n      accountPassword: {\n        status: false,\n        msg: \"\",\n        valid: false,\n        value: \"\",\n      },\n      username: {\n        status: false,\n        msg: \"\",\n        valid: false,\n        value: \"\",\n      },\n      lastName: {\n        status: false,\n        msg: \"\",\n        valid: false,\n        value: \"\",\n      },\n      firstName: {\n        status: false,\n        msg: \"\",\n        valid: false,\n        value: \"\",\n      },\n      passwordConfirm: {\n        status: false,\n        msg: \"\",\n        valid: false,\n        value: \"\",\n      },\n      regionCode: \"000\",\n      termsAccepted: false,\n      emailVerified: \"\",\n      phoneVerified: \"\",\n    },\n  );\n\n  const [inputSelect, setSelectFocus] = useFocus();\n  const [inputUsername, setInputUsernameFocus] = useFocus();\n  const [inputEmail, setInputEmailFocus] = useFocus();\n  const [inputPhone, setInputPhoneFocus] = useFocus();\n  const [inputPassword, setInputPasswordFocus] = useFocus();\n  const [inputFirstname, setInputFirstnameFocus] = useFocus();\n  const [inputLastname, setInputLastnameFocus] = useFocus();\n\n  const [addPopper, setAddPopper] = useState(false);\n  const onPopper = (e, status) => {\n    console.log(\"POPPER\");\n    e.preventDefault();\n    setAddPopper(status);\n  };\n\n  const checkPhoneAttr = (region, phone, phoneOpts = {}) => {\n    console.log(\"CHECK PHONE APP-DEBUG \", appDebug);\n    if (appDebug) {\n      return Promise.resolve({});\n    } else {\n      let phoneNumber = addRegionCode(region, phone);\n      if (phoneOpts.hasOwnProperty(\"region\")) {\n        phoneNumber = phoneOpts.region + phoneOpts.phoneNumber;\n      }\n      return checkCognitoAttributeQuery(\n        API,\n        \"phone_number\",\n        phoneNumber,\n        config.cognito.USER_POOL_ID,\n      );\n    }\n  };\n  const phoneAlert = (errorMsg, phoneState, phoneOpts = {}) => {\n    if (\n      !phoneState &&\n      !alerts.check().some(alert => alert.message === errorMsg)\n    )\n      alerts.error(errorMsg, {});\n    if (phoneOpts.hasOwnProperty(\"region\")) {\n      console.log(\"CHANGE NUMBER \", phoneOpts);\n      setState({\n        phoneNumber: {\n          ...state.phoneNumber,\n          status: !phoneState,\n          value: phoneOpts.phoneNumber,\n        },\n        regionCode: phoneOpts.region,\n      });\n    } else {\n      setState({ phoneNumber: { ...state.phoneNumber, status: !phoneState } });\n    }\n  };\n\n  const checkPhone = (region, phone, check = false, changeNumber = true) => {\n    //console.log(\"FIELDS \", fields);\n    console.log(phone, region);\n\n    const errorMsg = i18n.__(\"invalidPhoneNumber\");\n\n    if (lowerCaseChars(phone.toLowerCase())) {\n      phoneAlert(errorMsg, false);\n      return false;\n    }\n    let checkResult = {};\n    if (phone.startsWith(\"+\")) {\n      checkResult = isValidNumber(phone);\n    } else {\n      checkResult = isValidNumber(region + phone);\n    }\n    let phoneState = Object.keys(checkResult).length > 0;\n    console.log(\"PHONE \", checkResult);\n    let phoneOpts = {};\n    if (phone.startsWith(\"+\") && changeNumber && phoneState) {\n      phoneOpts = {\n        region: \"+\" + checkResult.regionCode,\n        phoneNumber: checkResult.nationalNumber,\n      };\n      inputPhone.current.value = checkResult.nationalNumber;\n      inputSelect.current.value = checkResult.regionCode;\n    }\n\n    if (phoneState && check) {\n      //  console.log(\"CHECKING PHONE NUMBER\");\n\n      //let phoneNumber = addRegionCode(region, phone);\n      checkPhoneAttr(region, phone, phoneOpts).then(res => {\n        if (typeof res.data !== \"undefined\" && res.data.checkCognitoAttribute) {\n          phoneAlert(errorMsg, false, phoneOpts);\n        } else {\n          if (phoneOpts.hasOwnProperty(\"region\")) {\n            console.log(\"CHANGE NUMBER2 \", phoneOpts);\n\n            setState({\n              phoneNumber: {\n                ...state.phoneNumber,\n                status: !phoneState,\n                value: phoneOpts.phoneNumber,\n              },\n              regionCode: phoneOpts.region,\n            });\n          } else {\n            setState({ phoneNumber: { ...state.phoneNumber, status: false } });\n          }\n        }\n      });\n    } else {\n      phoneAlert(errorMsg, phoneState, phoneOpts);\n    }\n\n    //return !phoneState;\n    const returnState = check ? !phoneState : phoneState;\n    console.log(\"PHONE CHECK STATE \", check, phoneState, \"===>\", returnState);\n    return returnState;\n  };\n  /*\n  const checkEmailAttr = async (email) => {\n    let checkResult = false;\n    const emailExists = await checkCognitoAttributeQuery(\n      API,\n      \"email\",\n      email,\n      config.cognito.USER_POOL_ID\n    );\n    if (\n      typeof emailExists.data !== \"undefined\" &&\n      emailExists.data.checkCognitoAttribute\n    ) {\n      checkResult = true;\n    }\n    console.log(\"EMAIL ATTR CHECK \", emailExists, checkResult);\n\n    return checkResult;\n  };\n*/\n  const checkEmailAttr = email => {\n    return checkCognitoAttributeQuery(\n      API,\n      \"email\",\n      email,\n      config.cognito.USER_POOL_ID,\n    );\n  };\n\n  const emailAlert = (errorMsg, emailState) => {\n    if (\n      !emailState &&\n      !alerts.check().some(alert => alert.message === errorMsg)\n    )\n      alerts.error(errorMsg, {});\n\n    setState({ email: { ...state.email, status: !emailState } });\n  };\n\n  const checkEmail = (email, check = false) => {\n    //console.log(\"FIELDS \", fields);\n    let emailState = validEmail(email);\n    console.log(\"EMAIL \", emailState);\n\n    const errorMsg = i18n.__(\"invalidEmail\");\n\n    if (emailState && check) {\n      console.log(\"CHECKING EMAIL\");\n      checkEmailAttr(email).then(res => {\n        console.log(\"EMAIL ATTR CHECK \", res);\n        if (typeof res.data !== \"undefined\" && res.data.checkCognitoAttribute) {\n          emailAlert(errorMsg, false);\n        } else {\n          setState({ email: { ...state.email, status: false } });\n        }\n      });\n    } else {\n      emailAlert(errorMsg, emailState);\n    }\n\n    return check ? emailState : !emailState;\n  };\n\n  const userNameAlert = (userError, userMsg) => {\n    if (userError && !alerts.check().some(alert => alert.message === userMsg))\n      alerts.error(userMsg, {});\n\n    setState({ username: { ...state.username, status: userError } });\n  };\n  const checkUsername = (username, check = false) => {\n    //console.log(\"FIELDS2 \", fields);\n    //console.log(await checkUsernameQuery(API, \"tero-test\"));\n    const userState = validUsername(username, config.usernameLength);\n    let userError = userState !== \"\";\n    let userMsg = \"\";\n\n    if (userState === \"LENGTH\") {\n      userMsg = i18n.__(\"usernameError\", { length: config.usernameLength });\n    }\n    if (userState === \"SPACES\") {\n      userMsg = i18n.__(\"usernameError2\");\n    }\n    console.log(\"USER \", username, userError);\n    if (!userError && check) {\n      console.log(\"CHECKING USER\");\n      checkUsernameQuery(API, username).then(res => {\n        if (typeof res.data !== \"undefined\" && res.data.checkUsername) {\n          userNameAlert(true, i18n.__(\"usernameExists\"));\n        } else {\n          setState({ username: { ...state.username, status: false } });\n        }\n      });\n    } else {\n      userNameAlert(userError, userMsg);\n    }\n\n    return userError;\n  };\n\n  const isPasswordPossible = () => {\n    const errorMsg = i18n.__(\"invalidEntry\");\n    if (state.firstName.value.length === 0) {\n      console.log(\"check 1\");\n      setState({ firstName: { ...state.firstName, status: true } });\n      setInputFirstnameFocus();\n    } else if (state.lastName.value.length === 0) {\n      console.log(\"check 2\");\n      setState({ lastName: { ...state.lastName, status: true } });\n      setInputLastnameFocus();\n    } else if (state.username.value.length === 0) {\n      console.log(\"check 3\");\n      setState({ username: { ...state.username, status: true } });\n      setInputUsernameFocus();\n    } /* else if (state.email.value.length === 0) {\n      console.log(\"check 4\");\n      setState({ email: { ...state.email, status: true } });\n      setInputEmailFocus();\n    } */ else if (\n      state.username.status\n    ) {\n      console.log(\"check 5\");\n      setInputUsernameFocus();\n    } else if (state.email.status && state.email.value.length === 0) {\n      console.log(\"check 6\");\n      setInputEmailFocus();\n    } else if (state.firstName.status) {\n      console.log(\"check 7\");\n      setInputFirstnameFocus();\n    } else if (state.lastName.status) {\n      console.log(\"check 8\");\n      setInputLastnameFocus();\n    } else if (\n      state.phoneNumber.status &&\n      state.phoneNumber.value.length === 0\n    ) {\n      console.log(\"check 8\");\n      //console.log(\"PHONE NUM FAILED...\");\n      setInputPhoneFocus();\n    } else {\n      console.log(\"ALL GOOD...\");\n      return true;\n    }\n    if (!alerts.check().some(alert => alert.message === errorMsg))\n      alerts.error(errorMsg, {});\n    return false;\n  };\n\n  const checkConfirmPassword = (password, onBlur = false) => {\n    console.log(\"Confirm \", password, state);\n    const confirmStatus = state.accountPassword.value === password;\n    console.log(confirmStatus, state.accountPassword, password);\n    let checkResult = false;\n\n    const errorMsg = i18n.__(\"invalidPassword\");\n    if (!confirmStatus && !onBlur) {\n      if (!alerts.check().some(alert => alert.message === errorMsg))\n        alerts.error(errorMsg, {});\n      checkResult = true;\n    } else if (confirmStatus) {\n      setState({\n        accountPassword: { ...state.accountPassword, status: false },\n        passwordConfirm: { ...state.passwordConfirm, status: false },\n      });\n    }\n    /*\n    if (\n      (!confirmStatus && password.length >= config.passwordLength) ||\n      (!confirmStatus && !onBlur && !nextDisabled)\n    ) {\n      //setState({...state.password,})\n      setState({\n        accountPassword: { ...state.accountPassword, status: true },\n        passwordConfirm: { ...state.passwordConfirm, status: true },\n      });\n\n      setNextDisabled(true);\n\n      if (!alerts.check().some(alert => alert.message === errorMsg))\n        alerts.error(errorMsg, {});\n      checkResult = true;\n    } else if (confirmStatus) {\n      setState({\n        accountPassword: { ...state.accountPassword, status: false },\n        passwordConfirm: { ...state.passwordConfirm, status: false },\n      });\n\n      setNextDisabled(false);\n    }\n\n    if (!confirmStatus && onBlur) {\n      setInputPasswordFocus();\n    }\n    */\n\n    return checkResult;\n  };\n  const checkInputPassword = (password, updateVerification = true) => {\n    //console.log(password);\n    const checkResult = checkPassword(password, config.passwordLength, [\n      state.firstName.value,\n      state.lastName.value,\n      state.username.value,\n      /* state.email.value, */\n    ]);\n    console.log(\"PASS CHECK \", checkResult);\n    setPasswordVerification(checkResult);\n    return checkResult;\n  };\n\n  const checkPasswordQuality = verifications => {\n    //checkInputPassword(password);\n    console.log(\n      \"Checking password quality... \",\n      passwordVerification,\n      verifications,\n    );\n    const verifyList = verifications || passwordVerification;\n    const invalidPasswordStatus = verifyList.some((v, i) => {\n      console.log(\"STEP \", v, i);\n      return v === false;\n    });\n    return invalidPasswordStatus;\n  };\n\n  useEffect(() => {\n    async function onLoad() {\n      try {\n        selectOptions.current = countryList().map(cc => {\n          return {\n            key: \"+\" + cc.countryCode,\n            value: cc.regionName,\n            regionCode: cc.regionCode,\n            searchValue: cc.regionName + \" +\" + cc.countryCode,\n            component: (\n              <React.Fragment>\n                <Text as=\"span\">{cc.regionName}</Text>\n                <Text as=\"span\" color={colors.textMuted} fontSize={\"xs\"} pl={4}>\n                  (+{cc.countryCode})\n                </Text>\n              </React.Fragment>\n            ),\n          };\n        });\n\n        const userCountry = await getCountryCodeQuery(API);\n        console.log(\"COUNTRY \", userCountry.data.getCountryCode);\n        if (userCountry.data) {\n          const cIndex = selectOptions.current.findIndex(\n            c => c.regionCode === userCountry.data.getCountryCode,\n          );\n          console.log(\"INDEX \", cIndex);\n          if (cIndex > -1) {\n            //console.log(selectOptions[cIndex]);\n            setState({ regionCode: selectOptions.current[cIndex].key });\n          }\n        }\n      } catch (e) {\n        console.log(\"ERR \", e);\n      }\n    }\n    onLoad();\n  }, []);\n  const handleChange = event => {\n    console.log(event.target.id, document.activeElement.id);\n    if (event.target) {\n      console.log(\n        \"HANDLE CHANGE \",\n        event.target.id,\n        event.target.value,\n        document.activeElement.id,\n        document.activeElement.value,\n      );\n      if (\n        event.target.id === \"phoneNumber\" &&\n        (document.activeElement.id === \"accountPassword\" ||\n          document.activeElement.id === \"passwordConfirm\")\n      ) {\n        //console.log(\"SPECIAL \", state.phoneNumber);\n      } else {\n        let id = event.target.id;\n\n        // autofill messes up the onChange event logic...\n        let fld = undefined;\n        if (id !== \"regionCode\") {\n          fld = Object.assign({}, state[id]);\n          fld.value = event.target.value;\n          fld.valid = false;\n        } else {\n          fld = event.target.value;\n        }\n\n        if ([\"firstName\", \"lastName\"].indexOf(id) > -1) {\n          fld.status = event.target.value.length === 0;\n        }\n\n        /*\n        if (id === \"passwordConfirm\") {\n          const cPassword = event.target.value;\n          const confirmStatus = state.accountPassword.value === cPassword;\n          if (\n            (!confirmStatus && cPassword.length >= config.passwordLength) ||\n            (!confirmStatus && !nextDisabled)\n          ) {\n            const errorMsg = i18n.__(\"invalidPassword\");\n            setNextDisabled(true);\n            fld.status = true;\n\n            if (!alerts.check().some((alert) => alert.message === errorMsg))\n              alerts.error(errorMsg, {});\n          } else {\n            fld.status = false;\n            setNextDisabled(false);\n          }\n        }\n        */\n        console.log(\"CHANGE ID \", id, fld);\n        setState({\n          [id]: fld,\n        });\n      }\n    }\n  };\n  const loginLink = e => {\n    history.replace(\"/login\");\n    e.preventDefault();\n  };\n  const nextStepAction = step => {\n    console.log(\"ACTION STEP \", step);\n\n    if (step === 4) {\n      //await Auth.signOut();\n      //history.replace(\"/\");\n      //setState({ phoneVerified: currentUser.phone_number });\n      //setRegisterStep(step);\n      console.log(\"CURRENT USER \", currentUser);\n      let _currentUser = Object.assign({}, state);\n      _currentUser.phoneVerified = currentUser.phone_number;\n      _currentUser.emailVerified = currentUser.email;\n      _currentUser.termsAccepted = true;\n      _currentUser.uuid = currentUser.username;\n      _currentUser.client = currentUser.client;\n      props.finalStep(_currentUser);\n    } else if (step === 2) {\n      setState({ termsAccepted: true });\n      setRegisterStep(step);\n    } else if (step === 3) {\n      setState({ emailVerified: currentUser.email });\n      setRegisterStep(step);\n    } else if (step === 0) {\n      // terms declined...\n\n      alerts.info(i18n.__(\"acceptTerms\"), {});\n\n      setRegisterStep(step);\n    }\n  };\n\n  const nextButtonClick = e => {\n    let valuesChecked = true;\n    let emailChecked = false;\n    let phoneChecked = false;\n    let usernameChecked = false;\n\n    if (!isPasswordPossible()) {\n      console.log(\"CONTROL 1\");\n      valuesChecked = false;\n    } else if (checkConfirmPassword(state.passwordConfirm.value, false)) {\n      console.log(\"CONTROL 2\");\n\n      valuesChecked = false;\n    } else {\n      console.log(\"PASSWORD CHECKS \");\n      const passwordCheckResult = checkInputPassword(\n        state.accountPassword.value,\n        false,\n      );\n      const passwordError = checkPasswordQuality(passwordCheckResult);\n      if (passwordError) {\n        valuesChecked = false;\n        const errorMsg = i18n.__(\"passwordQuality\");\n        if (!alerts.check().some(alert => alert.message === errorMsg))\n          alerts.error(errorMsg, {});\n      }\n    }\n\n    if (valuesChecked) {\n      if (!checkUsername(state.username.value, false)) {\n        usernameChecked = true;\n      } else {\n        console.log(\"CONTROL 3\");\n\n        valuesChecked = false;\n      }\n\n      if (!checkEmail(state.email.value, false)) {\n        emailChecked = true;\n      } else {\n        console.log(\"CONTROL 4\");\n\n        valuesChecked = false;\n      }\n\n      const checkingPhone = checkPhone(\n        state.regionCode,\n        state.phoneNumber.value,\n        false,\n        false,\n      );\n      //console.log(\"PHONE CHECKING RESULT \", checkingPhone);\n      if (checkingPhone) {\n        phoneChecked = true;\n      } else {\n        console.log(\"CONTROL 5\");\n\n        valuesChecked = false;\n      }\n    }\n\n    let promises = [];\n    promises[0] = Promise.resolve(valuesChecked);\n\n    if (usernameChecked) {\n      promises.push(checkUsernameQuery(API, state.username.value));\n    } else {\n      promises.push(Promise.resolve({}));\n    }\n\n    if (emailChecked) {\n      promises.push(checkEmailAttr(state.email.value));\n    } else {\n      promises.push(Promise.resolve({}));\n    }\n    if (phoneChecked) {\n      promises.push(checkPhoneAttr(state.regionCode, state.phoneNumber.value));\n    } else {\n      promises.push(Promise.resolve({}));\n    }\n    return promises;\n    /*\n    // async validations...\n    if (emailChecked) {\n      console.log(\"ASYNC EMAIL START\");\n      await checkEmailAttr(state.email.value);\n      console.log(\"ASYNC EMAIL END\");\n    } else {\n      console.log(\"NEXT BUTTON CLICK \", valuesChecked);\n      return valuesChecked;\n    }\n*/\n  };\n\n  const passwordCheck = password => {\n    const passwordCheckResult = checkInputPassword(password);\n    const passwordError = checkPasswordQuality(passwordCheckResult);\n    if (passwordError) {\n      const errorMsg = i18n.__(\"passwordQuality\");\n      if (!alerts.check().some(alert => alert.message === errorMsg))\n        alerts.error(errorMsg, {});\n      //e.preventDefault();\n      return false;\n    } else {\n      //setAddPopper(false);\n      return true;\n    }\n  };\n  const accountContext = { nextStepAction, currentUser, state };\n  console.log(\"PHONE STATE \", state.phoneNumber);\n  return (\n    <AccountContext.Provider value={accountContext}>\n      {registerStep === 3 && (\n        <Box mt={80}>\n          <PhoneVerification invalidLink={config.invalidVerificationLink} />\n        </Box>\n      )}\n      {registerStep === 2 && (\n        <Box mt={80}>\n          <EmailVerification invalidLink={config.invalidVerificationLink} />\n        </Box>\n      )}\n      {registerStep === 1 && <TermsOfUse />}\n      {registerStep === 0 && (\n        <ProgressContainer title={i18n.__(\"createAccountTitle\")} progress={33}>\n          <Box mt={40} display=\"inline-flex\">\n            <Flex width={\"168px\"}>\n              <Input\n                autoFocus={true}\n                placeholder={i18n.__(\"firstNamePlaceholder\")}\n                id={\"firstName\"}\n                name={\"firstName\"}\n                onChange={handleChange}\n                ref={inputFirstname}\n                error={state.firstName.status}\n                defaultValue={state.firstName.value}\n                tabIndex=\"0\"\n              />\n            </Flex>\n            <Flex ml={25} width={\"168px\"}>\n              <Input\n                placeholder={i18n.__(\"lastNamePlaceholder\")}\n                id={\"lastName\"}\n                name={\"lastName\"}\n                onChange={handleChange}\n                ref={inputLastname}\n                error={state.lastName.status}\n                defaultValue={state.lastName.value}\n                tabIndex=\"1\"\n              />\n            </Flex>\n          </Box>\n          <Box mt={28}>\n            <IconField>\n              <IconField.LeftIcon\n                iconify={bxUser}\n                color={\"componentPrimary\"}\n                size={\"17\"}\n              />\n              <IconField.InputField\n                placeholder={i18n.__(\"usernamePlaceholder\")}\n                id={\"username\"}\n                name={\"username\"}\n                onChange={handleChange}\n                onBlur={e => checkUsername(e.target.value)}\n                error={state.username.status}\n                ref={inputUsername}\n                defaultValue={state.username.value}\n                onKeyDown={e => {\n                  if (e.key === \"Enter\" && e.target.value.length > 4) {\n                    checkUsername(e.target.value, true);\n                  }\n                }}\n                tabIndex=\"2\"\n              />\n            </IconField>\n          </Box>\n\n          <Box mt={28}>\n            <PasswordField\n              placeholder={i18n.__(\"passwordPlaceholder\")}\n              onFocus={e => {\n                //console.log(\"PASSWORD FOCUES \", state);\n                //console.log(\"PASS \", e.target.id, document.activeElement.id);\n                const passwordCheckStatus = isPasswordPossible();\n                if (!passwordCheckStatus) {\n                  e.preventDefault();\n                  e.stopPropagation();\n                } else if (\n                  !state.accountPassword.valid ||\n                  state.accountPassword.value.length === 0\n                ) {\n                  console.log(\"OPEN POPUP \");\n                  setAddPopper(true);\n                }\n              }}\n              addPopper={addPopper}\n              verifications={passwordVerification}\n              id={\"accountPassword\"}\n              name={\"accountPassword\"}\n              onChange={e => {\n                handleChange(e);\n                /* check password popup */\n                checkInputPassword(e.target.value);\n                /*\n                console.log(\n                  \"PASSWORD CHANGE \",\n                  state,\n                  document.getElementById(\"phoneNumber\").value\n                );\n                console.log(\n                  \"PASS CHANGE\",\n                  e.target.id,\n                  document.activeElement.id\n                );\n                */\n                if (\n                  state.phoneNumber.value !==\n                  document.getElementById(\"phoneNumber\").value\n                ) {\n                  // autofill changes phone number even the state value is correct....\n                  document.getElementById(\"phoneNumber\").value =\n                    state.phoneNumber.value;\n                }\n              }}\n              ref={inputPassword}\n              defaultValue={state.accountPassword.value}\n              error={state.accountPassword.status}\n              onBlur={e => {\n                if (e.target.value.length > 0) {\n                  if (passwordCheck(e.target.value)) {\n                    setAddPopper(false);\n                  } else {\n                    console.log(\"PREVENT BLUR:....\");\n                    setInputPasswordFocus();\n                    e.preventDefault();\n                  }\n                } else {\n                  setAddPopper(false);\n                }\n              }}\n              onKeyDown={e => {\n                if (e.key === \"Enter\" && e.target.value.length > 4) {\n                  console.log(\"CHECKING PASSWORD \", e.target.value);\n                  const checkStatus = passwordCheck(e.target.value);\n                  console.log(\"CHECK STATUS \", checkStatus);\n                  if (checkStatus) {\n                    setAddPopper(false);\n                  }\n                }\n              }}\n              autoComplete=\"new-password\"\n              tabIndex=\"3\"\n            />\n          </Box>\n          <Box mt={28}>\n            <PasswordField\n              placeholder={i18n.__(\"confirmPlaceholder\")}\n              onFocus={e => {\n                if (state.accountPassword.value.length === 0) {\n                  setInputPasswordFocus();\n                  e.preventDefault();\n                  e.stopPropagation();\n                }\n              }}\n              id={\"passwordConfirm\"}\n              name={\"passwordConfirm\"}\n              defaultValue={state.passwordConfirm.value}\n              onChange={handleChange}\n              error={\n                state.accountPassword.status || state.passwordConfirm.status\n              }\n              onBlur={e => {\n                if (\n                  e.target.value.length === state.accountPassword.value.length\n                ) {\n                  checkConfirmPassword(e.target.value, false);\n                }\n              }}\n              onKeyDown={e => {\n                if (e.key === \"Enter\" && e.target.value.length > 4) {\n                  checkConfirmPassword(e.target.value, false);\n                  /*\n                  const cPassword = e.target.value;\n                  const confirmStatus =\n                    state.accountPassword.value === cPassword;  \n                  if (\n                    (!confirmStatus &&\n                      cPassword.length >= config.passwordLength) ||\n                    (!confirmStatus && !nextDisabled)\n                  ) {\n                    const errorMsg = i18n.__(\"invalidPassword\");\n                    setNextDisabled(true);\n\n                    if (\n                      !alerts.check().some(alert => alert.message === errorMsg)\n                    )\n                      alerts.error(errorMsg, {});\n                  } else {\n                    setNextDisabled(false);\n                  }\n                  */\n                }\n              }}\n              autoComplete=\"new-password\"\n              tabIndex=\"4\"\n            />\n          </Box>\n\n          <Box mt={28}>\n            <IconField>\n              <IconField.LeftIcon\n                iconify={bxEnvelope}\n                color={\"componentPrimary\"}\n                size={\"17\"}\n              />\n              <IconField.InputField\n                placeholder={i18n.__(\"emailPlaceholder\")}\n                id={\"email\"}\n                name={\"email\"}\n                onChange={handleChange}\n                promptMsg={state.email.valid ? i18n.__(\"emailPrompt\") : \"\"}\n                error={state.email.status}\n                ref={inputEmail}\n                onBlur={e => checkEmail(e.target.value)}\n                defaultValue={state.email.value}\n                onKeyDown={e => {\n                  if (e.key === \"Enter\") {\n                    checkEmail(e.target.value, true);\n                  }\n                }}\n                tabIndex=\"5\"\n              />\n            </IconField>\n          </Box>\n\n          <Box mt={28}>\n            <PhoneNumberField>\n              <PhoneNumberField.RegionField\n                key={state.regionCode}\n                defaultValue={state.regionCode}\n                options={selectOptions.current}\n                searchLength={2}\n                showList={false}\n                ref={inputSelect}\n                /* id=\"select-search\" */\n                onChange={(e, code) => {\n                  //console.log(\"REGION\", e);\n                  //console.log(\"REGION\", code);\n                  console.log(\"REGION SELECT \", e, code);\n                  handleChange({\n                    target: {\n                      id: \"regionCode\",\n                      value: code,\n                    },\n                  });\n                }}\n              />\n              <PhoneNumberField.InputField\n                placeholder={i18n.__(\"phoneNumberPlaceholder\")}\n                id={\"phoneNumber\"}\n                name={\"phoneNumber\"}\n                onChange={e => {\n                  handleChange(e);\n                  if (e.target.value.length > 4) {\n                    setNextDisabled(false);\n                  }\n                }}\n                promptMsg={\n                  state.phoneNumber.valid ? i18n.__(\"phonePrompt\") : \"\"\n                }\n                error={state.phoneNumber.status}\n                ref={inputPhone}\n                defaultValue={state.phoneNumber.value}\n                onBlur={e => {\n                  /*\n                    console.log(\n                      \"BLUR CHANGE \",\n                      e.target.id,\n                      e.target.value,\n                      document.activeElement.id,\n                      document.activeElement.value\n                    )\n                    */\n                  // weird problem... password autofill changes phonenumber...\n                  if (\n                    !(\n                      e.target.id === \"phoneNumber\" &&\n                      (document.activeElement.id === \"accountPassword\" ||\n                        document.activeElement.id === \"passwordConfirm\")\n                    )\n                  ) {\n                    //console.log(\"PHONE BLUR...\");\n                    if (e.target.value.length > 4) {\n                      checkPhone(state.regionCode, e.target.value);\n                    }\n                  }\n                }}\n                onKeyDown={e => {\n                  if (e.key === \"Enter\" && e.target.value.length > 4) {\n                    const checkResult = checkPhone(\n                      state.regionCode,\n                      e.target.value,\n                      true,\n                    );\n                    if (checkResult) {\n                      setNextDisabled(false);\n                    }\n                  }\n                }}\n                //onBlur={(e) => checkInputField(\"phone\", e)}\n\n                /* disabled={regionCode === \"000\"} */\n                tabIndex=\"6\"\n              />\n            </PhoneNumberField>\n          </Box>\n\n          <Box mt={66} textAlign={\"center\"}>\n            <Button\n              disabled={nextDisabled}\n              onClick={e => {\n                Promise.all(nextButtonClick()).then(res => {\n                  console.log(\"PROMISE \", res);\n                  let checkResult = true;\n\n                  if (\n                    typeof res[1].data !== \"undefined\" &&\n                    res[1].data.checkUsername\n                  ) {\n                    userNameAlert(true, i18n.__(\"usernameExists\"));\n                    checkResult = false;\n                  } else {\n                    setState({\n                      username: { ...state.username, status: false },\n                    });\n                  }\n                  if (\n                    typeof res[2].data !== \"undefined\" &&\n                    res[2].data.checkCognitoAttribute\n                  ) {\n                    emailAlert(i18n.__(\"invalidEmail\"), false);\n                    checkResult = false;\n                  } else {\n                    setState({ email: { ...state.email, status: false } });\n                  }\n\n                  if (\n                    typeof res[3].data !== \"undefined\" &&\n                    res[3].data.checkCognitoAttribute\n                  ) {\n                    phoneAlert(i18n.__(\"invalidPhoneNumber\"), false);\n                    checkResult = false;\n                  } else {\n                    setState({\n                      phoneNumber: { ...state.phoneNumber, status: false },\n                    });\n                  }\n\n                  // next check failed, possible password condition reason...\n                  if (checkResult && !res[0]) {\n                    checkResult = false;\n                  }\n\n                  if (checkResult) {\n                    console.log(\"NEXT....\", currentUser);\n                    let phoneNumber = addRegionCode(\n                      state.regionCode,\n                      state.phoneNumber.value,\n                    );\n\n                    let _currentUser = Object.assign({}, currentUser);\n                    _currentUser.given_name = state.firstName.value;\n\n                    let emailVerified = state.emailVerified !== \"\";\n                    let phoneVerified = state.phoneVerified !== \"\";\n\n                    if (_currentUser.email !== state.email.value) {\n                      _currentUser.email = state.email.value;\n                      emailVerified = false;\n                    }\n\n                    if (_currentUser.phone_number !== phoneNumber) {\n                      _currentUser.phone_number = phoneNumber;\n                      phoneVerified = false;\n                    }\n\n                    console.log(\"NEXT CURRENT USER \", _currentUser);\n\n                    setCurrentUser(_currentUser);\n\n                    if (!state.termsAccepted) {\n                      //console.log(\"STEP 1\");\n                      setRegisterStep(1);\n                    } else {\n                      if (\n                        state.emailVerified !== _currentUser.email ||\n                        !emailVerified\n                      ) {\n                        setRegisterStep(2);\n                        //console.log(\"STEP 2\");\n                      }\n                      if (\n                        state.phoneVerified !== _currentUser.phone_number ||\n                        !phoneVerified\n                      ) {\n                        setRegisterStep(3);\n                        //console.log(\"STEP 3\");\n                      }\n                      if (\n                        state.emailVerified !== \"\" &&\n                        state.phoneVerified !== \"\"\n                      ) {\n                        setRegisterStep(4);\n                        //console.log(\"STEP 4\");\n                      }\n                    }\n                  }\n                });\n              }}\n            >\n              {i18n.__(\"nextButton\")}\n            </Button>\n            <Box mt={10}>\n              <Box display={\"inline-flex\"}>\n                <Flex alignItems={\"center\"}>\n                  <Text textStyle={\"caption2\"} mr={5}>\n                    {i18n.__(\"existingAccount\")}\n                  </Text>\n                  <Button\n                    variation={\"link\"}\n                    fontSize={\"10px\"}\n                    lineHeight={\"normal\"}\n                    onClick={loginLink}\n                  >\n                    {i18n.__(\"loginLink\")}\n                  </Button>\n                </Flex>\n              </Box>\n            </Box>\n          </Box>\n        </ProgressContainer>\n      )}\n    </AccountContext.Provider>\n  );\n};\n\nCreateAccount.propTypes = {\n  finalStep: PropTypes.func.isRequired,\n};\n\nexport default CreateAccount;\n","import React, { useState } from \"react\";\n\nimport {\n  Modal,\n  ModalContent,\n  ModalBody,\n  ModalHeader,\n  ModalFooter,\n} from \"@blend-ui/modal\";\nimport { Box, Button, Text, useTheme } from \"@blend-ui/core\";\n\nimport PropTypes from \"prop-types\";\nimport i18n from \"../lib/i18n\";\ni18n.init();\n\nconst DeclineDialog = ({ onClose, onButtonClick, ...props }) => {\n  const theme = useTheme();\n  //{i18n.__(\"landingPageInfo\")}\n  const [dialogOpen, setDialogOpen] = useState(true);\n\n  const onCloseCheck = (e, action) => {\n    console.log(\"MODAL CLOSE \", e, action);\n    onClose(e, action);\n    e.preventDefault();\n  };\n  /*\n  <div\n  style={{ fontSize: \"18px\", lineHeight: \"24px\", fontWeight: 600 }}\n>\n  Title\n</div>\n*/\n  return (\n    <React.Fragment>\n      <Modal\n        isOpen={dialogOpen}\n        closeOnEsc={false}\n        closeOnOutsideClick={false}\n        onClose={onCloseCheck}\n        scrollBehavior={\"inside\"}\n        theme={theme}\n        size={\"566px\"}\n        {...props}\n      >\n        <ModalContent>\n          <ModalHeader>\n            <Text textStyle={\"h5\"} color={theme.colors.baseError}>\n              {i18n.__(\"declineTitle\")}\n            </Text>\n          </ModalHeader>\n          <ModalBody ml={55} mr={55}>\n            <Text textStyle={\"body\"} as={\"p\"} textAlign={\"center\"}>\n              {i18n.__(\"declineText\")}\n            </Text>\n          </ModalBody>\n          <ModalFooter>\n            <Box textAlign={\"center\"} width={1}>\n              <Button\n                variation={\"outline\"}\n                colorStyle={\"error\"}\n                onClick={e => {\n                  setDialogOpen(false);\n                  onButtonClick(e, \"cancel\");\n                  e.preventDefault();\n                }}\n              >\n                {i18n.__(\"cancelButton\")}\n              </Button>\n              <Button\n                ml={20}\n                onClick={e => {\n                  setDialogOpen(false);\n                  onButtonClick(e, \"decline\");\n                  e.preventDefault();\n                }}\n              >\n                {i18n.__(\"declineButton\")}\n              </Button>\n            </Box>\n          </ModalFooter>\n        </ModalContent>\n      </Modal>\n    </React.Fragment>\n  );\n};\n\nDeclineDialog.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  onButtonClick: PropTypes.func.isRequired,\n};\nexport default DeclineDialog;\n","import React, { useState } from \"react\";\nimport { Box, Flex, Button, Text, useTheme } from \"@blend-ui/core\";\n\nimport ProgressContainer from \"../components/ProgressContainer\";\nimport DeclineDialog from \"../components/DeclineDialog\";\nimport styled from \"styled-components\";\n\nimport { useAccountContext } from \"../lib/contextLib\";\nimport i18n from \"../lib/i18n\";\ni18n.init();\n\nconst StyledBox = styled(Box)`\n  scrollbar-width: 4px;\n  scrollbar-color: ${(props) =>\n      props.colors ? props.colors.baseSecondary : \"#00847A\"}\n    ${(props) =>\n      props.colors ? props.colors.baseTertiary : \"rgba(0, 132, 122, 0.1)\"};\n\n  overflow-y: scroll;\n  ::-webkit-scrollbar {\n    -webkit-appearance: none;\n  }\n\n  ::-webkit-scrollbar:vertical {\n    width: 4px;\n    height: 77px;\n  }\n\n  ::-webkit-scrollbar-track {\n    border-radius: 10px;\n    background-color: ${(props) =>\n      props.colors ? props.colors.baseTertiary : \"rgba(0, 132, 122, 0.1)\"};\n  }\n\n  ::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    height: 77px;\n    background-color: ${(props) =>\n      props.colors ? props.colors.baseSecondary : \"#00847A\"};\n  }\n  ::-webkit-scrollbar-thumb:vertical {\n    height: 77px;\n  }\n`;\n\nconst texts = [\n  {\n    title: i18n.__(\"agreeementTitle\"),\n    text: i18n.__(\"agreementText\"),\n  },\n  {\n    title: i18n.__(\"serviceTitle\"),\n    text: i18n.__(\"serviceText\"),\n  },\n  {\n    title: i18n.__(\"accountsTitle\"),\n    text: i18n.__(\"accountsText\"),\n  },\n  {\n    title: i18n.__(\"dataTitle\"),\n    text: i18n.__(\"dataText\"),\n  },\n  {\n    title: i18n.__(\"materialsTitle\"),\n    text: i18n.__(\"materialsText\"),\n  },\n];\nconst TermsOfUse = (props) => {\n  console.log(\"Terms \", props);\n  const { nextStepAction } = useAccountContext();\n\n  //console.log(nextStepAction);\n  //console.log(ctx);\n\n  const { colors } = useTheme();\n  //console.log(\"THEME \", colors);\n  const [scrolled, setScrolled] = useState(false);\n  const [decline, setDecline] = useState(false);\n\n  const _handleScroll = (e) => {\n    const bottom =\n      e.target.scrollHeight - e.target.scrollTop === e.target.clientHeight;\n    //console.log(e.target);\n    //console.log(bottom);\n    if (bottom) {\n      setScrolled(true);\n    }\n  };\n  const declineTerms = (e) => {\n    setDecline(true);\n    e.preventDefault();\n  };\n  const approveTerms = (e) => {\n    // next step email verification ===2,... finalizing===4\n    nextStepAction(2);\n  };\n  const onDialogClose = (e, action) => {\n    //console.log(\"CLOSE \", e, action);\n    setDecline(false);\n    e.preventDefault();\n  };\n  const onDialogClick = (e, action) => {\n    //console.log(\"BUTTON \", e, action);\n    setDecline(false);\n    if (action === \"decline\") {\n      // back to create account page\n      nextStepAction(0);\n    }\n    e.preventDefault();\n  };\n  /*\n    let timer = null;\n    if (isActive) {\n      timer = setTimeout(() => {\n        console.log(\"This will run after 5 second!\");\n        onAction(\"email\");\n      }, 5000);\n    }\n    return () => clearTimeout(timer);\n  }, [isActive,onAction]);\n  */\n\n  return (\n    <React.Fragment>\n      {decline && (\n        <DeclineDialog onClose={onDialogClose} onButtonClick={onDialogClick} />\n      )}\n\n      <ProgressContainer title={i18n.__(\"termsTitle\")} progress={66}>\n        <Box textAlign=\"center\">\n          <Text textStyle={\"caption\"} bold>\n            {i18n.__(\"termsLastUpdated\")}\n          </Text>\n        </Box>\n        <Box mt={22} height={313}>\n          <StyledBox height={\"100%\"} colors={colors} onScroll={_handleScroll}>\n            {texts.map((t, i) => (\n              <React.Fragment key={\"text-\" + i}>\n                <Text textStyle={\"caption\"} bold>\n                  {t.title}\n                </Text>\n                <Text as={\"p\"} textStyle={\"caption\"}>\n                  {t.text}\n                </Text>\n              </React.Fragment>\n            ))}\n          </StyledBox>\n        </Box>\n\n        <Box mt={63} display={\"inline-flex\"}>\n          <React.Fragment>\n            <Flex>\n              <Button\n                variation={\"outline\"}\n                colorStyle={\"error\"}\n                onClick={declineTerms}\n              >\n                {i18n.__(\"declineButton\")}\n              </Button>\n            </Flex>\n\n            <Flex ml={99}>\n              <Button disabled={!scrolled} onClick={approveTerms}>\n                {i18n.__(\"approveButton\")}\n              </Button>\n            </Flex>\n          </React.Fragment>\n        </Box>\n      </ProgressContainer>\n    </React.Fragment>\n  );\n};\n\nexport default TermsOfUse;\n","var _path, _rect, _rect2, _rect3, _rect4, _rect5, _path2, _path3, _path4, _path5, _path6, _path7, _path8;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgEmailEnvelope(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 95,\n    height: 105,\n    viewBox: \"0 0 95 105\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M95 37.5L47.6547 0L0 37.5V105H95V37.5Z\",\n    fill: \"#00847A\"\n  })), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    y: 71.25,\n    width: 95,\n    height: 33.75,\n    fill: \"#00847A\"\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 18.5065,\n    y: 9.25,\n    width: 57.366,\n    height: 61.5,\n    rx: 4.5,\n    fill: \"#F5F8F7\",\n    stroke: \"#C3C2C2\"\n  })), _rect3 || (_rect3 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 25.4575,\n    y: 18.75,\n    width: 43.4641,\n    height: 2.5,\n    rx: 1.25,\n    fill: \"#C3C2C2\"\n  })), _rect4 || (_rect4 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 25.4575,\n    y: 37.5,\n    width: 43.4641,\n    height: 2.5,\n    rx: 1.25,\n    fill: \"#C3C2C2\"\n  })), _rect5 || (_rect5 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 25.9575,\n    y: 24.875,\n    width: 42.4641,\n    height: 9,\n    rx: 4.5,\n    stroke: \"#C3C2C2\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M54.0196 71.1401L95 37.5V105L54.0196 71.1401Z\",\n    fill: \"#1CAA9F\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M40.9804 71.3599L0 105L0 37.5L40.9804 71.3599Z\",\n    fill: \"#1CAA9F\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M31.0458 26.875L31.6034 28.6025H33.4079L31.948 29.6701L32.5056 31.3975L31.0458 30.3299L29.5859 31.3975L30.1435 29.6701L28.6837 28.6025H30.4881L31.0458 26.875Z\",\n    fill: \"#1E1D1D\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M39.1176 26.875L39.6753 28.6025H41.4797L40.0199 29.6701L40.5775 31.3975L39.1176 30.3299L37.6578 31.3975L38.2154 29.6701L36.7555 28.6025H38.56L39.1176 26.875Z\",\n    fill: \"#1E1D1D\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M47.1895 26.875L47.7472 28.6025H49.5516L48.0918 29.6701L48.6494 31.3975L47.1895 30.3299L45.7297 31.3975L46.2873 29.6701L44.8274 28.6025H46.6319L47.1895 26.875Z\",\n    fill: \"#1E1D1D\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M55.2614 26.875L55.8191 28.6025H57.6235L56.1637 29.6701L56.7213 31.3975L55.2614 30.3299L53.8016 31.3975L54.3592 29.6701L52.8993 28.6025H54.7038L55.2614 26.875Z\",\n    fill: \"#1E1D1D\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M63.3333 26.875L63.891 28.6025H65.6954L64.2356 29.6701L64.7932 31.3975L63.3333 30.3299L61.8735 31.3975L62.4311 29.6701L60.9712 28.6025H62.7757L63.3333 26.875Z\",\n    fill: \"#1E1D1D\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEmailEnvelope);\nexport default __webpack_public_path__ + \"static/media/email-envelope.3aa93cdd.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect } from \"react\";\nimport { Box, Flex, Button, Text, IconField, Link } from \"@blend-ui/core\";\n\nimport bxKey from \"@iconify/icons-bx/bx-key\";\nimport { ReactComponent as Email } from \"../assets/email-envelope.svg\";\n\nimport ProgressContainer from \"../components/ProgressContainer\";\nimport { useFormFields } from \"../lib/formFields\";\n\nimport { onlyDigitChars } from \"../lib/utils\";\n\nimport { useFocus } from \"../lib/componentUtils\";\nimport Amplify, { API } from \"aws-amplify\";\nimport { useAppContext } from \"../lib/contextLib\";\nimport { getVerificationQuery, sendVerificationMutation } from \"../graphql/api\";\n//import { useHistory } from \"react-router-dom\";\nimport { useToast } from \"@blend-ui/toast\";\nimport { useAccountContext } from \"../lib/contextLib\";\n\nimport PropTypes from \"prop-types\";\nimport i18n from \"../lib/i18n\";\ni18n.init();\n\nconst EmailVerification = ({ invalidLink, ...props }) => {\n  //console.log(\"Phone \", props);\n  //const history = useHistory();\n  const { nextStepAction, currentUser } = useAccountContext();\n  const alerts = useToast();\n  const { APIConfig } = useAppContext();\n  Amplify.configure(APIConfig);\n  console.log(\"USER \", currentUser);\n\n  const [verificationFields, handleChange] = useFormFields({\n    verificationCode: \"\",\n  });\n  const [inputCode, setInputCodeFocus] = useFocus();\n  const [inputError, setInputError] = useState({ status: false, msg: \"\" });\n  // const [toastSuccess, setToastSuccess] = useState({ status: false, msg: \"\" });\n  // const [toastError, setToastError] = useState({ status: false, msg: \"\" });\n\n  const checkInput = code => {\n    const checkResult = onlyDigitChars(code);\n    //console.log(checkResult);\n    let validCode = true;\n    if (!checkResult && code.length > 0) {\n      const errorMsg = i18n.__(\"codeDigitsError\");\n      if (!alerts.check().some(alert => alert.message === errorMsg))\n        alerts.error(errorMsg, {});\n      setInputError({ status: true });\n      validCode = false;\n    }\n    //if (code.length > 1 && code.length !== 6) {\n    if (code.length > 1 && code.length !== 6) {\n      const errorMsg = i18n.__(\"codeLengthError\");\n      if (!alerts.check().some(alert => alert.message === errorMsg))\n        alerts.error(errorMsg, {});\n      setInputError({ status: true });\n      validCode = false;\n    }\n    if (validCode) {\n      setInputError({ status: false });\n    }\n  };\n\n  useEffect(() => {\n    //console.log(\"SEND MSG \", currentUser);\n\n    sendVerificationMutation(\n      API,\n      \"email\",\n      JSON.stringify({\n        userId: currentUser.username,\n        clientId: currentUser.client,\n        email: currentUser.email,\n        given_name: currentUser.given_name,\n      }),\n    )\n      .then(result => {\n        console.log(\"EMAIL RESULT \", result);\n        alerts.info(i18n.__(\"emailVerificatioSent\"), { duration: 10000 });\n        /*\n        setToastSuccess({\n          status: true,\n          msg: i18n.__(\"emailVerificatioSent\"),\n        });\n        */\n      })\n      .catch(e => {\n        console.log(\"ERR\", e);\n      });\n\n    //{data:{},errors:[]}\n    //s.errors[0].message\n    //onAction(\"phone\");\n    //history.replace(\"/verify-phone\");\n  }, [currentUser]);\n\n  const resendClick = async e => {\n    try {\n      await sendVerificationMutation(\n        API,\n        \"email\",\n        JSON.stringify({\n          userId: currentUser.username,\n          clientId: currentUser.client,\n          email: currentUser.email,\n          given_name: currentUser.given_name,\n        }),\n      );\n      alerts.info(i18n.__(\"emailVerificatioSent\"), {});\n      /*\n      setToastSuccess({\n        status: true,\n        msg: i18n.__(\"emailVerificatioSent\"),\n      });\n      */\n    } catch (e) {\n      console.log(\"ERR\", e);\n    }\n  };\n  const verifyClick = async e => {\n    try {\n      /*\n      const result = await verifyCodeMutation(\n        API,\n        [\n          currentUser.username,\n          currentUser.client,\n          \"email\",\n          verificationFields.verificationCode,\n        ].join(\"#\")\n      );\n      */\n      const userCode = [\n        currentUser.username,\n        currentUser.client,\n        \"email\",\n        verificationFields.verificationCode,\n      ].join(\"#\");\n\n      const result = await getVerificationQuery(API, userCode);\n      //console.log(result.data.getVerification);\n      if (result.data.getVerification === null) {\n        alerts.error(i18n.__(\"invalidCode\"), {});\n        setInputError({ status: true });\n        /*\n        setToastError({\n          status: true,\n          msg: i18n.__(\"invalidCode\"),\n        });\n        */\n      }\n      console.log(\"VERIFY \", result);\n      nextStepAction(3);\n    } catch (e) {\n      console.log(\"ERR\", e);\n      alerts.error(i18n.__(\"invalidCode\"), {});\n      setInputError({ status: true });\n      nextStepAction(3);\n      /*\n      setToastError({\n        status: true,\n        msg: i18n.__(\"invalidCode\"),\n      });\n      */\n      /*\n      data:\nverifyCode: null\n\n      errors: Array(1)\n0:\ndata: null\nerrorInfo: null\nerrorType: null\nlocations: [{}]\nmessage: \"INVALID_CODE\"\npath: [\"verifyCode\"]\n*/\n    }\n    //e.preventDefault();\n  };\n  const backClickAction = e => {\n    nextStepAction(0);\n  };\n  return (\n    <React.Fragment>\n      <ProgressContainer\n        title={i18n.__(\"verificationTitle\")}\n        progress={100}\n        pr={19}\n      >\n        <Box mt={50}>\n          <Box display={\"inline-flex\"}>\n            <Box>\n              <Email height={\"105px\"} width={\"95px\"} />\n            </Box>\n            <Box ml={34}>\n              <Box>\n                <Text textStyle={\"h6\"}>\n                  {i18n.__(\"emailVerificationTitle\")}\n                </Text>\n              </Box>\n              <Box mt={5}>\n                <Text textStyle={\"caption2\"} as={\"p\"} m={0}>\n                  {i18n.__(\"emailVerificationText\")}\n                </Text>\n              </Box>\n              <Box mt={15}>\n                <IconField width={\"200px\"}>\n                  <IconField.LeftIcon\n                    iconify={bxKey}\n                    color={\"componentPrimary\"}\n                    size={\"17\"}\n                  />\n                  <IconField.InputField\n                    placeholder={i18n.__(\"codePropmt\")}\n                    id={\"verificationCode\"}\n                    name={\"verificationCode\"}\n                    onChange={handleChange}\n                    onKeyDown={e => {\n                      if (e.key === \"Enter\") {\n                        checkInput(verificationFields.verificationCode);\n                      }\n                    }}\n                    ref={inputCode}\n                    error={inputError.status}\n                  />\n                </IconField>\n              </Box>\n              <Box mt={inputError.status ? 0 : 3} display={\"inline-flex\"}>\n                <Flex alignItems={\"center\"}>\n                  <Text textStyle={\"caption2\"} mr={5}>\n                    {i18n.__(\"emailMissing\")}\n                  </Text>\n                  <Button\n                    variation=\"link\"\n                    fontSize={\"10px\"}\n                    onClick={resendClick}\n                  >\n                    {\" \"}\n                    {i18n.__(\"sendAgainLinkText\")}\n                  </Button>\n                </Flex>\n              </Box>\n              <Box>\n                <Link href={invalidLink} target=\"_blank\" fontSize={\"10px\"}>\n                  {i18n.__(\"verifySUpportLink\")}\n                </Link>\n              </Box>\n            </Box>\n          </Box>\n        </Box>\n\n        <Box mt={80} display={\"inline-flex\"}>\n          <Flex>\n            <Button variation={\"outline\"} onClick={backClickAction}>\n              {i18n.__(\"backButton\")}\n            </Button>\n          </Flex>\n          <Flex ml={99}>\n            <Button\n              disabled={\n                inputError.status ||\n                verificationFields.verificationCode.length !== 6\n              }\n              onClick={verifyClick}\n            >\n              {i18n.__(\"verifyButton\")}\n            </Button>\n          </Flex>\n        </Box>\n\n        {/* \n        <Box mt={inputError.status ? 53 : 80} textAlign={\"center\"}>\n          <Button\n            disabled={\n              inputError.status ||\n              verificationFields.verificationCode.length !== 6\n            }\n            onClick={verifyClick}\n          >\n            {i18n.__(\"verifyButton\")}\n          </Button>\n        </Box>\n        */}\n      </ProgressContainer>\n    </React.Fragment>\n  );\n};\n\nEmailVerification.propTypes = {\n  invalidLink: PropTypes.string.isRequired,\n};\nexport default EmailVerification;\n","import React from \"react\";\n\nconst NotFoundPage = () => (\n  <div>\n    404 - <a href={\"/\"}>Home</a>\n  </div>\n);\n\nexport default NotFoundPage;\n","export const newNotification = `subscription UserNotification($owner:String!) {\n    newNotification(owner: $owner) {\n      notificationId\n      owner\n    }\n  }`;\n\nexport const newWaiting = `subscription addWaiting($key:String!) {\n  Messaging(key: $key) {\n    createdAt\n    endpoint\n    name\n    senderKey\n  }\n}`;\n","import React, { useState } from \"react\";\n//import { PrifinaLogo } from \"../components/PrifinaLogo\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { useAppContext } from \"../lib/contextLib\";\n//import { UserMenuContextProvider } from \"@blend-ui/floating-user-menu\";\nimport UserMenuContextProvider from \"./FloatingUserMenu\";\n\nimport LogoutDialog from \"./LogoutDialog\";\n\nconst withUsermenu = () => WrappedComponent => {\n  const WithUsermenu = props => {\n    const history = useHistory();\n    const { userAuth, Auth } = useAppContext();\n    const [logout, setLogout] = useState(false);\n\n    const onDialogClose = (e, action) => {\n      //console.log(\"CLOSE \", e, action);\n      setLogout(false);\n      e.preventDefault();\n    };\n    const onDialogClick = async (e, action) => {\n      //console.log(\"BUTTON \", e, action);\n      setLogout(false);\n      if (action === \"logout\") {\n        console.log(\"LOGOUT...\");\n        try {\n          //console.log(\"LOGOUT...\");\n          setLogout(true);\n\n          await Auth.signOut();\n          userAuth(false);\n          history.replace(\"/\");\n        } catch (e) {\n          console.log(\"error signing out: \", e);\n        }\n      }\n      e.preventDefault();\n    };\n    const logOut = () => {\n      //console.log(\"LOGOUT...\");\n      setLogout(true);\n    };\n    return (\n      <UserMenuContextProvider\n        onExit={logOut}\n        onHome={() => {\n          console.log(\"HOME CLICK...\");\n          history.replace(\"/\");\n        }}\n      >\n        {logout && (\n          <LogoutDialog onClose={onDialogClose} onButtonClick={onDialogClick} />\n        )}\n        <WrappedComponent {...props} />\n      </UserMenuContextProvider>\n    );\n  };\n\n  WithUsermenu.displayName = `WithUsermenu(${\n    WrappedComponent.displayName || WrappedComponent.name || \"Component\"\n  })`;\n\n  return WithUsermenu;\n};\n\nexport default withUsermenu;\n","export default __webpack_public_path__ + \"static/media/background.b3d5f165.png\";","var _path, _rect, _rect2, _rect3, _rect4, _path2, _path3, _rect5, _path4;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPhone(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 68,\n    height: 135,\n    viewBox: \"0 0 68 135\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 6C0 2.68629 2.68629 0 6 0H60C64.4183 0 68 3.58172 68 8V129C68 132.314 65.3137 135 62 135H8C3.58172 135 0 131.418 0 127V6Z\",\n    fill: \"#01544E\"\n  })), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 66,\n    height: 133,\n    rx: 5,\n    fill: \"#00847A\"\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 2,\n    y: 6,\n    width: 62,\n    height: 116,\n    rx: 5,\n    fill: \"#F5F8F7\"\n  })), _rect3 || (_rect3 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 24,\n    y: 125,\n    width: 18,\n    height: 5,\n    rx: 2.5,\n    fill: \"#F5F8F7\"\n  })), _rect4 || (_rect4 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 24,\n    y: 3,\n    width: 18,\n    height: 1,\n    rx: 0.5,\n    fill: \"#F5F8F7\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M46 49V58H42.3809C40.015 60.4653 36.6867 62 33 62C29.3133 62 25.985 60.4653 23.6191 58H20V49C20 41.8203 25.8203 36 33 36C40.1797 36 46 41.8203 46 49Z\",\n    fill: \"#01544E\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M42 49C42 44.0294 37.9706 40 33 40C28.0294 40 24 44.0294 24 49V58H33H42V49Z\",\n    fill: \"#F5F8F7\"\n  })), _rect5 || (_rect5 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 14,\n    y: 58,\n    width: 38,\n    height: 34,\n    rx: 3,\n    fill: \"#00847A\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M35 74.2361C35.6137 73.6868 36 72.8885 36 72C36 70.3431 34.6569 69 33 69C31.3431 69 30 70.3431 30 72C30 72.8885 30.3863 73.6868 31 74.2361V80C31 81.1046 31.8954 82 33 82C34.1046 82 35 81.1046 35 80V74.2361Z\",\n    fill: \"#01544E\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPhone);\nexport default __webpack_public_path__ + \"static/media/phone.3a9dbcc9.svg\";\nexport { ForwardRef as ReactComponent };","import { useContext, createContext } from \"react\";\n\nexport const AppContext = createContext(null);\n\nexport function useAppContext() {\n  return useContext(AppContext);\n}\n\nexport const AccountContext = createContext(null);\n\nexport function useAccountContext() {\n  return useContext(AccountContext);\n}\n","export const API_KEY = process.env.REACT_APP_API_KEY;\nexport const SEARCH_ENGINE = process.env.REACT_APP_SEARCH_ENGINE;\nexport const GOOGLE_URL = \"https://customsearch.googleapis.com/customsearch/v1\";\n\nconst prod = {\n  invalidVerificationLink:\n    \"https://prifina.zendesk.com/hc/en-us/articles/360051754911\",\n  passwordLength: 10,\n  usernameLength: 6,\n  auth_region: process.env.REACT_APP_AUTH_REGION,\n  main_region: process.env.REACT_APP_MAIN_REGION,\n  cognito: {\n    USER_POOL_ID: process.env.REACT_APP_POOL_ID,\n    APP_CLIENT_ID: process.env.REACT_APP_APP_CLIENT_ID,\n    DEV_CLIENT_ID: process.env.REACT_APP_DEV_CLIENT_ID,\n    SERVICE_CLIENT_ID: process.env.REACT_APP_SERVICE_CLIENT_ID,\n    IDENTITY_POOL_ID: process.env.REACT_APP_IDENTITY_POOL_ID,\n  },\n  appSync: {\n    aws_appsync_graphqlEndpoint: process.env.REACT_APP_APPSYNC_GRAPHQL_ENDPOINT,\n    aws_appsync_authenticationType: process.env.REACT_APP_APPSYNC_AUTH_TYPE,\n  },\n  S3: {\n    bucket: \"prifina-app-data-dev\",\n    region: \"us-east-1\",\n  },\n};\nconst dev = {\n  invalidVerificationLink:\n    \"https://prifina.zendesk.com/hc/en-us/articles/360051754911\",\n  passwordLength: 10,\n  usernameLength: 6,\n  auth_region: process.env.REACT_APP_AUTH_REGION,\n  main_region: process.env.REACT_APP_MAIN_REGION,\n  cognito: {\n    // USER_POOL_ID: process.env.REACT_APP_POOL_ID,\n    // APP_CLIENT_ID: process.env.REACT_APP_APP_CLIENT_ID,\n    // DEV_CLIENT_ID: process.env.REACT_APP_DEV_CLIENT_ID,\n    // SERVICE_CLIENT_ID: process.env.REACT_APP_SERVICE_CLIENT_ID,\n    // IDENTITY_POOL_ID: process.env.REACT_APP_IDENTITY_POOL_ID,\n\n    USER_POOL_ID: \"eu-west-1_bKvRaKktu\",\n    APP_CLIENT_ID: \"4qgii1qdk2emul2plrsf4s7k3b\",\n    DEV_CLIENT_ID: process.env.REACT_APP_DEV_CLIENT_ID,\n    SERVICE_CLIENT_ID: process.env.REACT_APP_SERVICE_CLIENT_ID,\n    IDENTITY_POOL_ID: process.env.REACT_APP_IDENTITY_POOL_ID,\n  },\n  appSync: {\n    aws_appsync_graphqlEndpoint: process.env.REACT_APP_APPSYNC_GRAPHQL_ENDPOINT,\n    aws_appsync_authenticationType: process.env.REACT_APP_APPSYNC_AUTH_TYPE,\n  },\n  S3: {\n    bucket: \"prifina-app-data-dev\",\n    region: \"us-east-1\",\n  },\n};\n\n// Default to dev if not set\nconst config = process.env.REACT_APP_STAGE === \"prod\" ? prod : dev;\n\nexport default {\n  // Add common config values here\n  support: \"anybody@anywhere.org\",\n  ...config,\n};\n","import React, { useState } from \"react\";\n\nimport {\n  Modal,\n  ModalContent,\n  ModalBody,\n  ModalHeader,\n  ModalFooter,\n} from \"@blend-ui/modal\";\nimport { Box, Button, Text, useTheme } from \"@blend-ui/core\";\n\nimport PropTypes from \"prop-types\";\nimport i18n from \"../lib/i18n\";\ni18n.init();\n\nconst LogoutDialog = ({ onClose, onButtonClick, ...props }) => {\n  const theme = useTheme();\n\n  const [dialogOpen, setDialogOpen] = useState(true);\n\n  const onCloseCheck = (e, action) => {\n    console.log(\"MODAL CLOSE \", e, action);\n    onClose(e, action);\n    e.preventDefault();\n  };\n  /*\n  <div\n  style={{ fontSize: \"18px\", lineHeight: \"24px\", fontWeight: 600 }}\n>\n  Title\n</div>\n*/\n  return (\n    <React.Fragment>\n      <Modal\n        isOpen={dialogOpen}\n        closeOnEsc={false}\n        closeOnOutsideClick={false}\n        onClose={onCloseCheck}\n        scrollBehavior={\"inside\"}\n        theme={theme}\n        size={\"566px\"}\n        {...props}\n      >\n        <ModalContent>\n          <ModalHeader>\n            <Text textStyle={\"h5\"} color={theme.colors.baseError}>\n              {i18n.__(\"logoutTitle\")}\n            </Text>\n          </ModalHeader>\n          <ModalBody ml={55} mr={55}>\n            <Text textStyle={\"body\"} as={\"p\"} textAlign={\"center\"}>\n              {i18n.__(\"logoutText\")}\n            </Text>\n          </ModalBody>\n          <ModalFooter>\n            <Box textAlign={\"center\"} width={1}>\n              <Button\n                variation={\"outline\"}\n                colorStyle={\"error\"}\n                onClick={e => {\n                  setDialogOpen(false);\n                  onButtonClick(e, \"cancel\");\n                  e.preventDefault();\n                }}\n              >\n                {i18n.__(\"cancelButton\")}\n              </Button>\n              <Button\n                ml={20}\n                onClick={e => {\n                  setDialogOpen(false);\n                  onButtonClick(e, \"logout\");\n                  e.preventDefault();\n                }}\n              >\n                {i18n.__(\"logoutButton\")}\n              </Button>\n            </Box>\n          </ModalFooter>\n        </ModalContent>\n      </Modal>\n    </React.Fragment>\n  );\n};\n\nLogoutDialog.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  onButtonClick: PropTypes.func.isRequired,\n};\nexport default LogoutDialog;\n","import React from \"react\";\nimport Background from \"../assets/background.png\";\nimport styled from \"styled-components\";\nimport { Box } from \"@blend-ui/core\";\n\nexport const StyledBox = styled(Box)`\n  /* border-radius: 20px; */\n  height: 100vh;\n  z-index: 1;\n  border: 1px solid #f5f8f7;\n  background-color: ${(props) =>\n    props.colors ? props.colors.baseWhite : \"#F5F8F7\"};\n`;\nexport const StyledBackground = styled(Box)`\n  background-image: url(${Background});\n  background-repeat: no-repeat;\n  background-size: cover;\n  /* opacity: 0.3; */\n  width: 100%;\n  height: 631px;\n  z-index: 2;\n  border: 1px solid #f5f8f7;\n  background-color: ${(props) =>\n    props.colors ? props.colors.baseWhite : \"#F5F8F7\"};\n`;\n","var _g, _path, _path2, _path3, _defs;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDisplayApp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 78,\n    height: 78,\n    viewBox: \"0 0 78 78\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    filter: \"url(#filter3_d)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: 8,\n    y: 4,\n    width: 62,\n    height: 62,\n    rx: 13,\n    fill: \"url(#paint3_linear)\"\n  }))), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M51.596 26.0954C51.1182 25.6176 50.3681 25.5471 49.8096 25.9277C47.7054 27.362 37.1512 34.574 36.0169 35.7082C34.3721 37.3532 34.3721 40.0295 36.0169 41.6745C36.8394 42.4969 37.9198 42.9081 39.0001 42.9081C40.0804 42.9081 41.1607 42.4969 41.9832 41.6745C43.1175 40.5402 50.3294 29.986 51.7637 27.8819C52.1442 27.3234 52.0738 26.5733 51.596 26.0954ZM39.9944 39.6857C39.4462 40.2341 38.554 40.2341 38.0057 39.6857C37.4574 39.1375 37.4574 38.2456 38.0055 37.6973C38.4462 37.2617 41.4427 35.1247 45.1294 32.562C42.5668 36.2488 40.4298 39.2451 39.9944 39.6857Z\",\n    fill: \"#F5F8F7\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M27.485 45.2321L25.749 46.0789C24.4787 43.8119 23.8125 41.2816 23.8125 38.6913C23.8125 36.7935 24.1624 34.9759 24.8011 33.2996L26.7903 34.2537C26.9865 34.3478 27.1935 34.3924 27.3975 34.3924C27.9216 34.3924 28.4246 34.0981 28.6665 33.594C29.0023 32.8937 28.707 32.0537 28.0066 31.7178L26.0427 30.7758C28.4837 26.7947 32.7072 24.0191 37.5938 23.5684V25.6835C37.5938 26.4601 38.2234 27.0897 39.0001 27.0897C39.7767 27.0897 40.4063 26.4601 40.4063 25.6835V23.5673C42.0817 23.7198 43.7029 24.1465 45.2418 24.8412C45.9495 25.1608 46.7825 24.8458 47.102 24.1381C47.4216 23.4302 47.1068 22.5974 46.3989 22.2778C44.0669 21.2252 41.5776 20.6913 39 20.6913C34.192 20.6913 29.6719 22.5636 26.272 25.9634C22.8724 29.3632 21 33.8834 21 38.6913C21 42.2442 22.0545 45.6997 24.0497 48.6838C24.3184 49.0856 24.7627 49.3086 25.2196 49.3086C25.4273 49.3086 25.6377 49.2626 25.8353 49.1662L28.7181 47.7599C29.4162 47.4194 29.706 46.5775 29.3655 45.8795C29.025 45.1815 28.1831 44.8917 27.485 45.2321Z\",\n    fill: \"#F5F8F7\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M55.4135 31.2925C55.094 30.5847 54.2613 30.2697 53.5532 30.5894C52.8454 30.9089 52.5306 31.7418 52.8501 32.4496C53.7376 34.4154 54.1875 36.5154 54.1875 38.6913C54.1875 41.2854 53.5192 43.8199 52.2452 46.0895L50.4327 45.2264C49.7316 44.8926 48.8925 45.1902 48.5585 45.8915C48.2246 46.5926 48.5223 47.4318 49.2236 47.7657L52.1767 49.172C52.371 49.2644 52.5769 49.3087 52.7805 49.3087C53.2376 49.3087 53.6819 49.0854 53.9503 48.6839C55.9455 45.6997 57 42.2442 57 38.6913C57 36.1138 56.4662 33.6244 55.4135 31.2925Z\",\n    fill: \"#F5F8F7\"\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"filter\", {\n    id: \"filter3_d\",\n    x: 0,\n    y: 0,\n    width: 78,\n    height: 78,\n    filterUnits: \"userSpaceOnUse\",\n    colorInterpolationFilters: \"sRGB\"\n  }, /*#__PURE__*/React.createElement(\"feFlood\", {\n    floodOpacity: 0,\n    result: \"BackgroundImageFix\"\n  }), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n    in: \"SourceAlpha\",\n    type: \"matrix\",\n    values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n  }), /*#__PURE__*/React.createElement(\"feOffset\", {\n    dy: 4\n  }), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n    stdDeviation: 4\n  }), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n    type: \"matrix\",\n    values: \"0 0 0 0 0.356863 0 0 0 0 0.360784 0 0 0 0 0.356863 0 0 0 0.35 0\"\n  }), /*#__PURE__*/React.createElement(\"feBlend\", {\n    mode: \"normal\",\n    in2: \"BackgroundImageFix\",\n    result: \"effect1_dropShadow\"\n  }), /*#__PURE__*/React.createElement(\"feBlend\", {\n    mode: \"normal\",\n    in: \"SourceGraphic\",\n    in2: \"effect1_dropShadow\",\n    result: \"shape\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint3_linear\",\n    x1: 39.6889,\n    y1: 4,\n    x2: 39.6889,\n    y2: 66,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#9400D3\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#4B0082\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDisplayApp);\nexport default __webpack_public_path__ + \"static/media/display-app.ab435327.svg\";\nexport { ForwardRef as ReactComponent };","export const pwList = [\n  \"123456\",\n  \"123456789\",\n  \"qwerty\",\n  \"password\",\n  \"1234567\",\n  \"12345678\",\n  \"12345\",\n  \"iloveyou\",\n  \"111111\",\n  \"123123\",\n  \"abc123\",\n  \"qwerty123\",\n  \"1q2w3e4r\",\n  \"admin\",\n  \"qwertyuiop\",\n  \"654321\",\n  \"555555\",\n  \"lovely\",\n  \"7777777\",\n  \"welcome\",\n  \"888888\",\n  \"princess\",\n  \"dragon\",\n  \"password1\",\n  \"123qwe\",\n  \"666666\",\n  \"1qaz2wsx\",\n  \"333333\",\n  \"michael\",\n  \"sunshine\",\n  \"liverpool\",\n  \"777777\",\n  \"1q2w3e4r5t\",\n  \"donald\",\n  \"freedom\",\n  \"football\",\n  \"charlie\",\n  \"letmein\",\n  \"!@#$%^&*\",\n  \"secret\",\n  \"aa123456\",\n  \"987654321\",\n  \"zxcvbnm\",\n  \"passw0rd\",\n  \"bailey\",\n  \"nothing\",\n  \"shadow\",\n  \"121212\",\n  \"biteme\",\n  \"ginger\",\n];\n","//const phoneUtil = require('google-libphonenumber').PhoneNumberUtil.getInstance();\n//const PNF = require('google-libphonenumber').PhoneNumberFormat;\n//const PNT = require('google-libphonenumber').PhoneNumberType;\n\nimport { pwList } from \"./passwords\";\n/*\nimport {\n  PhoneNumberUtil,\n  PhoneNumberFormat,\n  PhoneNumberType,\n} from \"google-libphonenumber\";\n*/\n\n//import countries from \"../countries\";\n\nimport {\n  getCountries,\n  getCountryCallingCode,\n  isValid,\n  parsePhoneNumber,\n} from \"libphonenumber-js\";\nconst countries = require(\"i18n-iso-countries\");\ncountries.registerLocale(require(\"i18n-iso-countries/langs/en.json\"));\n\n// eslint-disable-next-line\nconst emailRegex = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n\nexport function validEmail(email) {\n  return emailRegex.test(String(email).toLowerCase());\n}\nexport function lowerCaseChars(str) {\n  const TestRegex = new RegExp(\"(?=.*[a-z])\");\n  return TestRegex.test(String(str));\n}\nexport function upperCaseChars(str) {\n  const TestRegex = new RegExp(\"(?=.*[A-Z])\");\n  return TestRegex.test(String(str));\n}\nexport function digitChars(str) {\n  const TestRegex = new RegExp(\"(?=.*[0-9])\");\n  return TestRegex.test(String(str));\n}\nexport function onlyDigitChars(str) {\n  const TestRegex = new RegExp(\"^[0-9]+$\");\n  return TestRegex.test(String(str));\n}\n\nexport function hasSpaces(str) {\n  return /\\s/.test(String(str));\n}\n\nexport function hasNonChars(str) {\n  return /\\W/.test(String(str));\n}\n\nexport function checkPwList(str) {\n  return pwList.some(c => {\n    return String(str).indexOf(c) > -1;\n  });\n}\n\nexport function validUsername(username, requiredLength) {\n  //console.log(\"CHECKING \", username, username.length);\n  if (hasSpaces(username)) {\n    return \"SPACES\";\n  }\n  if (username.length < requiredLength) {\n    return \"LENGTH\";\n  }\n  /*\n  if (username === \"tero\") {\n    return \"EXISTS\";\n  }\n  */\n  return \"\";\n}\nexport function checkPassword(password, requiredLength, checkList) {\n  let checkResult = [false, false, false, false, false];\n\n  checkResult[0] = password.length >= requiredLength;\n\n  // Is not commonly used\n  checkResult[4] = checkResult[0] && !checkPwList(password);\n\n  checkResult[1] = lowerCaseChars(password) && upperCaseChars(password);\n  checkResult[2] =\n    digitChars(password) && hasNonChars(password) && !hasSpaces(password);\n\n  // Does not contain your name or email address\n  const listResult = checkList.some(c => {\n    return String(password).indexOf(c) > -1;\n  });\n  console.log(listResult, checkList, password);\n  checkResult[3] = checkResult[0] && !listResult;\n\n  return checkResult;\n}\n\nexport function countryList() {\n  // there are unsupported codes... https://en.wikipedia.org/wiki/List_of_country_calling_codes\n  // like +1 671   Guam\n  /*\n  const phoneUtil = PhoneNumberUtil.getInstance();\n  //console.log(phoneUtil.getSupportedCallingCodes());\n  //console.log(phoneUtil.getRegionCodeForCountryCode(358));\n\n  //const countryCodes = phoneUtil.getSupportedRegions();\n  const countryCodes = phoneUtil.getSupportedCallingCodes();\n  const regionNamesInEnglish = new Intl.DisplayNames([\"en\"], {\n    type: \"region\",\n  });\n\n\n  //console.log(\"COUNTRY CODES \", countryCodes);\n  let countries = [];\n  countryCodes.forEach((code) => {\n    //return regionNamesInEnglish.of(code);\n    //return phoneUtil.getCountryCodeForRegion(code);\n    const regionCode = phoneUtil.getRegionCodeForCountryCode(code);\n    if (regionCode !== \"001\") {\n      const regionName = regionNamesInEnglish.of(regionCode);\n      countries.push({\n        countryCode: code,\n        regionCode: regionCode,\n        regionName: regionName,\n      });\n    }\n  });\n  */\n\n  const countryList = getCountries();\n  //console.log(countryList);\n\n  //const staticCountryList = countries;\n\n  //return staticCountryList;\n  let unSupportedRegionCodes = [];\n\n  let supportedCountries = [];\n  countryList.forEach(c => {\n    //console.log(c, countries.getName(c, \"en\", { select: \"official\" }));\n    const cName = countries.getName(c, \"en\", { select: \"official\" });\n    if (typeof cName !== \"undefined\") {\n      supportedCountries.push({\n        countryCode: getCountryCallingCode(c),\n        regionCode: c,\n        regionName: cName,\n      });\n    } else {\n      unSupportedRegionCodes.push(c);\n    }\n  });\n  console.log(\"COUNTRIES \", supportedCountries);\n  console.log(\"UNSUPPORTED COUNTRIES \", unSupportedRegionCodes);\n  return supportedCountries;\n}\n\nexport function addRegionCode(region, phone) {\n  let phoneNumber = phone;\n  if (phoneNumber.startsWith(\"0\")) {\n    phoneNumber = phoneNumber.substr(1);\n  }\n  phoneNumber = region + phoneNumber;\n  return phoneNumber;\n}\n\nexport function isValidNumber(phoneNumber) {\n  // note phone number checking has to support both region/country calling codes and national conventions for writing tel numbers...\n  // also remember this national writing rules changes frequently...\n\n  //https://en.wikipedia.org/wiki/List_of_country_calling_codes\n  //https://en.wikipedia.org/wiki/National_conventions_for_writing_telephone_numbers\n\n  //let isValid = false;\n  let result = {};\n  try {\n    /*\n    const phoneUtil = PhoneNumberUtil.getInstance();\n    const number = phoneUtil.parseAndKeepRawInput(phoneNumber);\n    console.log(\"PhoneUtil \", number);\n    isValid = phoneUtil.isValidNumber(number);\n    if (isValid) {\n      //const PNF = PhoneNumberFormat.PNF;\n      //const PNT = PhoneNumberType.PNT;\n      result.countryCode = number.getCountryCode();\n      result.regionCode = phoneUtil.getRegionCodeForNumber(number);\n      result.E164 = phoneUtil.format(number, PhoneNumberFormat.E164);\n      const numberType = phoneUtil.getNumberType(number);\n      const possibleTypes = Object.keys(PhoneNumberType);\n      for (let i = 0; i < possibleTypes.length; i++) {\n        if (PhoneNumberType[possibleTypes[i]] === numberType) {\n          result.numberType = possibleTypes[i];\n          break;\n        }\n      }\n    }\n    */\n    /*\n    console.log(phoneUtil.format(number, PNF.INTERNATIONAL));\n    // => +1 202-456-1414\n\n    PhoneNumberType.FIXED_LINE\n    PhoneNumberType.MOBILE\n    PhoneNumberType.FIXED_LINE_OR_MOBILE\n    PhoneNumberType.TOLL_FREE\n    PhoneNumberType.PREMIUM_RATE\n    PhoneNumberType.SHARED_COST\n    PhoneNumberType.VOIP\n    PhoneNumberType.PERSONAL_NUMBER\n    PhoneNumberType.PAGER\n    PhoneNumberType.UAN\n    PhoneNumberType.VOICEMAIL\n    PhoneNumberType.UNKNOWN;*/\n\n    const parsedPhoneNumber = parsePhoneNumber(phoneNumber);\n    console.log(\"PHONE CHECK \", phoneNumber);\n    console.log(\"PHONE CHECK 2 \", parsedPhoneNumber);\n    if (parsedPhoneNumber.hasOwnProperty(\"country\")) {\n      result = {\n        countryCode: parsedPhoneNumber.country,\n        regionCode: parsedPhoneNumber.countryCallingCode,\n        number: parsedPhoneNumber.number,\n        nationalNumber: parsedPhoneNumber.nationalNumber,\n      };\n    }\n  } catch (e) {\n    console.log(\"ERR\", e);\n    return {};\n  }\n\n  return result;\n}\n\n/*\nmodule.exports = {\n    randomPass: function() {\n    }\n}            \n*/\n/*\nfunction isValidNumber(phoneNumber) {\n      let isValid=false;\n      try {\n          //const number = phoneUtil.parseAndKeepRawInput(phone);\n          isValid=phoneUtil.isValidNumber(phoneNumber);\n      } catch(e) {\n          console.log('ERR',e);\n          return e;\n      }\n  \n      return isValid;\n  \n  }\n*/\n\n/*\n            PhoneNumberType.FIXED_LINE\n            PhoneNumberType.MOBILE\n            PhoneNumberType.FIXED_LINE_OR_MOBILE\n            PhoneNumberType.TOLL_FREE\n            PhoneNumberType.PREMIUM_RATE\n            PhoneNumberType.SHARED_COST\n            PhoneNumberType.VOIP\n            PhoneNumberType.PERSONAL_NUMBER\n            PhoneNumberType.PAGER\n            PhoneNumberType.UAN\n            PhoneNumberType.VOICEMAIL\n            PhoneNumberType.UNKNOWN;*/\n/*\ncheckNumber: async function(phone) {\n    let result={};\n    try {\n        const number = phoneUtil.parseAndKeepRawInput(phone);\n        const isValid=isValidNumber(number);\n        if (isValid) {\n            result.countryCode=number.getCountryCode();\n            result.regionCode=phoneUtil.getRegionCodeForNumber(number);\n            result.E164=phoneUtil.format(number, PNF.E164);\n            const numberType=phoneUtil.getNumberType(number);\n            const possibleTypes=Object.keys(PNT);\n            for (let i=0;i<possibleTypes.length;i++) {\n                if (PNT[possibleTypes[i]]==numberType) {\n                    result.numberType=possibleTypes[i];\n                    break;\n                }\n            }\n           \n\n        }\n\n    } catch(e) {\n        console.log('ERR',e);\n        return Promise.reject(e);\n    }\n    return Promise.resolve(result)\n}\n*/\n","import {\n  checkUsername,\n  getVerification,\n  getCountryCode,\n  checkCognitoAttribute,\n  getInstalledApps,\n  getPrifinaApps,\n  getPrifinaWidgets,\n  getPrifinaUser,\n} from \"./queries\";\nimport {\n  verifyCode,\n  sendVerification,\n  addSearchResult,\n  addSearchKey,\n  createNotification,\n  updateActivity,\n  installWidget,\n} from \"./mutations\";\n\n//import Amplify, { Auth, API } from \"aws-amplify\";\n\n/*\ninput SearchKeyInput {\n\towner: String!\n\tsearchKey: String\n\trole: String\n}\n\ninput SearchResultInput {\n\towner: String!\n\tsearchKey: String!\n\tselectedResult: AWSJSON\n}\n*/\n\nexport const installWidgetMutation = (API, id, widget) => {\n  return API.graphql({\n    query: installWidget,\n    variables: { id: id, widget: widget },\n    authMode: \"AWS_IAM\",\n  });\n};\nexport const updateActivityMutation = (API, id, app) => {\n  return API.graphql({\n    query: updateActivity,\n    variables: { id: id, activeApp: app },\n    authMode: \"AWS_IAM\",\n  });\n};\nexport const createNotificationMutation = (API, input) => {\n  return API.graphql({\n    query: createNotification,\n    variables: { input: input },\n    authMode: \"AWS_IAM\",\n  });\n};\nexport const addSearchResultMutation = (API, input) => {\n  return API.graphql({\n    query: addSearchResult,\n    variables: { input: input },\n    authMode: \"AWS_IAM\",\n  });\n};\nexport const addSearchKeyMutation = (API, input) => {\n  return API.graphql({\n    query: addSearchKey,\n    variables: { input: input },\n    authMode: \"AWS_IAM\",\n  });\n};\nexport const sendVerificationMutation = (API, subject, message) => {\n  return API.graphql({\n    query: sendVerification,\n    variables: { subject: subject, message: message },\n    authMode: \"AWS_IAM\",\n  });\n};\n\nexport const verifyCodeMutation = (API, userCode) => {\n  return API.graphql({\n    query: verifyCode,\n    variables: { user_code: userCode },\n    authMode: \"AMAZON_COGNITO_USER_POOLS\",\n  });\n};\n\nexport const getVerificationQuery = (API, userCode) => {\n  return API.graphql({\n    query: getVerification,\n    variables: { user_code: userCode },\n    authMode: \"AWS_IAM\",\n  });\n};\n\nexport const getCountryCodeQuery = API => {\n  return API.graphql({\n    query: getCountryCode,\n    authMode: \"AWS_IAM\",\n  });\n};\nexport const getHeaderQuery = API => {\n  return API.graphql({\n    query: getHeader,\n    authMode: \"AWS_IAM\",\n  });\n};\nexport const checkUsernameQuery = (API, userName) => {\n  return API.graphql({\n    query: checkUsername,\n    variables: { userName: userName },\n    authMode: \"AWS_IAM\",\n  });\n};\n\nexport const checkCognitoAttributeQuery = (\n  API,\n  attrName,\n  attrValue,\n  poolID,\n) => {\n  return API.graphql({\n    query: checkCognitoAttribute,\n    variables: { attrName: attrName, attrValue: attrValue, poolID: poolID },\n    authMode: \"AWS_IAM\",\n  });\n};\n\nexport const getInstalledAppsQuery = (API, userName) => {\n  return API.graphql({\n    query: getInstalledApps,\n    variables: { id: userName },\n    authMode: \"AWS_IAM\",\n  });\n};\n\nexport const getPrifinaAppsQuery = (API, id) => {\n  return API.graphql({\n    query: getPrifinaApps,\n    variables: { id: id },\n    authMode: \"AWS_IAM\",\n  });\n};\n\nexport const getPrifinaWidgetsQuery = (API, id) => {\n  return API.graphql({\n    query: getPrifinaWidgets,\n    variables: { id: id },\n    authMode: \"AWS_IAM\",\n  });\n};\n\nexport const getPrifinaUserQuery = (API, id) => {\n  console.log(\"API \", id);\n  return API.graphql({\n    query: getPrifinaUser,\n    variables: { id: id },\n    authMode: \"AWS_IAM\",\n  });\n};\n","var _path, _path2, _path3, _path4, _path5, _path6, _path7, _path8;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPrifinaText(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 69,\n    height: 23,\n    viewBox: \"0 0 69 23\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24.7483 0.0828015C24.2499 0.272148 23.9451 0.534319 23.7806 0.932431C23.3742 1.91315 24.7144 2.94727 25.8466 2.52002C26.6449 2.21901 27.061 1.46648 26.7562 0.869316C26.4223 0.209032 25.4353 -0.174515 24.7483 0.0828015Z\",\n    fill: \"#1E1D1D\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M37.5119 0.0876574C37.149 0.223598 36.8635 0.427509 36.699 0.675116L36.5539 0.893592L36.3845 0.723666C36.1233 0.461494 35.9007 0.412944 35.0104 0.422654C32.18 0.456639 30.6995 1.1946 30.0705 2.8793C29.9205 3.27741 29.814 3.97168 29.7898 4.70479L29.7657 5.31167L29.0254 5.33594C28.3916 5.35536 28.2561 5.37478 28.1109 5.46217C27.6513 5.7292 27.5352 6.42832 27.8835 6.82158C28.1351 7.11288 28.2512 7.14686 29.0399 7.176L29.756 7.20513L29.7657 12.2301C29.7802 16.8715 29.785 17.2647 29.8624 17.4055C30.056 17.76 30.443 17.9396 30.922 17.8959C31.2607 17.8668 31.4542 17.7648 31.6284 17.5366L31.7639 17.3618L31.7881 7.18571L35.2475 7.15658L35.4653 7.0352C36.1281 6.66622 36.012 5.5884 35.2862 5.38935C35.175 5.35536 34.4492 5.33594 33.438 5.33594H31.7736L31.8026 4.66595C31.8365 3.95226 31.9526 3.37937 32.1316 3.05893C32.2623 2.82104 32.63 2.60256 33.0945 2.47633C33.588 2.34524 33.7815 2.32582 34.9572 2.28213C36.041 2.24329 36.1571 2.21901 36.4329 1.95684L36.5587 1.84032L36.6507 2.01025C36.7619 2.21901 36.9458 2.34039 37.4103 2.50061C38.0006 2.70452 38.6005 2.63655 39.1037 2.30155C39.365 2.12677 39.6263 1.63641 39.6263 1.31112C39.6263 0.446929 38.4167 -0.252194 37.5119 0.0876574Z\",\n    fill: \"#1E1D1D\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0.628988 5.38935C0.372555 5.46703 0.193535 5.62239 0.091929 5.84086C0.00483837 6.03021 0 6.34579 0 14.1721C0 21.9984 0.00483837 22.314 0.091929 22.5033C0.251595 22.8529 0.638665 23.0374 1.11766 22.9937C1.4757 22.9645 1.74665 22.8092 1.8918 22.5519L2.00792 22.3528L2.03695 17.9153L5.43349 17.8959C9.05259 17.8716 9.02356 17.8765 9.94769 17.6192C11.3024 17.2453 12.2266 16.3568 12.6427 15.0217C12.8797 14.2546 12.8943 14.0653 12.8943 11.5989C12.8943 9.5938 12.8846 9.23938 12.8072 8.87525C12.512 7.40418 11.8685 6.48173 10.7654 5.94282C9.88963 5.52043 9.13484 5.38449 7.47528 5.35051C4.78999 5.29225 3.48847 5.60782 2.2692 6.60796L2.04663 6.78759L2.0176 6.37492C1.98373 5.8797 1.86761 5.64181 1.58699 5.48159C1.36442 5.35536 0.89026 5.31167 0.628988 5.38935ZM9.13484 7.32165C9.89447 7.51585 10.3202 7.83628 10.5912 8.40917C10.8573 8.98207 10.8621 9.04033 10.8621 11.6475C10.8621 13.8322 10.8525 14.0798 10.7751 14.3663C10.5283 15.245 10.0832 15.6723 9.1542 15.9345C8.79132 16.0364 8.68488 16.0364 5.4093 16.0558L2.03212 16.0704V12.5068C2.03212 8.43345 2.01276 8.65192 2.44338 8.21983C2.96108 7.70034 3.90456 7.37991 5.41897 7.20998C5.5109 7.20027 6.29472 7.19542 7.16079 7.20513C8.57843 7.21484 8.77197 7.22455 9.13484 7.32165Z\",\n    fill: \"#1E1D1D\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16.0005 5.3942C15.7537 5.46217 15.507 5.70492 15.4392 5.94282C15.4005 6.07876 15.386 7.77316 15.386 11.6717C15.386 17.0026 15.3909 17.2162 15.4779 17.4104C15.7731 18.0513 16.9682 18.0852 17.3117 17.4589C17.3891 17.3181 17.3939 16.9929 17.423 13.638C17.4423 10.4434 17.4568 9.94336 17.5246 9.75401C17.8439 8.85583 18.4003 8.2441 19.2809 7.812C20.0599 7.42846 20.8969 7.24397 22.0388 7.20027C22.4113 7.18571 22.8274 7.14201 22.9581 7.10803C23.3645 6.99636 23.5629 6.70991 23.5629 6.25354C23.5629 5.80688 23.3306 5.4913 22.9194 5.37964C22.571 5.28739 21.3711 5.38449 20.5631 5.57869C19.3777 5.86028 18.2697 6.52057 17.6359 7.3265L17.4423 7.57411L17.4181 6.78274C17.3843 5.85057 17.3359 5.69521 16.9972 5.49616C16.7553 5.35536 16.3053 5.30681 16.0005 5.3942Z\",\n    fill: \"#1E1D1D\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24.9176 5.3942C24.6612 5.46703 24.4531 5.65152 24.366 5.8797C24.2935 6.06905 24.2886 6.63223 24.2983 11.7252L24.3128 17.3618L24.4483 17.5366C24.6321 17.7794 24.8305 17.8716 25.2176 17.9007C25.653 17.9299 26.0014 17.7745 26.1804 17.4638L26.2965 17.255V11.6232C26.2965 6.39434 26.2917 5.98166 26.2143 5.84086C25.9869 5.42333 25.4595 5.23884 24.9176 5.3942Z\",\n    fill: \"#1E1D1D\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M37.628 5.40877C37.4103 5.48159 37.2313 5.63695 37.12 5.84572C37.0426 5.9768 37.0377 6.47202 37.0377 11.6232V17.255L37.1684 17.4784C37.3329 17.7551 37.6474 17.9105 38.0393 17.9105C38.5134 17.9056 38.7941 17.7454 38.9537 17.4007C39.0408 17.2162 39.0457 16.9395 39.0457 11.6232C39.0457 6.28267 39.0408 6.03021 38.9537 5.84086C38.9053 5.7292 38.7989 5.59811 38.7263 5.54471C38.4409 5.3408 37.9715 5.28254 37.628 5.40877Z\",\n    fill: \"#1E1D1D\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M42.7083 5.40877C42.4906 5.48159 42.3116 5.63695 42.2003 5.84572C42.1229 5.9768 42.118 6.47202 42.118 11.6232V17.255L42.2341 17.4638C42.4567 17.8473 43.0567 18.0221 43.5598 17.8425C43.8018 17.7551 43.9276 17.6386 44.034 17.4007C44.1211 17.2162 44.1259 16.9831 44.1259 13.1234C44.1259 8.46743 44.1066 8.7296 44.5275 8.26838C44.9049 7.85084 45.471 7.58382 46.4 7.38476C47.1838 7.21484 47.895 7.16629 49.2643 7.19542C50.59 7.21969 50.8706 7.25368 51.4464 7.47215C51.8093 7.60809 52.2399 8.0062 52.4141 8.36062C52.7141 8.97235 52.7044 8.86554 52.7334 13.2739C52.7576 16.8909 52.7721 17.3181 52.8398 17.4492C53.0092 17.76 53.3043 17.9056 53.7591 17.9105C54.0639 17.9105 54.4462 17.7454 54.5913 17.5463C54.7655 17.3036 54.78 16.9783 54.7558 13.1331C54.7365 9.03061 54.7268 8.91895 54.4365 8.06932C53.8704 6.42347 52.627 5.60297 50.3432 5.37964C49.6804 5.31652 47.837 5.34565 47.2757 5.43304C46.0855 5.61753 45.1081 6.04963 44.3872 6.70991L44.1259 6.94781V6.49629C44.1259 5.9768 44.034 5.70492 43.8066 5.54471C43.5211 5.3408 43.0518 5.28254 42.7083 5.40877Z\",\n    fill: \"#1E1D1D\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M60.8957 5.43789C58.8636 5.60782 57.5476 6.29238 57.0008 7.47701C56.7057 8.11301 56.667 8.54997 56.8847 8.79272C57.146 9.09373 57.9105 9.19083 58.2927 8.97721C58.4814 8.8704 58.5346 8.80243 58.8733 8.20526C59.1539 7.71976 59.5652 7.47701 60.3829 7.32165C60.799 7.23911 64.1278 7.20998 64.6842 7.27795C66.2083 7.4673 66.8034 8.05961 66.9824 9.54525L67.0163 9.79771L63.4939 9.81713C60.4167 9.83169 59.9184 9.84626 59.5458 9.91908C57.4218 10.3318 56.4638 11.5601 56.4638 13.8662C56.4638 16.2015 57.3637 17.3958 59.4636 17.8425C60.0297 17.9639 62.8311 17.993 63.5859 17.891C64.9793 17.6968 65.8938 17.2987 66.7066 16.5365L67.0114 16.25V16.7258C67.0114 17.323 67.0647 17.5221 67.2775 17.7114C67.7372 18.1144 68.6178 18.0124 68.8936 17.5221L69 17.3327L68.9806 13.1914C68.9661 9.17626 68.9613 9.03547 68.8645 8.6325C68.3759 6.6468 67.1179 5.68065 64.6938 5.43789C64.1229 5.37478 61.6118 5.37963 60.8957 5.43789ZM67.0114 12.6962C67.0114 13.7011 67.0066 13.7643 66.8856 14.0944C66.7115 14.5799 66.576 14.7984 66.2373 15.1091C65.7148 15.5946 64.9406 15.9005 63.8762 16.0413C63.1069 16.1432 60.3974 16.1432 59.87 16.0413C58.9072 15.8568 58.612 15.4975 58.4862 14.3517C58.4185 13.774 58.4862 13.07 58.6459 12.633C58.8443 12.099 59.2942 11.798 60.0345 11.7009C60.2135 11.6766 61.8537 11.6572 63.6875 11.6523L67.0114 11.6475V12.6962Z\",\n    fill: \"#1E1D1D\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPrifinaText);\nexport default __webpack_public_path__ + \"static/media/prifina-text.b1cc116a.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { Box } from \"@blend-ui/core\";\n\nimport { ReactComponent as PrifinaLogoImage } from \"../assets/prifina.svg\";\nexport const PrifinaLogo = props => (\n  <Box mt={16}>\n    <PrifinaLogoImage width={\"69px\"} height={\"27px\"} {...props} />\n  </Box>\n);\n","import { useRef, useEffect } from \"react\";\n\n// Gneral Focus Hook\nexport const useFocus = () => {\n  const htmlElRef = useRef(null);\n  const setFocus = () => {\n    htmlElRef.current && htmlElRef.current.focus();\n  };\n\n  return [htmlElRef, setFocus];\n};\n\nexport function useIsMountedRef() {\n  const isMountedRef = useRef(null);\n  useEffect(() => {\n    isMountedRef.current = true;\n    return () => (isMountedRef.current = false);\n  });\n  return isMountedRef;\n}\n","export const getPrifinaUser = `query prifinaUser($id:String!){\n        getPrifinaUser(id: $id) {\n          installedApps\n          installedWidgets\n          appProfile\n          id\n\n        }\n      }`;\n\nexport const getPrifinaWidgets = `query prifinaWidgets {\n        getPrifinaApp(id: \"WIDGETS\") {\n          widgets\n        }\n      }`;\n\nexport const getPrifinaApps = `query prifinaApps {\n  getPrifinaApp(id: \"APPS\") {\n    apps\n  }\n}`;\n\nexport const getInstalledApps = `query getPrifinaUser($id: String!) {\n  getPrifinaUser(id: $id) {\n    installedApps\n  }\n}\n`;\n\nexport const checkUsername = `query checkUsername($userName: String!) {\n  checkUsername(userName: $userName)\n}\n`;\nexport const checkCognitoAttribute = `query checkCognitoAttribute($attrName: String!,$attrValue: String!,$poolID: String!) {\n  checkCognitoAttribute(attrName: $attrName,attrValue: $attrValue,poolID: $poolID)\n}\n`;\n\nexport const getVerification = `query getVerification($user_code: String!) {\n  getVerification(user_code: $user_code) {\n    user_code\n  }\n}\n`;\n\nexport const getCountryCode = `query getCountryCode {\n  getCountryCode\n}\n`;\nexport const getHeader = `query getHeader {\n  getHeader {\n    country\n    desktop\n    language\n    smarttv\n    mobile\n    tablet\n  }\n}\n`;\n\nexport const listNotifications = `query notificationList($filter: TableNotificationFilterInput,$sortDirection:String,$limit:Int,$nextToken:String) {\n  listNotifications(filter: $filter,sortDirection:$sortDirection,limit:$limit,nextToken:$nextToken}) {\n    items {\n      body\n      createdAt\n      notificationId\n      owner\n      status\n      type\n    }\n    nextToken\n  }\n}`;\n\nexport const getNotificationCount = `query notificationCount($filter:TableNotificationFilterInput){\n  getNotificationCount(filter: $filter)\n}`;\n\nexport const getAddressBook = `query addressBook($id: String!) {\n  getUserAddressBook(id: $id) {\n    id\n    addressBook\n  }\n}`;\n\nexport const listNotificationsByDate = `query listNotifications($owner: String!,$filter:TableNotificationByDateFilterInput,$sortDirection:String,$limit:Int,$nextToken:String) {\n  listNotificationsByDate(owner: $owner, filter: $filter,sortDirection:$sortDirection,limit:$limit,nextToken:$nextToken) {\n    items {\n      body\n      createdAt\n      notificationId\n      owner\n      status\n      type\n      updatedAt\n      sender\n    }\n  }\n}`;\n\nexport const listWaiting = `query waitingList($filter:TableWaitingFilterInput,$sortDirection:String,$limit:Int,$nextToken:String) {\n  listWaiting(filter: $filter, limit: $limit, nextToken: $nextToken,sortDirection:$sortDirection) {\n    items {\n      createdAt\n      endpoint\n      name\n      senderKey\n    }\n    nextToken\n  }\n}`;\n\n/*\n\nquery MyQuery {\n  getCountryCode\n}\n\nquery MyQuery {\n  getVerification(user_code: \"55186bcc-4728-4512-aab1-a8f5f8db9b21##email#177143\") {\n    user_code\n  }\n}\n\nexport const getSchemaTypes = `query listTypesBySchema($schemaId: ID!, $nextToken: String) {\n  listTypesBySchema(schemaId: $schemaId, nextToken: $nextToken) {\n    items {\n      id\n      name\n      alternateName\n      description\n      alternateDescription\n      type\n      lockName\n      fields\n    }\n    nextToken\n  }\n}\n`;\n\nexport const getAllDataModels = `query listDataModels($filter:TableDataModelsFilterInput) {\n    listDataModels(filter:$filter) {\n      items {\n        uuid\n        name\n        description\n        creator\n        owner\n        created\n        modified\n        status\n        versions\n        imported\n      }\n    }\n  }\n  `;\n\nexport const getDataModel = `query getDataModels($uuid: String!) {\n    getDataModels(uuid: $uuid) {\n        uuid\n        name\n        description\n        creator\n        owner\n        created\n        modified\n        status\n        major\n        minor\n        organization\n        draftTypes\n        versions\n        imported\n    }\n  }\n  `;\nexport const getDraftDataModel = `query getDataModels($uuid: String!) {\n    getDataModels(uuid: $uuid) {\n        uuid\n        draftTypes\n    }\n  }\n  `;\n */\n/*\nquery getDataModels {\n  getDataModels(uuid:\"unique-id\") {\n      uuid\n      name\n      description\n      creator\n      owner\n      created\n      modified\n      status\n      organization\n  }\n}    \n*/\n/*\nexport const getAlbum = `\n  query GetAlbum($id: ID!) {\n    getAlbum(id: $id) {\n      id\n      name\n      photos {\n        items {\n          id\n          albumId\n          bucket\n          owner\n        }\n        nextToken\n      }\n      owner\n    }\n  }\n`;\n*/\n/*\nconst modelfilter={\n    \"filter\":{\n      \"owner\":{\"eq\":\"TERO\"}\n    }\n  }\n*/\n","const strings = {\n  en: {\n    cancelButton: \"Cancel\",\n    nextButton: \"Next\",\n    signInButton: \"Sign In\",\n    declineButton: \"Decline\",\n    approveButton: \"Approve\",\n    accountButton: \"Creating account\",\n    backButton: \"Back\",\n    verifyButton: \"Verify\",\n    confirmButton: \"Confirm\",\n    loginButton: \"Login\",\n    logoutButton: \"Logout\",\n    registerButton: \"Register\",\n    loginLink: \"Login\",\n    /* Create account */\n    invalidEntry: \"Value is required\",\n    invalidPhoneNumber: \"Invalid or existing phone number\",\n    invalidRegion: \"Select region code\",\n    invalidEmail: \"Invalid or existing email\",\n    usernameExists: \"Invalid username.\",\n    usernameError: \"Username is too short (under {{length}} characters)\",\n    usernameError2: \"Spaces are not allowed in the username\",\n    invalidPassword: \"Password confirmation failed\",\n    passwordQuality: \"Password conditions failed\",\n    createAccountTitle: \"Create an account\",\n    firstNamePlaceholder: \"First Name\",\n    lastNamePlaceholder: \"Last Name\",\n    usernamePlaceholder: \"Username\",\n    emailPlaceholder: \"Email\",\n    emailPrompt: \"This email will be used for two-step verification.\",\n    phoneNumberPlaceholder: \"Phone Number\",\n    phonePrompt: \"This number will be used for two-step verification.\",\n    passwordPlaceholder: \"Password\",\n\n    confirmPlaceholder: \"Confirm Password\",\n    existingAccount: \"Have an account?\",\n    acceptTerms: \"Please approve terms of use to continue.\",\n\n    /* Landing page */\n    loginWelcomeMessage: \"My Prifina\",\n    loginLandingPage: \"Login to access your personal data cloud.\",\n    welcomeMessage: \"Hello\",\n    landingPage:\n      \"We are a team working on the future of personal applications. That's why we created this personal cloud environment that will help you implement your boldest ideas while allowing individuals to keep their data.\",\n    landingPageInfo: \"Fill in the form on the right\",\n    /* Terms & conditions */\n    termsTitle: \"Prifina's Terms of Use\",\n    termsLastUpdated: \"Last updated: October, 2020\",\n    agreeementTitle: \"Agreement\",\n    agreementText:\n      \"By using or visiting any of Prifinas websites, or any of our products, software, or applications, you signify your agreement to these Terms.\",\n    serviceTitle: \"The Service\",\n    serviceText:\n      \"Some of the things you can do through the Service are listed below.\",\n    accountsTitle: \"Accounts\",\n    accountsText:\n      \"To access Prifinas Services, you will need to create an account (Account).\",\n    dataTitle: \"Your Data\",\n    dataText:\n      \"Your data is fully under your control. Only you can access your data and your data profiles. Third parties can access your data only with your permission.\",\n    materialsTitle: \"Third Party Materials\",\n    materialsText:\n      \"Certain portions of the Service may include, display, or make available content, data, information, applications, or materials from third parties (Third-Party Materials).\",\n\n    /* Phone verification */\n    codeDigitsError: \"Only numbers are allowed\",\n    codeLengthError: \"The code must be six digits long\",\n    verificationTitle: \"Setup your two-step verification method\",\n    phoneVerificationTitle: \"Setup your phone verification\",\n    phoneVerificationText:\n      \"Please provide your email address and phone number in order to keep your account secure\",\n    phoneVerificatioSent: \"Phone number verification code was sent.\",\n    codePropmt: \"Enter the code here\",\n    codeMissing: \"Didn't receive the code?\",\n    sendAgainLinkText: \"Click here.\",\n    invalidCode: \"Incorrect code, please enter the correct code.\",\n    verifySUpportLink: \"Still didn't receive the code\",\n    /* Email verification */\n    emailVerificationTitle: \"Setup email verification\",\n    emailVerificationText:\n      \"Please provide your email address and phone number to keep your account secure\",\n    emailMissing: \"Didn't receive the code?\",\n    emailVerificatioSent: \"Email verification code was sent.\",\n    /* Decline dialog */\n    declineTitle: \"Decline Prifinas Terms of Use?\",\n    declineText:\n      \"By declining Prifina's Terms of Use you will not be able to use the Prifina application.\",\n    /* Login */\n    loginPage: \"Login to your account\",\n    invalidLogin: \"Incorrect username or password.\",\n    forgotUsername: \"Forgot username?\",\n    forgotPassword: \"Forgot password?\",\n    createAccount: \"Create account\",\n    confirmTitle: \"Secure login\",\n    authConfirmTitle: \"Enter authentication code\",\n    authConfirmationText:\n      \"We've sent you the authentication code. Please enter it below to login.\",\n    /* Logout dialog */\n    logoutTitle: \"Are you sure you want to sign out?\",\n    logoutText:\n      \"You are also logged out from your personal cloud and any local data apps open in this browser.\",\n    /* Reset Password */\n    resetPasswordTitle: \"Reset password code\",\n    resetPasswordText:\n      \"We have send you a code to your phone number and email address to reset your password.\",\n    sentCodeText:\n      \" We have send you a code to your phone number and email address to reset your password.\",\n  },\n};\n\nexport default { ...strings };\n","import { default as enStrings } from \"./locales/en\";\nimport { I18n } from \"aws-amplify\";\n\nconst i18nTranslate = {\n  init: function (lng = \"en\") {\n    I18n.putVocabularies(enStrings);\n    I18n.setLanguage(lng);\n  },\n\n  __: function (phrase, values) {\n    //console.log(\"OK \", phrase);\n    let res = I18n.get(phrase);\n    if (values && Object.keys(values).length > 0) {\n      Object.keys(values).forEach((v) => {\n        //console.log(\"REPLACE \", v);\n        const r = new RegExp(\"{{\" + v + \"}}\", \"g\");\n        //console.log(r);\n        res = res.replace(r, values[v]);\n      });\n      //console.log(\"REPLACE \", res);\n    }\n    return res;\n  },\n};\n\nexport default { ...i18nTranslate };\n","export const verifyCode = `mutation verifyCode($user_code: String!) {\n    verifyCode(user_code: $user_code) {\n        user_code\n    }\n  }\n  `;\nexport const sendVerification = `mutation sendVerification($subject: String!,$message:String!) {\n    sendVerification(subject: $subject,message: $message)\n  }\n  `;\n\nexport const addSearchResult = `mutation searchResult($input:SearchResultInput) {\n  addSearchResult(input: $input)\n}`;\n\nexport const addSearchKey = `mutation searchKey($input:SearchKeyInput) {\n  addSearchKey(input: $input)\n}`;\n\nexport const createNotification = `mutation newNotification($input: NotificationInput!) {\n  createNotification(input: $input) {\n    body\n    createdAt\n    notificationId\n    owner\n    status\n    type\n  }\n}`;\n\nexport const addNotification = `mutation addNotification($input: NotificationInput!) {\n  addNotification(input: $input) {\n    notificationId\n    owner\n  }\n}`;\n\nexport const updateNotificationStatus = `mutation updateStatus($notificationId: String!,$status:Int!) {\n  updateNotificationStatus(notificationId: $notificationId, status: $status) {\n    body\n    createdAt\n    notificationId\n    owner\n    status\n    type\n    updatedAt\n  }\n}`;\n\nexport const updateActivity = `mutation updateUserActivity($id: String!,$activeApp: String!) {\n \n  updateActivity( id: $id,activeApp: $activeApp)\n}`;\n\nexport const addWaiting = `mutation newWaiting($input: WaitingInput) {\n  waiting(input: $input) {\n    createdAt\n    endpoint\n    region\n    name\n    senderKey\n  }\n}`;\n\nexport const installWidget = `mutation addInstalledWidget($id:String!,$widget:WidgetInput) {\n  addInstalledWidgets(id: $id, widget: $widget) {\n    id\n    installedWidgets\n  }\n}`;\n","/* eslint-disable react/forbid-prop-types */\nimport React from \"react\";\n//import { withTheme } from \"styled-components\";\nimport { Box, Divider, Text, useTheme } from \"@blend-ui/core\";\nimport { CircularProgress, CircularProgressLabel } from \"@blend-ui/progress\";\nimport { ReactComponent as PrifinaLogo } from \"../assets/prifina.svg\";\nimport PropTypes from \"prop-types\";\n\nconst ProgressContainer = ({\n  title,\n  progress,\n  children,\n  mobileApp = false,\n  ...props\n}) => {\n  //console.log(\"CONTAINER \", props, title, progress);\n  const { colors } = useTheme();\n  //console.log(\"THEME \", colors);\n  return (\n    <React.Fragment>\n      {mobileApp && (\n        <Box\n          borderTopLeftRadius={\"8px\"}\n          borderTopRightRadius={\"8px\"}\n          width={\"100%\"}\n          height={\"100%\"}\n          backgroundColor={colors.baseWhite}\n          boxShadow={\"0px -4px 8px rgba(91, 92, 91, 0.15)\"}\n          mt={37}\n          {...props}\n        >\n          <Box textAlign={\"center\"} position=\"relative\" top={-37}>\n            <CircularProgress value={progress}>\n              <CircularProgressLabel>\n                <PrifinaLogo height={\"23px\"} width={\"28px\"} />\n              </CircularProgressLabel>\n            </CircularProgress>\n            <Text mt={15} textStyle={\"h3\"}>\n              {title}\n            </Text>\n          </Box>\n          {children}\n        </Box>\n      )}\n      {!mobileApp && (\n        <Box\n          borderRadius={\"20px\"}\n          width={\"421px\"}\n          minHeight={\"437px\"}\n          backgroundColor={colors.baseWhite}\n          pl={29}\n          pr={28}\n          pb={15}\n          mt={20}\n          {...props}\n        >\n          <Box textAlign={\"center\"} position=\"relative\" top={-37}>\n            <CircularProgress value={progress}>\n              <CircularProgressLabel>\n                <PrifinaLogo height={\"23px\"} width={\"28px\"} />\n              </CircularProgressLabel>\n            </CircularProgress>\n          </Box>\n\n          <Divider mt={-4}>\n            <Text textStyle={\"h6\"}>{title}</Text>\n          </Divider>\n          {children}\n        </Box>\n      )}\n    </React.Fragment>\n  );\n};\n\nProgressContainer.propTypes = {\n  title: PropTypes.string.isRequired,\n  mobileApp: PropTypes.bool,\n  progress: PropTypes.number.isRequired,\n\n  children: PropTypes.array.isRequired,\n};\nexport default ProgressContainer;\n","var map = {\n\t\"./AppMarket\": [\n\t\t444,\n\t\t5\n\t],\n\t\"./AppMarket.js\": [\n\t\t444,\n\t\t5\n\t],\n\t\"./ConfirmAuth\": [\n\t\t174\n\t],\n\t\"./ConfirmAuth.js\": [\n\t\t174\n\t],\n\t\"./CreateAccount\": [\n\t\t179\n\t],\n\t\"./CreateAccount.js\": [\n\t\t179\n\t],\n\t\"./DataConsole\": [\n\t\t439,\n\t\t6\n\t],\n\t\"./DataConsole.js\": [\n\t\t439,\n\t\t6\n\t],\n\t\"./DevConsole\": [\n\t\t440,\n\t\t7\n\t],\n\t\"./DevConsole.js\": [\n\t\t440,\n\t\t7\n\t],\n\t\"./DisplayApp\": [\n\t\t445,\n\t\t0,\n\t\t2,\n\t\t3\n\t],\n\t\"./DisplayApp.js\": [\n\t\t445,\n\t\t0,\n\t\t2,\n\t\t3\n\t],\n\t\"./EmailVerification\": [\n\t\t181\n\t],\n\t\"./EmailVerification.js\": [\n\t\t181\n\t],\n\t\"./FinalizingAccount\": [\n\t\t176\n\t],\n\t\"./FinalizingAccount.js\": [\n\t\t176\n\t],\n\t\"./Home\": [\n\t\t175\n\t],\n\t\"./Home.js\": [\n\t\t175\n\t],\n\t\"./Landing\": [\n\t\t116\n\t],\n\t\"./Landing.js\": [\n\t\t116\n\t],\n\t\"./Login\": [\n\t\t173\n\t],\n\t\"./Login.js\": [\n\t\t173\n\t],\n\t\"./Logout\": [\n\t\t438,\n\t\t1\n\t],\n\t\"./Logout.js\": [\n\t\t438,\n\t\t1\n\t],\n\t\"./MobileLogin\": [\n\t\t446,\n\t\t8\n\t],\n\t\"./MobileLogin.js\": [\n\t\t446,\n\t\t8\n\t],\n\t\"./PhoneVerification\": [\n\t\t172\n\t],\n\t\"./PhoneVerification.js\": [\n\t\t172\n\t],\n\t\"./ProfileCards\": [\n\t\t441,\n\t\t9\n\t],\n\t\"./ProfileCards.js\": [\n\t\t441,\n\t\t9\n\t],\n\t\"./Settings\": [\n\t\t442,\n\t\t4\n\t],\n\t\"./Settings.js\": [\n\t\t442,\n\t\t4\n\t],\n\t\"./SmartSearch\": [\n\t\t443,\n\t\t10\n\t],\n\t\"./SmartSearch.js\": [\n\t\t443,\n\t\t10\n\t],\n\t\"./TermsOfUse\": [\n\t\t180\n\t],\n\t\"./TermsOfUse.js\": [\n\t\t180\n\t],\n\t\"./display-app/components\": [\n\t\t433,\n\t\t0,\n\t\t11\n\t],\n\t\"./display-app/components.js\": [\n\t\t433,\n\t\t0,\n\t\t11\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 897;\nmodule.exports = webpackAsyncContext;","import { useState } from \"react\";\n\nexport function useFormFields(initialState) {\n  const [fields, setValues] = useState(initialState);\n\n  return [\n    fields,\n    function (event) {\n      //console.log(\"EVENT \", event);\n      //console.log(\"EVENT \", event.target.id);\n      setValues({\n        ...fields,\n        [event.target.id]: event.target.value,\n      });\n    },\n  ];\n}\n"],"sourceRoot":""}